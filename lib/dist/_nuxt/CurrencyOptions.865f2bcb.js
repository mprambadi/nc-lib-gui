import{_ as Z}from"./Tooltip.vue.971897f4.js";import{a1 as b,f as W,M as k,a5 as x,r as J,g as K,o as i,P as u,w as r,b as l,ae as T,O as e,c as A,U as O,V as U,a as R,d as B,t as D,Q as w,R as g,T as C}from"./entry.5958c07b.js";import{b as $}from"./EditOrAddProvider.vue.31035ffc.js";import{S as Q,_ as j}from"./index.5c6e4286.js";import{_ as q}from"./FormItem.0bbf90a3.js";import{a as z,_ as ee}from"./index.357e1bba.js";import"./Icon.vue.129448d5.js";import"./Button.vue.c3ca0e8f.js";import"./index.55641318.js";import"./debounce.7c24f171.js";import"./toNumber.e09cd85a.js";import"./isSymbol.114fe557.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./index.9b87fcff.js";import"./views.4281cbf1.js";import"./bases.e6c8e3c4.js";import"./index.0feaca99.js";import"./useSharedView.e8f68616.js";import"./validation.2de04583.js";import"./index.b06c8b67.js";import"./useSize.fad35fe8.js";import"./identity.34c7640e.js";import"./_flatRest.39582a58.js";import"./isPlainObject.ccda79fe.js";import"./_getPrototype.c1f3bae2.js";import"./FormItemContext.ddc65fa5.js";import"./vuedraggable.umd.00f5fccc.js";import"./v3-infinite-loading.660bd977.js";import"./index.dc13a4d6.js";import"./Dropdown.041b2468.js";import"./RightOutlined.7161c742.js";import"./index.ae235b22.js";import"./Input.dca3a2bc.js";import"./antInputDirective.8ac36ea7.js";import"./SearchOutlined.a517903c.js";import"./TextArea.9074ff05.js";import"./Password.f52125e7.js";import"./cell.165313cd.js";import"./index.5e1434a7.js";import"./Checkbox.2e7b0035.js";import"./createForOfIteratorHelper.33de41ba.js";import"./toArray.fd74ce6f.js";import"./isMobile.e2e89480.js";import"./useMemo.1dd071d8.js";import"./useState.b891c8bb.js";import"./CheckOutlined.1fe5f230.js";import"./Col.a97e3e76.js";import"./responsiveObserve.0baefba6.js";const X=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUP","CVE","CYP","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHC","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MTL","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","ROL","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDD","SEK","SGD","SHP","SIT","SKK","SLL","SOS","SRD","STD","SYP","SZL","THB","TJS","TMM","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","USS","UYU","UZS","VEB","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XFO","XFU","XOF","XPD","XPF","XPT","XTS","XXX","YER","ZAR","ZMK","ZWD"];function te(c){return X.includes(c)}async function oe(){const{all:c}=await b(()=>import("./currencyCodes.109aaa71.js"),[],import.meta.url);return c.filter(s=>G(s.tag)).map(s=>({text:`${s.name} (${s.tag})`,value:s.tag}))}function G(c){try{return Intl.NumberFormat.supportedLocalesOf(c).length>0}catch{return!1}}const re={class:"flex gap-2 w-full truncate items-center"},ae={class:"flex gap-2 w-full justify-between items-center"},ne={class:"text-[#FB8C00]"},et=W({__name:"CurrencyOptions",props:{value:{}},emits:["update:value"],setup(c,{emit:s}){const E=c,F=s,{t:f}=k(),n=x(E,"value",F),V={"meta.currency_locale":[{validator:(t,a)=>new Promise((p,m)=>{if(!G(a))return m(new Error(f("msg.invalidLocale")));p()})}],"meta.currency_code":[{validator:(t,a)=>new Promise((p,m)=>{if(!te(a))return m(new Error(f("msg.invalidCurrencyCode")));p()})}]},{setAdditionalValidations:H,validateInfos:M,isPg:d}=$();H({...V});const h=X||[],P=J([]),_=K(()=>n.value.dt==="money"),I=K(()=>_.value&&d.value?f("msg.postgresHasItsOwnCurrencySettings"):"");function y(t,a){return a.value.toUpperCase().includes(t.toUpperCase())}return n.value.meta={currency_locale:"en-US",currency_code:"USD",...n.value.meta},oe().then(t=>{P.value.push(...t)}),(t,a)=>{const p=Z,m=Q,L=j,N=q,S=z,Y=ee;return i(),u(Y,{gutter:"8"},{default:r(()=>[l(S,{span:12},{default:r(()=>[l(N,T(e(M)["meta.currency_locale"],{label:t.$t("title.currencyLocale")}),{default:r(()=>[l(L,{value:e(n).meta.currency_locale,"onUpdate:value":a[0]||(a[0]=o=>e(n).meta.currency_locale=o),class:"w-52","show-search":"","filter-option":y,disabled:e(_)&&e(d),"dropdown-class-name":"nc-dropdown-currency-cell-locale"},{default:r(()=>[(i(!0),A(O,null,U(e(P),(o,v)=>(i(),u(m,{key:v,value:o.value},{default:r(()=>[R("div",re,[l(p,{"show-on-truncate-only":"",class:"flex-1 truncate"},{title:r(()=>[B(D(o.text),1)]),default:r(()=>[B(" "+D(o.text),1)]),_:2},1024),e(n).meta.currency_locale===o.value?(i(),u(w(("iconMap"in t?t.iconMap:e(g)).check),{key:0,id:"nc-selected-item-icon",class:"text-primary w-4 h-4"})):C("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])]),_:1},16,["label"])]),_:1}),l(S,{span:12},{default:r(()=>[l(N,T(e(M)["meta.currency_code"],{label:t.$t("title.currencyCode")}),{default:r(()=>[l(L,{value:e(n).meta.currency_code,"onUpdate:value":a[1]||(a[1]=o=>e(n).meta.currency_code=o),class:"w-52","show-search":"","filter-option":y,disabled:e(_)&&e(d),"dropdown-class-name":"nc-dropdown-currency-cell-code"},{default:r(()=>[(i(!0),A(O,null,U(e(h),(o,v)=>(i(),u(m,{key:v,value:o},{default:r(()=>[R("div",ae,[B(D(o)+" ",1),e(n).meta.currency_code===o?(i(),u(w(("iconMap"in t?t.iconMap:e(g)).check),{key:0,id:"nc-selected-item-icon",class:"text-primary w-4 h-4"})):C("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])]),_:1},16,["label"])]),_:1}),e(_)&&e(d)?(i(),u(S,{key:0},{default:r(()=>[R("span",ne,D(e(I)),1)]),_:1})):C("",!0)]),_:1})}}});export{et as default};
