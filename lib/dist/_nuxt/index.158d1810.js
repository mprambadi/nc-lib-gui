import{o as s,c as m,a as v,f as pe,M as he,r as l,N as Ae,ad as Ie,i as ke,P as T,w as $,t as O,b as V,O as e,d as te,W as fe,bb as _,bF as Ce,L as ze,cC as Ve,$ as _e,g as Fe,H as re,X as K,f8 as Se,a1 as ne,eB as Me,h2 as Te,eY as je,T as U,S as H,bv as Ee,Q as ee,R as ie,U as ue,V as He,aK as me,cb as Oe,a0 as ce}from"./entry.96205fa0.js";import{_ as Re}from"./Overlay.718925e7.js";import{_ as Pe}from"./Tooltip.vue.00c0d0fb.js";import{i as De,b as qe,c as Be,M as Ne,C as Le,E as Ke,D as Ue,s as Ge,y as Je,j as Ze,l as We,m as de,z as Ye}from"./index.9b87fcff.js";import{i as ve}from"./fileUtils.43128440.js";import{u as ye}from"./useAttachment.30d26f9a.js";import{u as Qe}from"./index.a5de28c1.js";import{a as Xe}from"./useSmartsheetRowStore.9c7d6fc1.js";import{a as et}from"./useSmartsheetStore.7d51347e.js";import{u as tt}from"./index.a2bc84ea.js";import{a as nt,p as at}from"./bases.965a49bb.js";import{u as ot}from"./index.e034edbd.js";import{_ as st}from"./Button.vue.02ce6d5b.js";import{_ as lt}from"./Modal.vue.b787f37f.js";import"./index.1431a68b.js";import{I as it}from"./Input.3f1aaf0c.js";import{F as rt}from"./index.886d43e1.js";import{_ as ct}from"./FormItem.9f1f85f2.js";import{_ as ut}from"./_plugin-vue_export-helper.c27b6911.js";import{S as mt}from"./sortable.esm.85e2743d.js";const dt={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},pt=v("path",{fill:"currentColor",d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zM6 20V4h7v5h5v11z"},null,-1),ht=[pt];function ft(a,p){return s(),m("svg",dt,[...ht])}const ge={name:"ic-outline-insert-drive-file",render:ft},_t={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},vt=v("path",{fill:"currentColor",d:"M11.5 22q-2.3 0-3.9-1.6T6 16.5V6q0-1.65 1.175-2.825T10 2q1.65 0 2.825 1.175T14 6v9.5q0 1.05-.725 1.775T11.5 18q-1.05 0-1.775-.725T9 15.5V6h1.5v9.5q0 .425.288.713t.712.287q.425 0 .713-.288t.287-.712V6q0-1.05-.725-1.775T10 3.5q-1.05 0-1.775.725T7.5 6v10.5q0 1.65 1.175 2.825T11.5 20.5q1.65 0 2.825-1.175T15.5 16.5V6H17v10.5q0 2.3-1.6 3.9T11.5 22"},null,-1),yt=[vt];function gt(a,p){return s(),m("svg",_t,[...yt])}const xt={name:"material-symbols-attach-file",render:gt},wt={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},bt=v("path",{fill:"currentColor",d:"M19 19H8q-.825 0-1.412-.587T6 17V3q0-.825.588-1.412T8 1h7l6 6v10q0 .825-.587 1.413T19 19M14 8V3H8v14h11V8zM4 23q-.825 0-1.412-.587T2 21V7h2v14h11v2zM8 3v5zv14z"},null,-1),$t=[bt];function At(a,p){return s(),m("svg",wt,[...$t])}const It={name:"material-symbols-file-copy-outline",render:At},kt={class:"flex flex-col items-center justify-center h-full p-8"},Ct={class:"text-lg font-semibold self-start mb-4"},zt={class:"flex flex-row gap-x-2 mt-2.5 pt-2.5 justify-end"},Vt=pe({__name:"RenameFile",props:{title:{}},emits:["rename","cancel"],setup(a,{emit:p}){const j=a,A=p,{t:I}=he(),k=l(),r=l(!0),y=Ae({title:j.title});function b(c){r.value=!1,A("rename",c)}const t={title:[{required:!0,message:I("labels.titleRequired")}]};function h(){r.value=!1,A("cancel")}return Ie("Escape",h),ke(()=>{k.value.select(),k.value.focus()}),(c,g)=>{const B=it,R=ct,x=st,G=rt,C=lt;return s(),T(C,{visible:e(r),"onUpdate:visible":g[2]||(g[2]=F=>fe(r)?r.value=F:null),class:"nc-attachment-rename-modal !w-[30rem]"},{default:$(()=>[v("div",kt,[v("div",Ct,O(c.$t("title.renameFile")),1),V(G,{class:"w-full h-full","no-style":"",model:e(y),onFinish:g[1]||(g[1]=F=>b(e(y).title))},{default:$(()=>[V(R,{class:"w-full",name:"title",rules:t.title},{default:$(()=>[V(B,{ref_key:"inputEl",ref:k,value:e(y).title,"onUpdate:value":g[0]||(g[0]=F=>e(y).title=F),class:"w-full",placeholder:c.$t("general.rename")},null,8,["value","placeholder"])]),_:1},8,["rules"]),v("div",zt,[V(x,{key:"back","html-type":"back",type:"secondary"},{default:$(()=>[te(O(c.$t("general.cancel")),1)]),_:1}),V(x,{key:"submit","html-type":"submit",type:"primary"},{default:$(()=>[te(O(c.$t("general.confirm")),1)]),_:1})])]),_:1},8,["model"])])]),_:1},8,["visible"])}}});const Ft=ut(Vt,[["__scopeId","data-v-05a68aef"]]),St={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Mt=v("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-9.5 8.5c0 .8-.7 1.5-1.5 1.5H7v2H5.5V9H8c.8 0 1.5.7 1.5 1.5zm5 2c0 .8-.7 1.5-1.5 1.5h-2.5V9H13c.8 0 1.5.7 1.5 1.5zm4-3H17v1h1.5V13H17v2h-1.5V9h3zm-6.5 0h1v3h-1zm-5 0h1v1H7z"},null,-1),Tt=[Mt];function jt(a,p){return s(),m("svg",St,[...Tt])}const Et={name:"mdi-pdf-box",render:jt},Ht={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ot=v("path",{fill:"currentColor",d:"M14 2H6a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8zm4 18H6V4h7v5h5zm-.65-10l-2.1 9h-1.4l-1.8-6.79l-1.8 6.79h-1.4l-2.2-9h1.5l1.4 6.81l1.8-6.81h1.3l1.8 6.81l1.4-6.81z"},null,-1),Rt=[Ot];function Pt(a,p){return s(),m("svg",Ht,[...Rt])}const Dt={name:"mdi-file-word-outline",render:Pt},qt={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Bt=v("path",{fill:"currentColor",d:"M9.8 13.4h2.5c1.5 0 2.16-.28 2.8-.82c.64-.55.9-1.33.9-2.35c0-.97-.25-1.73-.9-2.35c-.65-.59-1.27-.88-2.8-.88H8v10h1.8zM19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-9.2 9V8.4h2.3c.66 0 1.17.25 1.5.6c.33.35.5.72.5 1.24c0 .56-.18.95-.5 1.26c-.32.31-.7.5-1.38.5z"},null,-1),Nt=[Bt];function Lt(a,p){return s(),m("svg",qt,[...Nt])}const Kt={name:"mdi-file-powerpoint-box",render:Lt},Ut={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Gt=v("path",{fill:"currentColor",d:"M14 2H6a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8zm4 18H6V4h7v5h5zm-5.1-5.5l2.9 4.5H14l-2-3.4l-2 3.4H8.2l2.9-4.5L8.2 10H10l2 3.4l2-3.4h1.8z"},null,-1),Jt=[Gt];function Zt(a,p){return s(),m("svg",Ut,[...Jt])}const Wt={name:"mdi-file-excel-outline",render:Zt},[Yt,jn]=ot(a=>{const p=_(De,l(!1)),{t:j}=he(),A=_(qe,l(!1)),I=_(Be,l(!1)),k=_(Ne,l()),r=_(Le,l()),y=_(Ke,l(!1)),b=l([]),t=l([]),h=l(!1),c=l(),{base:g}=Ce(nt()),{api:B,isLoading:R}=ze(),{files:x,open:G}=Ve(),{appInfo:C}=_e(),{getAttachmentSrc:F}=ye(),z={...C.value.ee&&{maxNumberOfAttachments:Math.max(1,+C.value.ncMaxAttachmentsAllowed||50)||50,maxAttachmentSize:Math.max(1,+C.value.ncMaxAttachmentsAllowed||20)||20,supportedAttachmentMimeTypes:["*"]}},P=Fe(()=>A.value&&I.value?b.value:t.value),S=l(Array.from({length:P.value.length},()=>!1));function ae(o){A.value?(b.value.splice(o,1),t.value.splice(o,1),S.value.splice(o,1),a(b.value)):(t.value.splice(o,1),S.value.splice(o,1),a(JSON.stringify(t.value)))}async function Z(o){var q,Y,Q;if(!o.length)return;const i={...z,...at((q=r==null?void 0:r.value)==null?void 0:q.meta)},M=[],w=[];for(const u of o){if(C.value.ee){if(P.value.length+o.length>i.maxNumberOfAttachments){K.error(`You can only upload at most ${i.maxNumberOfAttachments} file${i.maxNumberOfAttachments>1?"s":""} to this cell.`);return}if(u.size>i.maxAttachmentSize*1024*1024){K.error(`The size of ${u.name} exceeds the maximum file size ${i.maxAttachmentSize} MB.`);continue}if(!i.supportedAttachmentMimeTypes.includes("*")&&!i.supportedAttachmentMimeTypes.includes(u.type)&&!i.supportedAttachmentMimeTypes.includes(u.type.split("/")[0])){K.error(`${u.name} has the mime type ${u.type} which is not allowed in this column.`);continue}}if(t.value.some(d=>d.title===u.name)){K.error(j("labels.duplicateAttachment",{filename:u.name}));return}w.push(u)}if(A.value&&I.value){const u=await Promise.all(Array.from(w).map(n=>new Promise(d=>{const L={...n,file:n,title:n.name,mimetype:n.type};if(ve(n.name,n.mimetype??n.type)){const J=new FileReader;J.onload=se=>{var X;L.data=(X=se.target)==null?void 0:X.result,d(L)},J.onerror=()=>{d(L)},J.readAsDataURL(n)}else d(L)})));return t.value=[...t.value,...u],a(t.value)}try{const u=await B.storage.upload({path:[Se,g.value.id,(Y=k.value)==null?void 0:Y.id,(Q=r.value)==null?void 0:Q.id].join("/")},{files:w});M.push(...u)}catch(u){K.error(u.message||j("msg.error.internalError"))}a(JSON.stringify([...t.value,...M]))}async function oe(o,i){return new Promise(M=>{const{close:w}=tt(Ft,{title:o.title,onRename:q=>{t.value[i].title=q,a(JSON.stringify(t.value)),w(),M(!0)},onCancel:()=>{w(),M(!0)}})})}async function N(o){p.value||o&&await Z(o)}async function D(){await Promise.all(S.value.map(async(o,i)=>o&&await W(P.value[i]))),S.value=Array.from({length:P.value.length},()=>!1)}async function W(o){const i=await F(o);i?(await ne(()=>import("./FileSaver.min.87a4e9ea.js").then(M=>M.F),["./FileSaver.min.87a4e9ea.js","./entry.96205fa0.js","./entry.d09b2482.css"],import.meta.url)).saveAs(i,o.title):K.error("Failed to download file")}const E=o=>{switch(o){case"mdi-pdf-box":return Et;case"mdi-file-word-outline":return Dt;case"mdi-file-powerpoint-box":return Kt;case"mdi-file-excel-outline":return Wt;default:return ge}};return re(x,o=>o&&Z(o)),{attachments:t,visibleItems:P,isPublic:A,isForm:I,isReadonly:p,meta:k,column:r,editEnabled:y,isLoading:R,api:B,open:()=>G(),onDrop:N,modalVisible:h,FileIcon:E,removeFile:ae,renameFile:oe,downloadFile:W,updateModelValue:a,selectedImage:c,selectedVisibleItems:S,storedFiles:b,bulkDownloadFiles:D,defaultAttachmentMeta:z}},"useAttachmentCell");function Qt(a,p,j,A=!1){const I=l(!1);function k(t){t.stopImmediatePropagation(),t.preventDefault(),I.value=!0}async function r(t){t.stopImmediatePropagation(),t.preventDefault(),I.value=!1;const h=e(p);if(h.length<2)return;const{newIndex:c=0,oldIndex:g=0}=t;c!==g&&(h.splice(c,0,...h.splice(g,1)),j(h))}let y;const b=t=>{y=new mt(t,{handle:".nc-attachment",ghostClass:"ghost",onStart:k,onEnd:r})};return Me(t=>{const h=e(a);t(()=>{h&&y&&y.destroy()}),h&&!e(A)&&b(h)}),{dragging:I,initSortable:b}}const Xt=ce(()=>ne(()=>import("./Carousel.6e2e3084.js"),["./Carousel.6e2e3084.js","./entry.96205fa0.js","./entry.d09b2482.css","./Overlay.718925e7.js","./_plugin-vue_export-helper.c27b6911.js","./Overlay.09be8605.css","./fileUtils.43128440.js","./useAttachment.30d26f9a.js","./urlUtils.15d0b9ce.js","./index.c969316f.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./Tooltip.vue.00c0d0fb.js","./Tooltip.b86f91a1.css","./index.9b87fcff.js","./index.a5de28c1.js","./useSmartsheetRowStore.9c7d6fc1.js","./deepCompare.d32ec333.js","./dataUtils.fb0a3616.js","./virtualCell.9142cfee.js","./bases.965a49bb.js","./index.0c5b3837.js","./index.e034edbd.js","./useSmartsheetStore.7d51347e.js","./views.2c163cf7.js","./useSharedView.9e320acb.js","./index.a2bc84ea.js","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./Button.ff10bcb0.css","./Modal.vue.b787f37f.js","./DeleteModal.7ab6f524.css","./index.1431a68b.js","./Input.3f1aaf0c.js","./antInputDirective.8ac36ea7.js","./FormItemContext.b19eb48c.js","./SearchOutlined.c9794270.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./TextArea.b81a19ed.js","./Password.803cc3dc.js","./index.886d43e1.js","./FormItem.9f1f85f2.js","./identity.309e9ead.js","./Col.b3c5d725.js","./responsiveObserve.358bcfe9.js","./toArray.3561b70e.js","./useSize.c98e621d.js","./_flatRest.ce557a88.js","./sortable.esm.85e2743d.js","./Carousel.806f9e39.css"],import.meta.url).then(a=>a.default||a)),en=ce(()=>ne(()=>import("./Image.f89e3816.js"),["./Image.f89e3816.js","./entry.96205fa0.js","./entry.d09b2482.css"],import.meta.url).then(a=>a.default||a)),tn=ce(()=>ne(()=>import("./Modal.0b08b59f.js"),["./Modal.0b08b59f.js","./entry.96205fa0.js","./entry.d09b2482.css","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Overlay.718925e7.js","./Overlay.09be8605.css","./Icon.vue.6d0583a0.js","./DeleteModal.vue.49c1a59b.js","./Modal.vue.b787f37f.js","./DeleteModal.7ab6f524.css","./useSmartsheetStore.7d51347e.js","./views.2c163cf7.js","./bases.965a49bb.js","./index.0c5b3837.js","./useSharedView.9e320acb.js","./index.9b87fcff.js","./index.e034edbd.js","./fileUtils.43128440.js","./useAttachment.30d26f9a.js","./urlUtils.15d0b9ce.js","./index.0b4c0f1e.js","./Checkbox.cf2cdba0.js","./FormItemContext.b19eb48c.js","./createForOfIteratorHelper.f2005dfe.js","./index.c4d36e30.js","./index.e1ceba77.js","./Dropdown.1dedd322.js","./useState.5a301439.js","./useRefs.3fea1e39.js","./identity.309e9ead.js","./_flatRest.ce557a88.js","./isMobile.e2e89480.js","./index.208c1883.js","./Col.b3c5d725.js","./responsiveObserve.358bcfe9.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./Image.d07b34cf.js","./Element.a2c5baa8.js","./Tooltip.vue.00c0d0fb.js","./Tooltip.b86f91a1.css","./index.a5de28c1.js","./useSmartsheetRowStore.9c7d6fc1.js","./deepCompare.d32ec333.js","./dataUtils.fb0a3616.js","./virtualCell.9142cfee.js","./index.a2bc84ea.js","./index.1431a68b.js","./Input.3f1aaf0c.js","./antInputDirective.8ac36ea7.js","./SearchOutlined.c9794270.js","./TextArea.b81a19ed.js","./Password.803cc3dc.js","./index.886d43e1.js","./FormItem.9f1f85f2.js","./toArray.3561b70e.js","./useSize.c98e621d.js","./sortable.esm.85e2743d.js","./Modal.dd950211.css"],import.meta.url).then(a=>a.default||a)),nn={"data-rec":"true"},an={key:0,class:"flex items-center gap-1 xs:w-full xs:min-w-12 xs:h-8 xs:justify-center"},on={key:0,"data-rec":"true",class:"group-hover:text-primary text-gray-500 dark:text-gray-200 dark:group-hover:!text-white text-xs xs:justify-center xs:rounded-lg xs:text-sm"},sn={key:2,class:"flex"},ln={class:"text-center w-full"},rn={key:0},cn=["onClick"],un=["onClick"],mn={key:0,class:"xs:hidden h-6 w-5 group cursor-pointer flex gap-1 items-center active:ring active:ring-accent active:ring-opacity-100 rounded border-none p-1 hover:bg-primary hover:bg-opacity-10 !dark:bg-slate-500"},dn=pe({__name:"index",props:{modelValue:{},rowIndex:{}},emits:["update:modelValue"],setup(a,{emit:p}){const j=p,A=_(Ue,l()),I=l(),k=l(),r=_(Ge,A.value),y=_(Je,l(!1)),b=_(Ze,l(!1)),t=_(We,l(!1)),{isSharedForm:h}=et(),{isMobileMode:c}=_e(),{getPossibleAttachmentSrc:g,openAttachment:B}=ye(),{isPublic:R,isForm:x,column:G,modalVisible:C,attachments:F,visibleItems:z,onDrop:P,isLoading:S,open:ae,FileIcon:Z,selectedImage:oe,isReadonly:N,storedFiles:D}=Yt(M),{dragging:W}=Qt(k,z,M,N),E=_(de,l(!1)),{state:o}=Xe(),{isOverDropZone:i}=Te(r,P);re(()=>a.modelValue,async n=>{if(n)try{const d=((typeof n=="string"?JSON.parse(n):n)||[]).filter(Boolean);R.value&&x.value?D.value=d:F.value=d}catch(d){console.error(d),R.value&&x.value?D.value=[]:F.value=[]}else R.value&&x.value?D.value=[]:F.value=[]},{immediate:!0});function M(n){j("update:modelValue",n)}je("Escape",()=>{C.value=!1,i.value=!1}),re(()=>D.value.length||0,()=>{o.value[G.value.title]=D.value}),Qe(_(de,l(!1)),n=>{var d;n.key==="Enter"&&!N.value&&(n.stopPropagation(),!C.value&&!c.value?C.value=!0:(d=document.querySelector(".nc-attachment-modal.active .nc-attach-file"))==null||d.click())});const w=_(Ye,l()),q=n=>{n.stopPropagation(),ae()},Y=n=>{if(c.value&&!t.value){t.value=!0;return}B(n)},Q=()=>{c.value||(C.value=!0)},u=n=>{c.value&&!t.value||!c.value&&(y.value||b.value&&!t.value)||(oe.value=n)};return(n,d)=>{const L=Xt,J=It,se=Re,X=xt,le=Pe,xe=en,we=ge,be=tn;return s(),m("div",{ref_key:"attachmentCellRef",ref:I,style:me({height:e(x)||e(t)?void 0:`max(${(e(w)||1)*1.8}rem, 41px)`}),class:H(["nc-attachment-cell relative flex color-transition flex items-center w-full xs:min-h-12 xs:max-h-32",{"justify-center":!e(E),"justify-between":e(E),"px-2":e(t)}])},[V(L),e(h)||!e(N)&&!e(W)&&e(r)?(s(),T(se,{key:0,modelValue:e(i),"onUpdate:modelValue":d[0]||(d[0]=f=>fe(i)?i.value=f:null),inline:"",target:e(r),"data-rec":"true",class:"nc-attachment-cell-dropzone text-white text-lg ring ring-accent ring-opacity-100 bg-gray-700/75 flex items-center justify-center gap-2 backdrop-blur-xl"},{default:$(()=>[V(J,{class:"text-accent"}),te(" "+O(n.$t("labels.dropHere")),1)]),_:1},8,["modelValue","target"])):U("",!0),e(N)?(s(),m("div",sn)):(s(),m("div",{key:1,class:H([{"sm:mx-auto sm:px-4 xs:w-full xs:min-w-8":!e(z).length},"group cursor-pointer py-1 flex gap-1 items-center active:ring active:ring-accent active:ring-opacity-100 rounded border-none shadow-sm hover:bg-primary hover:bg-opacity-10 !dark:bg-slate-500"]),"data-testid":"attachment-cell-file-picker-button",tabindex:"0",onClick:q,onKeydown:Ee(q,["enter"])},[e(S)?(s(),T(ee(e(ie).reload),{key:0,class:H({"animate-infinite animate-spin":e(S)})},null,8,["class"])):U("",!0),V(le,{placement:"bottom",class:"xs:w-full"},{title:$(()=>[v("span",nn,O(n.$t("activity.attachmentDrop")),1)]),default:$(()=>[e(E)||!e(z).length||e(x)&&e(z).length?(s(),m("div",an,[V(X,{class:"transform !dark:text-white !group-hover:text-accent group-hover:scale-120 text-gray-500 text-[0.75rem]"}),e(z).length?U("",!0):(s(),m("div",on,O(n.$t("activity.addFiles")),1))])):U("",!0)]),_:1})],34)),e(z).length?(s(),m(ue,{key:3},[v("div",{ref_key:"sortableRef",ref:k,class:H([{"justify-center":!e(t)&&!e(y)&&!e(b)},"flex cursor-pointer w-full items-center flex-wrap gap-2 py-1.5 scrollbar-thin-dull overflow-hidden mt-0 items-start"]),style:me({maxHeight:e(x)||e(t)?void 0:`max(${(e(w)||1)*1.8}rem, 41px)`})},[(s(!0),m(ue,null,He(e(z),(f,$e)=>(s(),T(le,{key:f.url||f.title,placement:"bottom"},{title:$(()=>[v("div",ln,O(f.title),1)]),default:$(()=>[e(ve)(f.title,f.mimetype??f.type)?(s(),m("div",rn,[v("div",{class:H(["nc-attachment flex items-center flex-col flex-wrap justify-center",{"ml-2":e(E)}]),onClick:()=>u(f)},[V(xe,{alt:f.title||`#${$e}`,class:H(["rounded",{"h-7.5 w-8.8":e(w)===1,"h-11.5 w-12.8":e(w)===2,"h-16.8 w-20.8":e(w)===4,"h-20.8 !w-30":e(x)||e(t)||e(w)===6}]),srcs:e(g)(f)},null,8,["alt","class","srcs"])],10,cn)])):(s(),m("div",{key:1,class:H(["nc-attachment flex items-center justify-center",{"ml-2":e(E)}]),onClick:pn=>Y(f)},[f.icon?(s(),T(ee(e(Z)(f.icon)),{key:0})):(s(),T(we,{key:1}))],10,un))]),_:2},1024))),128))],6),e(E)||e(x)&&e(z).length?(s(),m("div",mn,[e(S)?(s(),T(ee(e(ie).reload),{key:0,class:H({"animate-infinite animate-spin":e(S)})},null,8,["class"])):(s(),T(le,{key:1,placement:"bottom"},{title:$(()=>[te(O(n.$t("activity.viewAttachment")),1)]),default:$(()=>[(s(),T(ee(e(ie).expand),{class:"transform !dark:text-white !group-hover:text-grey-800 group-hover:scale-120 text-gray-500 text-[0.75rem]",onClick:Oe(Q,["stop"])}))]),_:1}))])):U("",!0)],64)):U("",!0),V(be)],6)}}});const En=Object.freeze(Object.defineProperty({__proto__:null,default:dn},Symbol.toStringTag,{value:"Module"}));export{xt as _,Qt as a,It as b,ge as c,En as i,jn as u};
