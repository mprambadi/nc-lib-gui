import{aL as n,L as l,$ as c,aM as f,H as d}from"./entry.96205fa0.js";import{u as p}from"./bases.965a49bb.js";const v=n("userStore",()=>{const{api:a}=l(),{user:s}=c(),{loadRoles:o}=f(),t=p(),u=async({attrs:e})=>{if(!s.value)throw new Error("User is not defined");await a.userProfile.update(e),s.value={...s.value,...e},t.clearBasesUser()},r=o;return d(()=>{var e;return(e=s.value)==null?void 0:e.id},(e,i)=>{e&&e!==i&&r()},{immediate:!0}),{loadCurrentUser:r,updateUserProfile:u}});export{v as u};
