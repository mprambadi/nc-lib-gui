import{_ as dt}from"./Tooltip.vue.00c0d0fb.js";import{a as ft,c as Ee}from"./bases.965a49bb.js";import{o as s,c as D,a as C,f as pt,cp as Ne,f_ as _t,M as yt,bb as xe,r as N,g as Le,bA as vt,bF as Oe,cG as g,eW as gt,N as bt,H as ue,i as kt,a7 as Re,X as I,P as y,w as n,U as q,V as X,O as l,t as b,b as h,T as S,W as Me,Q as U,R as F,d as J,cb as me,_ as ce,f$ as ht,bv as Ie,ae as de,c_ as Ue,dy as Ct,g0 as Pe,Y as Ve,cZ as Tt,co as wt,cT as Be,af as $t,a8 as St,C as Dt,cN as Et,g1 as Nt,cV as Fe}from"./entry.96205fa0.js";import{M as xt,R as Lt}from"./index.9b87fcff.js";import{c as Ot,f as Ae,e as Rt}from"./validation.64563eeb.js";import{u as Mt}from"./tab.e875c8a8.js";import{F as je}from"./index.886d43e1.js";import{C as It}from"./index.0b4c0f1e.js";import{_ as Ut}from"./index.aa7d30db.js";import{_ as Pt,C as Vt}from"./index.e7262e5b.js";import{C as Bt}from"./index.c4d36e30.js";import"./index.1431a68b.js";import{I as Ft}from"./Input.3f1aaf0c.js";import{S as At}from"./index.9e8f59f4.js";import{S as jt,_ as qt}from"./index.b5e393d6.js";import{_ as Kt}from"./FormItem.9f1f85f2.js";import{_ as Wt}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.0c5b3837.js";import"./useSize.c98e621d.js";import"./identity.309e9ead.js";import"./isSymbol.d46b4957.js";import"./_flatRest.ce557a88.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isPlainObject.631eb8fb.js";import"./_getPrototype.459a70cf.js";import"./FormItemContext.b19eb48c.js";import"./Checkbox.cf2cdba0.js";import"./createForOfIteratorHelper.f2005dfe.js";import"./eagerComputed.5bad0f6f.js";import"./useState.5a301439.js";import"./index.339951af.js";import"./LeftOutlined.5e2085dd.js";import"./RightOutlined.3ce786f5.js";import"./useBreakpoint.2e009418.js";import"./responsiveObserve.358bcfe9.js";import"./antInputDirective.8ac36ea7.js";import"./toArray.3561b70e.js";import"./index.11096307.js";import"./index.6c1d17b6.js";import"./Dropdown.1dedd322.js";import"./index.10eee714.js";import"./SearchOutlined.c9794270.js";import"./index.e1ceba77.js";import"./useRefs.3fea1e39.js";import"./isMobile.e2e89480.js";import"./index.208c1883.js";import"./Col.b3c5d725.js";import"./TextArea.b81a19ed.js";import"./Password.803cc3dc.js";import"./useMemo.dbc63a5f.js";import"./CheckOutlined.3b90c20d.js";const Ht={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Gt=C("path",{fill:"currentColor",d:"M7.5 3C5 3 3 5 3 7.5S5 12 7.5 12c2 0 3.6-1.2 4.2-3H15v3h3V9h3V6h-9.3c-.6-1.8-2.2-3-4.2-3m0 3C8.3 6 9 6.7 9 7.5S8.3 9 7.5 9S6 8.3 6 7.5S6.7 6 7.5 6m4.5 8l-1.1 2.6l-2.9.3l2.2 1.9l-.7 2.8l2.5-1.5l2.4 1.5l-.6-2.8l2.2-1.9l-2.9-.2z"},null,-1),zt=[Gt];function Yt(p,fe){return s(),D("svg",Ht,[...zt])}const Zt={name:"mdi-key-star",render:Yt},Qt=[{name:"Column Name",dataIndex:"column_name",key:"column_name",width:250},{name:"Column Type",dataIndex:"column_type",key:"uidt",width:250},{name:"Select Option",key:"dtxp"},{name:"Action",key:"action",align:"right"}],Xt=[{name:"Source column",dataIndex:"source_column",key:"source_column",width:400},{name:"Destination column",dataIndex:"destination_column",key:"destination_column",width:400},{name:"Action",key:"action",align:"center",width:50}],Jt={key:0,class:"text-center"},ea={class:"font-weight-bold text-lg flex items-center gap-2 truncate"},ta={key:0},aa={key:1},na={class:"flex items-center"},la={class:"ml-2"},oa={key:0,class:"text-center"},sa={class:"flex flex-col w-full"},ia={key:0,class:"text-red-500 ml-3"},ra={key:0},ua={key:1},ma={key:2},ca={class:"flex items-center float-right mr-4"},da={class:"flex items-center"},fa={class:"mt-5 flex gap-2 justify-center"},pa={class:"flex items-center"},_a={class:"flex items-center"},ya={class:"flex items-center"},va={class:"flex items-center gap-1"},ga=pt({__name:"Editor",props:{quickImportType:{},baseTemplate:{},importData:{},importColumns:{},importDataOnly:{type:Boolean},maxRowsToParse:{},sourceId:{},importWorker:{}},emits:["import","error","change"],setup(p,{expose:fe,emit:qe}){const z=qe;Ne.extend(_t);const{t:P}=yt(),pe=xe(xt,N()),K=Le(()=>{var e;return((e=pe.value)==null?void 0:e.columns)||[]}),Ke=xe(Lt,vt()),We=je.useForm,{$api:ee}=Dt(),{addTab:He}=Mt(),_e=ft(),{loadTables:Ge}=_e,{sqlUis:ye,base:A}=Oe(_e),{openTable:ze}=Ee(),{baseTables:Ye}=Oe(Ee()),le=N(ye.value[p.sourceId]||Object.values(ye.value)[0]),te=N([]),j=N([]),Ze=N([]),oe=N([]),W=N(!1),ve=N({}),ge=N([]),Y=N(),Qe=N(Object.keys(g).filter(e=>!gt(g[e])&&![g.ForeignKey,g.ID,g.CreatedTime,g.LastModifiedTime,g.CreatedBy,g.LastModifiedBy,g.Barcode,g.Button].includes(g[e])).map(e=>({value:e,label:e}))),x=N({}),i=bt({title:null,name:"Base Name",tables:[]}),Xe=Le(()=>i.tables.reduce((e,a,t)=>{var o;return e[`tables.${t}.table_name`]=[Ot],te.value[t]=!1,(o=a.columns)==null||o.forEach((v,r)=>{e[`tables.${t}.columns.${r}.title`]=[Ae(),Rt()],e[`tables.${t}.columns.${r}.uidt`]=[Ae()],Ce(v)&&(te.value[t]=!0)}),e},{})),{validate:se,validateInfos:ae,modelRef:Je}=We(i,Xe),be=N(!p.importDataOnly),ke=N();ue(()=>x.value,()=>{let e=!0;if(p.importDataOnly)for(const a of Object.keys(x.value)){$e(a)||(e=!1);for(const t of x.value[a])if(!ot(t,a))return!1}else for(const[a,t]of Object.entries(ae))t!=null&&t.validateStatus&&t.validateStatus==="error"&&(e=!1);be.value=e},{deep:!0});const ie=N([]);kt(()=>{et(),ie.value=i.tables.map(e=>e.table_name),p.importDataOnly&&it(),Re(()=>{var e;(e=oe.value[0])==null||e.focus()})});function he(e,a){return a.value.toUpperCase().includes(e.toUpperCase())}function et(){p.baseTemplate&&(tt(p.baseTemplate),j.value=Array.from({length:i.tables.length||0},(e,a)=>a),te.value=Array.from({length:i.tables.length||0},()=>!1))}function tt({tables:e=[],...a}){const t={...a,tables:e.map(({v:o=[],columns:v=[],...r})=>({...r,columns:[...v.map((L,E)=>(L.key=E,L)),...o.map(L=>({column_name:L.title,table_name:{...L}}))]}))};Object.assign(i,t)}function Ce(e){return e.uidt==="MultiSelect"||e.uidt==="SingleSelect"}function Te(e){i.tables.splice(e,1)}function at(e,a){const t=i.tables[e].columns.findIndex(o=>o.key===a);i.tables[e].columns.splice(t,1)}function ne(e,a){i.tables[e].columns.push({key:i.tables[e].columns.length,title:`title${i.tables[e].columns.length+1}`,column_name:`title${i.tables[e].columns.length+1}`,uidt:a}),Re(()=>{const t=oe.value[i.tables[e].columns.length-1];t.focus(),t.select()})}function we(e,a){Ze.value[e]=a}function nt(e,a){const t={};return e.map(o=>(a||[]).reduce((v,r)=>{var V;const L=r.title in o?r.title:r.ref_column_name;let E=o[L];if(r.uidt===g.Date&&E){let O;(V=r==null?void 0:r.meta)!=null&&V.date_format?(O=r.meta.date_format,t[r.key]=O):r.key in t?O=t[r.key]:(O=Et(E),t[r.key]=O),E=Pe(E,O)}else if(r.uidt===g.DateTime&&E){const O=Nt(o[L]);E=Ne(o[L],O).format("YYYY-MM-DD HH:mm")}return{...v,[r.title]:E}},{}))}function lt(e){const a=K.value.filter(t=>(t.pk?!t.ai&&!t.cdf:!t.cdf&&t.rqd)&&!x.value[e].some(o=>o.destCn===t.title));return a.length?(I.error(`${P("msg.error.columnsRequired")} : ${a.map(t=>t.title).join(", ")}`),!1):!0}function $e(e){return x.value[e].filter(a=>a.enabled===!0).length===0?(I.error(P("msg.error.selectAtleastOneColumn")),!1):!0}function ot(e,a){if(!e.enabled)return!0;if(!e.destCn)return I.error(`${P("msg.error.columnDescriptionNotFound")} ${e.srcCn}`),!1;if(x.value[a].filter(o=>o.destCn===e.destCn).length>1)return I.error(P("msg.error.duplicateMappingFound")),!1;const t=K.value.find(o=>o.title===e.destCn);for(const o of Object.keys(p.importData))switch((t.pk?!t.ai&&!t.cdf:!t.cdf&&t.rqd)&&p.importData[o].slice(0,p.maxRowsToParse).some(v=>v[e.srcCn]===null||v[e.srcCn]===void 0||v[e.srcCn]==="")&&I.error(P("msg.error.nullValueViolatesNotNull")),t.uidt){case g.Number:if(p.importData[o].slice(0,p.maxRowsToParse).some(v=>v[e.sourceCn]!==null&&v[e.srcCn]!==void 0&&isNaN(+v[e.srcCn])))return I.error(P("msg.error.sourceHasInvalidNumbers")),!1;break;case g.Checkbox:if(p.importData[o].slice(0,p.maxRowsToParse).some(v=>{if(v[e.srcCn]!==null&&v[e.srcCn]!==void 0){let r=v[e.srcCn];return typeof r=="string"?(r=r.replace(/["']/g,"").toLowerCase().trim(),!(r==="false"||r==="no"||r==="n"||r==="0"||r==="true"||r==="yes"||r==="y"||r==="1")):r!==1&&r!==0&&r!==!0&&r!==!1}return!1}))return I.error(P("msg.error.sourceHasInvalidBoolean")),!1;break}return!0}function re(e,a,t,o){ve.value[`${e}-${a}`]=`Importing data to ${e} - ${a}: ${t}/${o} records`}async function st(){var t,o,v,r,L,E,V,O,Z,Q;if(p.importDataOnly){for(const k of i.tables)if(!lt(k.table_name)||!$e(k.table_name))return;try{W.value=!0;const k=(t=pe.value)==null?void 0:t.id,T=A.value.id,R=i.tables.map($=>$.table_name);await Promise.all(Object.keys(p.importData).map($=>(async c=>{if(!R.includes(c))return;const M=p.importData[c],d=M.length;for(let f=0,u=0;f<d;f+=p.maxRowsToParse){const m=M.slice(f,f+p.maxRowsToParse).map(_=>x.value[c].reduce((H,B)=>{if(B.enabled&&B.destCn){const G=K.value.find(ct=>ct.title===B.destCn);let w=_[B.srcCn];G.uidt===g.Checkbox?(w=w?w.replace(/["']/g,"").toLowerCase().trim():"false",w==="false"||w==="no"||w==="n"?w="0":(w==="true"||w==="yes"||w==="y")&&(w="1")):G.uidt===g.Number||G.uidt===g.SingleSelect||G.uidt===g.MultiSelect?w===""&&(w=null):G.uidt===g.Date&&w&&(w=Pe(w,G.meta.date_format)),H[B.destCn]=w}return H},{}));await ee.dbTableRow.bulkCreate("noco",T,k,m),re(T,k,u,d),u+=m.length}})($))),Ke.trigger(),I.success(P("msg.success.tableDataImported"))}catch(k){I.error(await Ve(k))}finally{W.value=!1}}else{try{await se()}catch{throw W.value=!1,new Error("Please fill all the required values")}try{W.value=!0;const k={id:"",title:"",baseId:""};for(const T of i.tables){const R=le==null?void 0:le.value.getNewTableColumns().filter(c=>c.column_name!=="title");for(const c of R)(o=T.columns)!=null&&o.some(M=>{var d;return((d=M.column_name)==null?void 0:d.toLowerCase())===c.column_name.toLowerCase()})||(v=T.columns)==null||v.push(c);if(T.columns)for(const c of T.columns)((r=c.column_name)==null?void 0:r.toLowerCase())==="id"&&!("pk"in c)&&(c.pk=!0,c.rqd=!0),(!Tt(c)||["created_at","updated_at"].includes(c.column_name))&&c.uidt!==g.SingleSelect&&c.uidt!==g.MultiSelect&&delete c.dtxp;const $=await ee.source.tableCreate((L=A.value)==null?void 0:L.id,p.sourceId||((V=(E=A.value)==null?void 0:E.sources)==null?void 0:V[0].id),{table_name:T.table_name,title:"",columns:T.columns||[]});({}).NC_SANITIZE_COLUMN_NAME!=="false"&&$.columns.forEach((c,M)=>{T.columns[M].column_name=c.column_name}),T.id=$.id,T.title=$.title,k.id===""&&k.title===""&&k.baseId===""&&(k.id=$.id,k.title=$.title,k.baseId=A.value.id),(Z=(O=$==null?void 0:$.columns)==null?void 0:O[0])!=null&&Z.id&&await ee.dbTableColumn.primaryColumnSet($.columns[0].id)}if(p.importData){const T=p.maxRowsToParse,R=A.value.title;await Promise.all(i.tables.map($=>(async c=>{let M=0,d=0;const f=p.importData[c.ref_table_name];if(f){d+=f.length;for(let u=0;u<f.length;u+=T){re(R,c.title,M,d);const m=nt(f.slice(u,u+T),c.columns);await ee.dbTableRow.bulkCreate("noco",A.value.id,c.id,m),M+=m.length}re(R,c.title,d,d)}})($)))}await Ge(),He({...k,type:wt.TABLE})}catch(k){I.error(await Ve(k))}finally{W.value=!1}}if(!((Q=i.tables)!=null&&Q.length))return;const e=Ye.value.get(A.value.id),a=e==null?void 0:e.find(k=>k.id===i.tables[0].id);a&&ze(a)}function it(){x.value={};for(let e=0;e<i.tables.length;e++)for(const a of p.importColumns[e]){const t={srcCn:a.column_name,destCn:"",enabled:!0};if(K.value){const o=K.value.find(v=>v.column_name===a.column_name);o?t.destCn=o.title:t.enabled=!1}i.tables[e].table_name in x.value||(x.value[i.tables[e].table_name]=[]),x.value[i.tables[e].table_name].push(t)}}fe({importTemplate:st,isValid:be});function Se(e){const a=ie.value[e],t=i.tables[e].table_name;i.tables.filter(o=>o.table_name===t).length>1?(I.warn("Duplicate Table Name"),i.tables[e].table_name=a):ie.value[e]=t,we(e,!1)}function rt(e,a=!1){return(e===g.SingleSelect||e===g.MultiSelect)&&a}function ut(e,a){const t=e.target.checked;for(const o of x.value[a])o.enabled=t}function mt(e,a){if(!p.importWorker)return;const t=o=>{const[v,r]=o.data;switch(v){case Fe.SINGLE_SELECT_OPTIONS:case Fe.MULTI_SELECT_OPTIONS:p.importWorker.removeEventListener("message",t,!1),e.dtxp=r;break}};e.uidt===g.SingleSelect?(p.importWorker.addEventListener("message",t,!1),p.importWorker.postMessage([Be.GET_SINGLE_SELECT_OPTIONS,{tableName:a.ref_table_name,columnName:e.ref_column_name}])):e.uidt===g.MultiSelect&&(p.importWorker.addEventListener("message",t,!1),p.importWorker.postMessage([Be.GET_MULTI_SELECT_OPTIONS,{tableName:a.ref_table_name,columnName:e.ref_column_name}]))}const De=e=>{const a={};for(const t of e)a[t.name]=t.errors;Y.value=a};return ue(ke,()=>{setTimeout(async()=>{try{await se(),z("change"),Y.value=null}catch(e){z("error",e),De(e.errorFields)}},500)}),ue(Je,async()=>{try{await se(),z("change"),Y.value=null}catch(e){z("error",e),De(e.errorFields)}}),(e,a)=>{const t=je,o=$t,v=ce,r=It,L=dt,E=jt,V=qt,O=Ut,Z=Pt,Q=Vt,k=Bt,T=Ft,R=Kt,$=Zt,c=St,M=At;return s(),y(M,{spinning:l(W),size:"large"},{tip:n(()=>[(s(!0),D(q,null,X(l(ve),(d,f)=>(s(),D("p",{key:f,class:"mt-[10px]"},b(d),1))),128))]),default:n(()=>[e.importDataOnly?(s(),y(k,{key:0},{default:n(()=>[h(t,{model:l(i),name:"import-only"},{default:n(()=>[l(i).tables&&e.quickImportType==="excel"?(s(),D("p",Jt,b(l(i).tables.length)+" sheet"+b(l(i).tables.length>1?"s":"")+" available for import ",1)):S("",!0)]),_:1},8,["model"]),l(i).tables&&l(i).tables.length?(s(),y(Q,{key:0,activeKey:l(j),"onUpdate:activeKey":a[0]||(a[0]=d=>Me(j)?j.value=d:null),class:"template-collapse",accordion:""},{default:n(()=>[(s(!0),D(q,null,X(l(i).tables,(d,f)=>(s(),y(Z,{key:f},{header:n(()=>[C("span",ea,[(s(),y(U(l(F).table),{class:"text-primary"})),J(" "+b(d.table_name),1)])]),extra:n(()=>[h(o,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.deleteTable")),1)]),default:n(()=>[l(i).tables.length>1?(s(),y(U(l(F).delete),{key:0,class:"text-lg mr-8",onClick:me(u=>Te(f),["stop"])},null,8,["onClick"])):S("",!0)]),_:2},1024)]),default:n(()=>[l(x)?(s(),y(O,{key:0,class:"template-form","row-class-name":"template-form-row","data-source":l(x)[d.table_name],columns:l(Xt),pagination:!1},{emptyText:n(()=>[h(v,{image:l(ce).PRESENTED_IMAGE_SIMPLE,description:e.$t("labels.noData")},null,8,["image","description"])]),headerCell:n(({column:u})=>[u.key==="source_column"||u.key==="destination_column"?(s(),D("span",ta,b(u.name),1)):S("",!0),u.key==="action"?(s(),D("span",aa,[h(r,{checked:l(ge)[d.table_name],"onUpdate:checked":m=>l(ge)[d.table_name]=m,onChange:m=>ut(m,d.table_name)},null,8,["checked","onUpdate:checked","onChange"])])):S("",!0)]),bodyCell:n(({column:u,record:m})=>[u.key==="source_column"?(s(),y(L,{key:0,class:"truncate"},{title:n(()=>[J(b(m.srcCn),1)]),default:n(()=>[J(b(m.srcCn),1)]),_:2},1024)):u.key==="destination_column"?(s(),y(V,{key:1,value:m.destCn,"onUpdate:value":_=>m.destCn=_,class:"w-52","show-search":"","filter-option":he,"dropdown-class-name":"nc-dropdown-filter-field"},{default:n(()=>[(s(!0),D(q,null,X(l(K),(_,H)=>(s(),y(E,{key:H,value:_.title},{default:n(()=>[C("div",na,[(s(),y(U(l(ht)(_.uidt)))),C("span",la,b(_.title),1)])]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value"])):S("",!0),u.key==="action"?(s(),y(r,{key:2,checked:m.enabled,"onUpdate:checked":_=>m.enabled=_},null,8,["checked","onUpdate:checked"])):S("",!0)]),_:2},1032,["data-source","columns"])):S("",!0)]),_:2},1024))),128))]),_:1},8,["activeKey"])):S("",!0)]),_:1})):(s(),y(k,{key:1},{default:n(()=>[h(t,{ref_key:"formRef",ref:ke,model:l(i),name:"template-editor-form",onKeydown:a[3]||(a[3]=Ie(d=>z("import"),["enter"]))},{default:n(()=>[l(i).tables&&e.quickImportType==="excel"?(s(),D("p",oa,b(l(i).tables.length)+" sheet"+b(l(i).tables.length>1?"s":"")+" available for import ",1)):S("",!0),l(i).tables&&l(i).tables.length?(s(),y(Q,{key:1,activeKey:l(j),"onUpdate:activeKey":a[2]||(a[2]=d=>Me(j)?j.value=d:null),class:"template-collapse",accordion:""},{default:n(()=>[(s(!0),D(q,null,X(l(i).tables,(d,f)=>(s(),y(Z,{key:f},{header:n(()=>[h(R,de(l(ae)[`tables.${f}.table_name`],{"no-style":""}),{default:n(()=>{var u,m;return[C("div",sa,[h(T,{value:d.table_name,"onUpdate:value":_=>d.table_name=_,class:"font-weight-bold text-lg",size:"large","hide-details":"",bordered:!1,onClick:a[1]||(a[1]=me(()=>{},["stop"])),onBlur:_=>Se(f),onKeydown:Ie(_=>Se(f),["enter"]),onDblclick:_=>we(f,!0)},null,8,["value","onUpdate:value","onBlur","onKeydown","onDblclick"]),(u=l(Y))!=null&&u[`tables.${f}.table_name`]?(s(),D("div",ia,b((m=l(Y))==null?void 0:m[`tables.${f}.table_name`].join(`
`)),1)):S("",!0)])]}),_:2},1040)]),extra:n(()=>[h(o,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.deleteTable")),1)]),default:n(()=>[l(i).tables.length>1?(s(),y(U(l(F).delete),{key:0,class:"text-lg mr-8",onClick:me(u=>Te(f),["stop"])},null,8,["onClick"])):S("",!0)]),_:2},1024)]),default:n(()=>[d.columns&&d.columns.length?(s(),y(O,{key:0,class:"template-form","row-class-name":"template-form-row","data-source":d.columns,columns:l(Qt),pagination:d.columns.length>50?{defaultPageSize:50,position:["bottomCenter"]}:!1},{emptyText:n(()=>[h(v,{image:l(ce).PRESENTED_IMAGE_SIMPLE,description:e.$t("labels.noData")},null,8,["image","description"])]),headerCell:n(({column:u})=>[u.key==="column_name"?(s(),D("span",ra,b(e.$t("labels.columnName")),1)):u.key==="uidt"?(s(),D("span",ua,b(e.$t("labels.columnType")),1)):u.key==="dtxp"&&l(te)[f]?(s(),D("span",ma,b(e.$t("general.options")),1)):S("",!0)]),bodyCell:n(({column:u,record:m})=>[u.key==="column_name"?(s(),y(R,Ue(de({key:0},l(ae)[`tables.${f}.columns.${m.key}.${u.key}`])),{default:n(()=>[h(T,{ref_for:!0,ref:_=>l(oe)[m.key]=_,value:m.title,"onUpdate:value":_=>m.title=_},null,8,["value","onUpdate:value"])]),_:2},1040)):u.key==="uidt"?(s(),y(R,Ue(de({key:1},l(ae)[`tables.${f}.columns.${m.key}.${u.key}`])),{default:n(()=>[h(V,{value:m.uidt,"onUpdate:value":_=>m.uidt=_,class:"w-52","show-search":"","filter-option":he,"dropdown-class-name":"nc-dropdown-template-uidt",onChange:_=>mt(m,d)},{default:n(()=>[(s(!0),D(q,null,X(l(Qe),(_,H)=>(s(),y(E,{key:H,value:_.value},{default:n(()=>{var B;return[h(o,{placement:"right"},Ct({default:n(()=>[J(" "+b(_.label),1)]),_:2},[rt(_.label,(B=d.columns[m.key])==null?void 0:B._disableSelect)?{name:"title",fn:n(()=>[J(b(e.$t("msg.tooLargeFieldEntity",{entity:_.label})),1)]),key:"0"}:void 0]),1024)]}),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","onChange"])]),_:2},1040)):u.key==="dtxp"?(s(),D(q,{key:2},[Ce(m)?(s(),y(R,{key:0},{default:n(()=>[h(T,{value:m.dtxp,"onUpdate:value":_=>m.dtxp=_},null,8,["value","onUpdate:value"])]),_:2},1024)):S("",!0)],64)):S("",!0),u.key==="action"?(s(),D(q,{key:3},[m.key===0?(s(),y(o,{key:0},{title:n(()=>[C("span",null,b(e.$t("general.primaryValue")),1)]),default:n(()=>[C("div",ca,[h($,{class:"text-lg"})])]),_:1})):(s(),y(o,{key:1},{title:n(()=>[C("span",null,b(e.$t("activity.column.delete")),1)]),default:n(()=>[h(c,{type:"text",onClick:_=>at(f,m.key)},{default:n(()=>[C("div",da,[(s(),y(U(l(F).delete),{class:"text-lg"}))])]),_:2},1032,["onClick"])]),_:2},1024))],64)):S("",!0)]),_:2},1032,["data-source","columns","pagination"])):S("",!0),C("div",fa,[h(o,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.column.addNumber")),1)]),default:n(()=>[h(c,{class:"group",onClick:u=>ne(f,"Number")},{default:n(()=>[C("div",pa,[(s(),y(U(l(F).number),{class:"group-hover:!text-accent flex text-lg"}))])]),_:2},1032,["onClick"])]),_:2},1024),h(o,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.column.addSingleLineText")),1)]),default:n(()=>[h(c,{class:"group",onClick:u=>ne(f,"SingleLineText")},{default:n(()=>[C("div",_a,[(s(),y(U(l(F).text),{class:"group-hover:!text-accent text-lg"}))])]),_:2},1032,["onClick"])]),_:2},1024),h(o,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.column.addLongText")),1)]),default:n(()=>[h(c,{class:"group",onClick:u=>ne(f,"LongText")},{default:n(()=>[C("div",ya,[(s(),y(U(l(F).longText),{class:"group-hover:!text-accent text-lg"}))])]),_:2},1032,["onClick"])]),_:2},1024),h(o,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.column.addOther")),1)]),default:n(()=>[h(c,{class:"group",onClick:u=>ne(f,"SingleLineText")},{default:n(()=>[C("div",va,[(s(),y(U(l(F).plus),{class:"group-hover:!text-accent text-lg"}))])]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]),_:1},8,["activeKey"])):S("",!0)]),_:1},8,["model"])]),_:1}))]),_:1},8,["spinning"])}}});const gn=Wt(ga,[["__scopeId","data-v-3f82a7e1"]]);export{gn as default};
