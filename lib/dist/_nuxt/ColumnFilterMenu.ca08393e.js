import{u as B,_ as M}from"./ColumnFilter.802d2beb.js";import{_ as S}from"./Dropdown.vue.0d2ed10f.js";import{f as j,A as I,G as L}from"./index.9b87fcff.js";import{f as N,bb as c,r as e,$ as V,g as A,H as O,ba as T,c9 as $,o as i,P as n,w as l,b as z,a as d,S as E,O as t,au as G,Q as R,R as U,c as u,t as f,T as _,W as H,a8 as P}from"./entry.5958c07b.js";import{u as Q}from"./index.852e6a77.js";import{a as W}from"./useSmartsheetStore.f1a70558.js";import"./Select.vue.8e3ebbe2.js";import"./Button.vue.c3ca0e8f.js";import"./index.55641318.js";import"./debounce.7c24f171.js";import"./toNumber.e09cd85a.js";import"./isSymbol.114fe557.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Icon.vue.129448d5.js";import"./index.5c6e4286.js";import"./toArray.fd74ce6f.js";import"./antInputDirective.8ac36ea7.js";import"./isMobile.e2e89480.js";import"./useMemo.1dd071d8.js";import"./useState.b891c8bb.js";import"./CheckOutlined.1fe5f230.js";import"./SearchOutlined.a517903c.js";import"./FormItemContext.ddc65fa5.js";import"./FieldListAutoCompleteDropdown.vue.cf11aa27.js";import"./VirtualCellIcon.aeca9423.js";import"./virtualCell.427fa223.js";import"./CellIcon.b1340151.js";import"./cell.165313cd.js";import"./bases.e6c8e3c4.js";import"./index.0feaca99.js";import"./Tooltip.vue.971897f4.js";import"./useViewColumns.f203dc14.js";import"./index.e61e381a.js";import"./SingleSelect.88dd232c.js";import"./index.c35df397.js";import"./index.27219acd.js";import"./MultiSelect.80d71292.js";import"./close-circle.a109f73b.js";import"./DatePicker.904f6df7.js";import"./dayjs.d5bc2934.js";import"./index.07afd4b8.js";import"./createForOfIteratorHelper.33de41ba.js";import"./YearPicker.ac87847c.js";import"./TimePicker.404be71b.js";import"./Rating.vue.3114901e.js";import"./useRefs.40c81887.js";import"./Duration.22d56985.js";import"./durationUtils.4b78cf29.js";import"./Percent.11071c04.js";import"./index.44969945.js";import"./Currency.c819152e.js";import"./Decimal.63afd6eb.js";import"./Integer.13854176.js";import"./Float.47cfb45e.js";import"./Text.vue.afb9f041.js";import"./User.975ecf96.js";import"./UserIcon.74e37fbe.js";import"./index.025c8e21.js";import"./index.5e1434a7.js";import"./Checkbox.2e7b0035.js";import"./index.dc13a4d6.js";import"./Dropdown.041b2468.js";import"./RightOutlined.7161c742.js";import"./views.4281cbf1.js";import"./useSharedView.e8f68616.js";const q={class:"flex items-center gap-2"},J={key:0,class:"text-capitalize !text-sm font-medium"},K={key:1,class:"bg-brand-50 text-brand-500 py-1 px-2 text-md rounded-md"},no=N({__name:"ColumnFilterMenu",setup(X){const b=c(j,e(!1)),s=c(I,e()),{isMobileMode:v}=V(),h=e(),{nestedFilters:w}=W(),{nonDeletedFilters:x,loadFilters:y}=B(s,void 0,A(()=>!0),()=>!1,w.value,!0),r=e(0);O(()=>{var o;return(o=s==null?void 0:s.value)==null?void 0:o.id},async o=>{o&&(await y(),r.value=x.value.length||0)},{immediate:!0});const m=e(!1),C=e({});return T(L,C),Q(m),(o,a)=>{const g=P,k=M,F=S,D=$("e");return i(),n(F,{visible:t(m),"onUpdate:visible":a[1]||(a[1]=p=>H(m)?m.value=p:null),trigger:["click"],"overlay-class-name":"nc-dropdown-filter-menu nc-toolbar-dropdown",class:"!xs:hidden"},{overlay:l(()=>[z(k,{ref_key:"filterComp",ref:h,class:"nc-table-toolbar-menu","auto-save":!0,"data-testid":"nc-filter-menu","onUpdate:filtersLength":a[0]||(a[0]=p=>r.value=p)},null,512)]),default:l(()=>[d("div",{class:E({"nc-active-btn":t(r)})},[G((i(),n(g,{class:"nc-filter-menu-btn nc-toolbar-btn txt-sm",disabled:t(b)},{default:l(()=>[d("div",q,[(i(),n(R(t(U).filter),{class:"h-4 w-4"})),t(v)?_("",!0):(i(),u("span",J,f(o.$t("activity.filter")),1)),t(r)?(i(),u("span",K,f(t(r)),1)):_("",!0)])]),_:1},8,["disabled"])),[[D,["c:filter"]]])],2)]),_:1},8,["visible"])}}});export{no as default};
