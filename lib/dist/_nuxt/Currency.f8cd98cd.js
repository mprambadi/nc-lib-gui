import{f as N,$ as F,bb as l,r as m,a5 as U,g as c,i as V,O as n,au as D,ey as B,o as a,c as r,W as O,S as $,bv as u,cb as t,t as C}from"./entry.96205fa0.js";import{C as K,E as z,r as G,l as P,c as R}from"./index.9b87fcff.js";import{p as T}from"./bases.965a49bb.js";import{_ as W}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.0c5b3837.js";const q=["placeholder"],A={key:1,class:"nc-null uppercase"},H={key:2},J={key:3},L=N({__name:"Currency",props:{modelValue:{}},emits:["update:modelValue","save"],setup(w,{emit:x}){const I=w,v=x,{showNull:M}=F(),p=l(K),f=l(z),y=l(G,m(!1)),i=U(I,"modelValue",v),o=c({get:()=>i.value,set:s=>{s===""?i.value=null:i.value=s}}),d=m(),b=c(()=>{var s;return{currency_locale:"en-US",currency_code:"USD",...T((s=p==null?void 0:p.value)==null?void 0:s.meta)}}),E=c(()=>{try{return o.value===null||o.value===void 0||isNaN(o.value)?o.value:new Intl.NumberFormat(b.value.currency_locale||"en-US",{style:"currency",currency:b.value.currency_code||"USD"}).format(o.value)}catch{return o.value}}),_=l(P,m(!1)),S=l(R),g=s=>!_.value&&!y.value&&!S.value&&(s==null?void 0:s.focus()),j=()=>{d.value!==o.value&&(o.value=d.value=o.value??null,v("save")),f.value=!1};return V(()=>{d.value=o.value}),(s,e)=>n(f)?D((a(),r("input",{key:0,ref:g,"onUpdate:modelValue":e[0]||(e[0]=k=>O(o)?o.value=k:null),type:"number",class:$(["w-full h-full text-sm border-none rounded-md py-1 outline-none focus:outline-none focus:ring-0",n(_)?"px-2":"px-0"]),placeholder:n(y)?s.$t("labels.optional"):"",onBlur:j,onKeydown:[e[1]||(e[1]=u(t(()=>{},["stop"]),["down"])),e[2]||(e[2]=u(t(()=>{},["stop"]),["left"])),e[3]||(e[3]=u(t(()=>{},["stop"]),["right"])),e[4]||(e[4]=u(t(()=>{},["stop"]),["up"])),e[5]||(e[5]=u(t(()=>{},["stop"]),["delete"]))],onSelectstartCapture:e[6]||(e[6]=t(()=>{},["stop"])),onMousedown:e[7]||(e[7]=t(()=>{},["stop"])),onContextmenu:e[8]||(e[8]=t(()=>{},["stop"]))},null,42,q)),[[B,n(o)]]):n(o)===null&&n(M)?(a(),r("span",A,C(s.$t("general.null")),1)):isNaN(n(o))?(a(),r("span",J)):(a(),r("span",H,C(n(E)),1))}});const ee=W(L,[["__scopeId","data-v-2ebe5953"]]);export{ee as default};
