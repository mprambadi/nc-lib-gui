import{f as W,bb as r,bA as q,r as _,aM as J,eD as Q,g as w,o as a,c as d,a as X,O as e,U as T,V as Y,P as v,cb as g,T as c,b as Z,W as b,a0 as j,a1 as A}from"./entry.5958c07b.js";import{_ as ee}from"./ItemChip.62435f04.js";import{_ as te}from"./Icon.vue.129448d5.js";import{C as oe,n as ne,o as ae,B as se,c as le,i as re,H as ie,m as ue}from"./index.9b87fcff.js";import{u as me}from"./useLTARStore.59a45d45.js";import{u as ce}from"./index.c35df397.js";import{a as pe}from"./useSmartsheetRowStore.5b92cc1b.js";import{_ as _e}from"./_plugin-vue_export-helper.c27b6911.js";import"./dataUtils.3f874ca1.js";import"./cell.165313cd.js";import"./index.86363aca.js";import"./index.e61e381a.js";import"./bases.e6c8e3c4.js";import"./index.0feaca99.js";import"./useSharedView.e8f68616.js";import"./deepCompare.d32ec333.js";import"./virtualCell.427fa223.js";const de=j(()=>A(()=>import("./ListItems.aa19e1cf.js"),["./ListItems.aa19e1cf.js","./entry.5958c07b.js","./entry.bdecbb78.css","./Button.vue.c3ca0e8f.js","./index.55641318.js","./debounce.7c24f171.js","./toNumber.e09cd85a.js","./isSymbol.114fe557.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Pagination.c0f166a7.js","./Icon.vue.129448d5.js","./Tooltip.vue.971897f4.js","./Tooltip.b86f91a1.css","./index.5c6e4286.js","./toArray.fd74ce6f.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.1dd071d8.js","./useState.b891c8bb.js","./CheckOutlined.1fe5f230.js","./SearchOutlined.a517903c.js","./FormItemContext.ddc65fa5.js","./Pagination.fabf8b70.css","./Modal.vue.0f13e4cb.js","./DeleteModal.7ab6f524.css","./bases.e6c8e3c4.js","./index.0feaca99.js","./index.9b87fcff.js","./cell.165313cd.js","./useLTARStore.59a45d45.js","./index.e61e381a.js","./useSharedView.e8f68616.js","./useSmartsheetRowStore.5b92cc1b.js","./deepCompare.d32ec333.js","./dataUtils.3f874ca1.js","./virtualCell.427fa223.js","./plus.dc1af860.js","./magnify.3b643360.js","./inbox.954d1e59.js","./index.ae235b22.js","./Input.dca3a2bc.js","./isPlainObject.ccda79fe.js","./_getPrototype.c1f3bae2.js","./TextArea.9074ff05.js","./Password.f52125e7.js","./Image.c63a7a56.js","./Element.a1e4f356.js","./index.36af7517.js","./Input.8209df88.js","./ListItems.d8bb4ba4.css"],import.meta.url).then(i=>i.default||i)),ve=j(()=>A(()=>import("./ListChildItems.1dbe126e.js"),["./ListChildItems.1dbe126e.js","./entry.5958c07b.js","./entry.bdecbb78.css","./Button.vue.c3ca0e8f.js","./index.55641318.js","./debounce.7c24f171.js","./toNumber.e09cd85a.js","./isSymbol.114fe557.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Pagination.c0f166a7.js","./Icon.vue.129448d5.js","./Tooltip.vue.971897f4.js","./Tooltip.b86f91a1.css","./index.5c6e4286.js","./toArray.fd74ce6f.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.1dd071d8.js","./useState.b891c8bb.js","./CheckOutlined.1fe5f230.js","./SearchOutlined.a517903c.js","./FormItemContext.ddc65fa5.js","./Pagination.fabf8b70.css","./Modal.vue.0f13e4cb.js","./DeleteModal.7ab6f524.css","./bases.e6c8e3c4.js","./index.0feaca99.js","./index.9b87fcff.js","./cell.165313cd.js","./useLTARStore.59a45d45.js","./index.e61e381a.js","./useSharedView.e8f68616.js","./useSmartsheetRowStore.5b92cc1b.js","./deepCompare.d32ec333.js","./dataUtils.3f874ca1.js","./virtualCell.427fa223.js","./plus.dc1af860.js","./magnify.3b643360.js","./inbox.954d1e59.js","./index.ae235b22.js","./Input.dca3a2bc.js","./isPlainObject.ccda79fe.js","./_getPrototype.c1f3bae2.js","./TextArea.9074ff05.js","./Password.f52125e7.js","./Image.c63a7a56.js","./Element.a1e4f356.js","./Input.8209df88.js","./ListChildItems.7a5d47c9.css"],import.meta.url).then(i=>i.default||i)),fe={class:"flex items-center gap-1 w-full chips-wrapper"},ye={class:"chips flex items-center img-container flex-1 hm-items flex-nowrap min-w-0 overflow-hidden"},ke={key:0,class:"flex justify-end gap-1 min-h-[30px] items-center"},xe=W({__name:"ManyToMany",async setup(i){let I,R;const p=r(oe),M=r(ne),u=r(ae),E=r(se,q()),U=r(le),D=r(re,_(!1)),P=r(ie,_(!1)),s=_(!1),l=_(!1),{isUIAllowed:B}=J(),{state:f,isNew:y,removeLTARRef:O}=pe(),{relatedTableMeta:$,loadRelatedTableMeta:z,relatedTableDisplayValueProp:k,unlink:N}=me(p,M,y,E.trigger);[I,R]=Q(()=>z()),await I,R();const V=w(()=>{var t;return u!=null&&u.value?(u==null?void 0:u.value)??[]:y.value?((t=f==null?void 0:f.value)==null?void 0:t[p==null?void 0:p.value.title])??[]:[]}),x=w(()=>V.value.reduce((t,o)=>{if(!k.value)return t;const m=o[k.value];return m?[...t,{value:m,item:o}]:t},[])),S=async t=>{y.value?await O(t,p.value):await N(t)},F=()=>{l.value=!1,s.value=!0};ce(r(ue,_(!1)),t=>{switch(t.key){case"Enter":s.value=!0,t.stopPropagation();break}});const C=w(()=>{var t,o;return(o=(t=$.value)==null?void 0:t.columns)==null?void 0:o.find(m=>m.title===k.value)});return(t,o)=>{var L;const m=ee,h=te,H=de,G=ve;return a(),d("div",fe,[X("div",ye,[e(x)?(a(),d(T,{key:0},[(a(!0),d(T,null,Y(e(x),(n,K)=>(a(),v(m,{key:K,item:n.item,value:n.value,column:e(C),"show-unlink-button":!0,onUnlink:Ce=>S(n.item)},null,8,["item","value","column","onUnlink"]))),128)),((L=e(x))==null?void 0:L.length)===10?(a(),d("span",{key:0,class:"caption pointer ml-1 grey--text",onClick:o[0]||(o[0]=g(n=>l.value=!0,["stop"]))}," more... ")):c("",!0)],64)):c("",!0)]),!e(P)||e(U)?(a(),d("div",ke,[Z(h,{icon:"expand",class:"text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-arrow-expand",onClick:o[1]||(o[1]=g(n=>l.value=!0,["stop"]))}),!e(D)&&e(B)("dataEdit")?(a(),v(h,{key:0,icon:"plus",class:"text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-plus",onClick:o[2]||(o[2]=g(n=>s.value=!0,["stop"]))})):c("",!0)])):c("",!0),e(s)||e(l)?(a(),v(H,{key:1,modelValue:e(s),"onUpdate:modelValue":o[3]||(o[3]=n=>b(s)?s.value=n:null),column:e(C)},null,8,["modelValue","column"])):c("",!0),e(s)||e(l)?(a(),v(G,{key:2,modelValue:e(l),"onUpdate:modelValue":o[4]||(o[4]=n=>b(l)?l.value=n:null),"cell-value":e(V),column:e(C),onAttachRecord:F},null,8,["modelValue","cell-value","column"])):c("",!0)])}}});const Oe=_e(xe,[["__scopeId","data-v-e7d1f3c6"]]);export{Oe as default};
