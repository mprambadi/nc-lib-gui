import{f as j,$ as F,bb as r,r as m,g as d,a5 as V,H as O,O as o,au as K,ey as R,o as f,c as v,W as $,S as B,bv as u,cb as n,t as b}from"./entry.96205fa0.js";import{E as A,C as J,r as U,l as h,c as z}from"./index.9b87fcff.js";import{_ as G}from"./_plugin-vue_export-helper.c27b6911.js";const H=["step","placeholder","onKeydown"],T={key:1,class:"nc-null uppercase"},W={key:2,class:"text-sm"},q=j({__name:"Decimal",props:{modelValue:{}},emits:["update:modelValue"],setup(w,{emit:x}){const _=w,D=x,{showNull:E}=F(),c=r(A),s=r(J,null),y=r(U,m(!1)),I=m(),N=d(()=>typeof(s==null?void 0:s.value.meta)=="string"?JSON.parse(s.value.meta):(s==null?void 0:s.value.meta)??{}),a=V(_,"modelValue",D),k=d(()=>a.value===null||isNaN(Number(a.value))?null:Number(a.value).toFixed(N.value.precision??1)),p=d({get:()=>a.value,set:e=>{e===""?a.value=null:a.value=e}}),C=d(()=>{const t=(typeof(s==null?void 0:s.value.meta)=="string"?JSON.parse(s.value.meta):(s==null?void 0:s.value.meta)??{}).precision??1;return Number(.1**t).toFixed(t)}),i=r(h,m(!1)),M=r(z),g=e=>{var t,l;e.key==="ArrowDown"?(e.preventDefault(),e.target.type="text",(t=e.target)==null||t.setSelectionRange(e.target.value.length,e.target.value.length),e.target.type="number"):e.key==="ArrowUp"&&(e.preventDefault(),e.target.type="text",(l=e.target)==null||l.setSelectionRange(0,0),e.target.type="number")},S=e=>!i.value&&!y.value&&!M.value&&(e==null?void 0:e.focus());return O(i,()=>{var e;i.value||(e=I.value)==null||e.focus()}),(e,t)=>o(c)?K((f(),v("input",{key:0,ref:S,"onUpdate:modelValue":t[0]||(t[0]=l=>$(p)?p.value=l:null),class:B(["outline-none py-1 border-none rounded-md w-full h-full !text-sm",o(i)?"px-2":"px-0"]),type:"number",step:o(C),placeholder:o(y)?e.$t("labels.optional"):"",style:{"letter-spacing":"0.06rem"},onBlur:t[1]||(t[1]=l=>c.value=!1),onKeydown:[u(n(g,["stop"]),["down"]),t[2]||(t[2]=u(n(()=>{},["stop"]),["left"])),t[3]||(t[3]=u(n(()=>{},["stop"]),["right"])),u(n(g,["stop"]),["up"]),t[4]||(t[4]=u(n(()=>{},["stop"]),["delete"]))],onSelectstartCapture:t[5]||(t[5]=n(()=>{},["stop"])),onMousedown:t[6]||(t[6]=n(()=>{},["stop"]))},null,42,H)),[[R,o(p)]]):o(p)===null&&o(E)?(f(),v("span",T,b(e.$t("general.null")),1)):(f(),v("span",W,b(o(k)),1))}});const X=G(q,[["__scopeId","data-v-beee109c"]]);export{X as default};
