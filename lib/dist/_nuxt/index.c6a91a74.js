import{f as C,g as A,o as p,P as O,w as c,d as V,t as h,c as v,U as S,V as T,b as y,a as b,O as w,W as D,S as I,bv as R,ah as $,bz as x,bB as B,M as K,c8 as N,u as J,r as M,ad as z,e0 as P,X as E,Y as G,i as U,l as F,a6 as j,a0 as q,cd as H,eR as W,a1 as X,C as Y}from"./entry.96205fa0.js";import{_ as Q,a as Z}from"./index.62a31271.js";import{a as ee}from"./bases.965a49bb.js";import{u as te}from"./index.a2bc84ea.js";import{u as oe}from"./index.b578efc7.js";import{_ as re}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.9e8f59f4.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isSymbol.d46b4957.js";import"./index.339951af.js";import"./LeftOutlined.5e2085dd.js";import"./RightOutlined.3ce786f5.js";import"./index.b5e393d6.js";import"./toArray.3561b70e.js";import"./antInputDirective.8ac36ea7.js";import"./isMobile.e2e89480.js";import"./useMemo.dbc63a5f.js";import"./useState.5a301439.js";import"./CheckOutlined.3b90c20d.js";import"./SearchOutlined.c9794270.js";import"./FormItemContext.b19eb48c.js";import"./useBreakpoint.2e009418.js";import"./responsiveObserve.358bcfe9.js";import"./Col.b3c5d725.js";import"./eagerComputed.5bad0f6f.js";import"./index.0c5b3837.js";const se={class:"font-bold"},ae={class:"inline-block"},ie={class:"inline-block text-right"},ne=C({__name:"KeyboardShortcuts",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(u,{emit:_}){const m=_,s=A({get:()=>u.modelValue,set:l=>m("update:modelValue",l)}),o=()=>x()?"⌘":"CTRL",r=()=>x()?"⌥":"ALT",k=[{title:"General",shortcuts:[{keys:["ALT","T"],behaviour:"Insert new table"},{keys:["ALT","R"],behaviour:"Insert new row"},{keys:["ALT","C"],behaviour:"Insert new column"},{keys:["ALT","F"],behaviour:"Toggle fullscreen mode"},{keys:["ALT","I"],behaviour:"Invite a member to team"},{keys:["ALT",","],behaviour:"Open Team & Settings"}]},{title:"Grid View",shortcuts:[{keys:[r(),"←"],behaviour:"Jump to previous page in this view"},{keys:[r(),"→"],behaviour:"Jump to next page in this view"},{keys:[r(),"↑"],behaviour:"Jump to last page in this view"},{keys:[r(),"↓"],behaviour:"Jump to first page in this view"},{keys:[o(),"←"],behaviour:"Jump to leftmost column in this row"},{keys:[o(),"→"],behaviour:"Jump to rightmost column in this row"},{keys:[o(),"↑"],behaviour:"Jump to first record in this column (in same page)"},{keys:[o(),"↓"],behaviour:"Jump to last record in this column (in same page)"},{keys:[o(),"C"],behaviour:"Copy cell contents"},{keys:["Enter"],behaviour:"Switch cell in focus to EDIT mode; opens modal / picker if cell is associated with one"},{keys:["Esc"],behaviour:"Exit cell EDIT mode"},{keys:["Delete"],behaviour:"Clear cell"},{keys:["Space"],behaviour:"Expand current row"},{keys:["←","→","↑","↓"],behaviour:"General cell navigation"},{keys:["Tab"],behaviour:"Move to next cell horizontally; if on last cell, move to next row beginning"}]},{title:"Text / Number",shortcuts:[{keys:["←"],behaviour:"Move cursor to the left"},{keys:["→"],behaviour:"Move cursor to the right"},{keys:["↑"],behaviour:"Move cursor to the left"},{keys:["↓"],behaviour:"Move cursor to the right"}]},{title:"SingleSelect",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"},{keys:["Enter"],behaviour:"Select the current option"}]},{title:"MultiSelect",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"},{keys:["Enter"],behaviour:"Select / deselect the current option"}]},{title:"Date / DateTime",shortcuts:[{keys:[o(),";"],behaviour:"Select current date time"}]},{title:"LinkToAnotherRecord",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"}]},{title:"Checkbox",shortcuts:[{keys:["Enter"],behaviour:"Toggle"}]},{title:"Rating",shortcuts:[{keys:["<0 ~ Max>"],behaviour:"Enter number to toggle rating"}]},{title:"Expanded Form",shortcuts:[{keys:[o(),"Enter"],behaviour:"Save current expanded form item"},{keys:[r(),"→"],behaviour:"Switch to next row"},{keys:[r(),"←"],behaviour:"Switch to previous row"},{keys:[r(),"S"],behaviour:"Save current expanded form item"},{keys:[r(),"N"],behaviour:"Create a new row"}]}];return(l,n)=>{const f=Q,g=Z,e=$;return p(),O(e,{visible:w(s),"onUpdate:visible":n[0]||(n[0]=t=>D(s)?s.value=t:null),class:I([{active:w(s)},"p-2"]),width:"max(30vw, 600px)",footer:null,"wrap-class-name":`nc-modal-keyboard-shortcuts ${w(s)?"active":""}`,onKeydown:n[1]||(n[1]=R(t=>s.value=!1,["esc"]))},{title:c(()=>[V(h(l.$t("title.keyboardShortcut")),1)]),default:c(()=>[(p(),v(S,null,T(k,(t,a)=>y(g,{key:a,class:"nc-shortcut-list !mb-5",size:"small",bordered:"","data-source":t.shortcuts},{header:c(()=>[b("div",se,h(t.title),1)]),renderItem:c(({item:i})=>[y(f,null,{default:c(()=>[b("span",ae,[(p(!0),v(S,null,T(i.keys,(d,L)=>(p(),v("kbd",{key:L,class:"ml-[1px] mr-[1px] px-[8px] py-[3px] border-b-[3px] uppercase border-1 border-solid border-primary border-opacity-50 rounded"},h(d),1))),128))]),b("span",ie,h(i.behaviour),1)]),_:2},1024)]),_:2},1032,["data-source"])),64))]),_:1},8,["visible","class","wrap-class-name"])}}}),ue=q(()=>X(()=>import("./PreviewAs.cce6dd90.js"),["./PreviewAs.cce6dd90.js","./entry.96205fa0.js","./entry.d09b2482.css","./index.10eee714.js","./Checkbox.cf2cdba0.js","./FormItemContext.b19eb48c.js","./_plugin-vue_export-helper.c27b6911.js","./PreviewAs.c1f55c72.css"],import.meta.url).then(u=>u.default||u)),le=C({__name:"index",setup(u){B();const{t:_}=K(),{$e:m}=Y(),s=N(),o=J(),r=ee(),{loadProject:k}=r,{toggle:l,toggleHasSidebar:n}=oe("nc-left-sidebar",{hasSidebar:!0,isOpen:!0}),f=M(!1);z("Escape",()=>{f.value=!1},{eventName:"keydown"}),P(async()=>{var i;try{await k()}catch(d){if(((i=d.response)==null?void 0:i.status)===403){E.error(_("msg.error.projectNotAccessible")),o.replace("/");return}E.error(await G(d))}const{type:e,name:t,view:a}=s.query;e&&t&&await o.replace(`/nc/${s.params.baseId}/${e}/${t}${a?`/${a}`:""}`)}),U(()=>{l(!0),n(!0)}),F(()=>{});function g(){m("a:actions:keyboard-shortcut");const e=M(!0),{close:t}=te(ne,{modelValue:e,"onUpdate:modelValue":a});function a(){e.value=!1,t(1e3)}}return j(document,"keydown",async e=>{if(x()?e.metaKey:e.ctrlKey)switch(e.key){case"/":W()||(m("c:shortcut",{key:"CTRL + /"}),g());break}}),(e,t)=>{const a=H,i=ue;return p(),v("div",null,[b("div",null,[y(a),y(i,{float:""})])])}}});const Be=re(le,[["__scopeId","data-v-164640a1"]]);export{Be as default};
