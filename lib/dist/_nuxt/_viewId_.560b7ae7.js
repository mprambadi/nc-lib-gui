import{f as M,c8 as R,M as $,eD as j,ba as l,r as v,ff as B,D as E,fg as H,N as T,H as U,o as m,P as g,w as a,ca as q,bA as z,O as e,T as b,b as r,a as p,t as d,cl as A,c as L,W as O,S as W,cd as G,ah as J}from"./entry.96205fa0.js";import{b as K,c as Q,R as X,M as Y}from"./index.9b87fcff.js";import{a as Z}from"./useSharedFormViewStore.3cb83261.js";import{u as ee}from"./useSmartsheetStore.7d51347e.js";import{u as oe}from"./index.b578efc7.js";import{F as se}from"./index.886d43e1.js";import{_ as te}from"./Password.803cc3dc.js";import{_ as ae}from"./FormItem.9f1f85f2.js";import{_ as re}from"./_plugin-vue_export-helper.c27b6911.js";import"./bases.965a49bb.js";import"./index.0c5b3837.js";import"./index.e034edbd.js";import"./useSmartsheetRowStore.9c7d6fc1.js";import"./deepCompare.d32ec333.js";import"./dataUtils.fb0a3616.js";import"./virtualCell.9142cfee.js";import"./views.2c163cf7.js";import"./useSharedView.9e320acb.js";import"./useSize.c98e621d.js";import"./identity.309e9ead.js";import"./isSymbol.d46b4957.js";import"./_flatRest.ce557a88.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isPlainObject.631eb8fb.js";import"./_getPrototype.459a70cf.js";import"./FormItemContext.b19eb48c.js";import"./Input.3f1aaf0c.js";import"./antInputDirective.8ac36ea7.js";import"./Col.b3c5d725.js";import"./responsiveObserve.358bcfe9.js";import"./toArray.3561b70e.js";const ne={class:"w-full flex flex-col gap-4"},ie={class:"text-xl font-semibold"},le={key:0,class:"mb-2 text-sm text-red-500"},me={type:"submit",class:"mt-4 scaling-btn bg-opacity-100"},pe=M({__name:"[viewId]",async setup(de){let _,u;oe("nc-left-sidebar",{hasSidebar:!1});const h=R(),{t:y}=$(),{loadSharedView:c,sharedView:x,sharedViewMeta:I,meta:f,notFound:S,password:k,passwordDlg:o,passwordError:w}=Z(h.params.viewId);if([_,u]=j(()=>c()),await _,u(),!S.value)l(X,z()),l(Y,f),l(K,v(!0)),l(Q,v(!0)),ee(x,f,!0),B(I.value.rtl?"rtl":"ltr");else throw E("/error/404"),H({statusCode:404,statusMessage:y("msg.pageNotFound")});const t=T({password:""});return U(()=>t.password,()=>{k.value=t.password}),(n,s)=>{const F=G,V=te,C=ae,N=se,P=J,D=q;return m(),g(D,null,{default:a(()=>[e(o)?b("",!0):(m(),g(F,{key:0})),r(P,{visible:e(o),"onUpdate:visible":s[1]||(s[1]=i=>O(o)?o.value=i:null),class:W({active:e(o)}),closable:!1,width:"min(100%, 450px)",centered:"",footer:null,"mask-closable":!1,"wrap-class-name":"nc-modal-shared-form-password-dlg",onClose:s[2]||(s[2]=i=>o.value=!1)},{default:a(()=>[p("div",ne,[p("h2",ie,d(n.$t("msg.thisSharedViewIsProtected")),1),r(N,{layout:"vertical","no-style":"",model:e(t),onFinish:e(c)},{default:a(()=>[r(C,{name:"password",rules:[{required:!0,message:n.$t("msg.error.signUpRules.passwdRequired")}]},{default:a(()=>[r(V,{value:e(t).password,"onUpdate:value":s[0]||(s[0]=i=>e(t).password=i),size:"large",placeholder:n.$t("msg.enterPassword")},null,8,["value","placeholder"])]),_:1},8,["rules"]),r(A,{name:"layout"},{default:a(()=>[e(w)?(m(),L("div",le,d(e(w)),1)):b("",!0)]),_:1}),p("button",me,d(n.$t("general.unlock")),1)]),_:1},8,["model","onFinish"])])]),_:1},8,["visible","class"])]),_:1})}}});const Le=re(pe,[["__scopeId","data-v-bff6a2a0"]]);export{Le as default};
