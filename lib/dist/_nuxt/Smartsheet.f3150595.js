import{f as At,bb as ar,r as ve,bF as ot,ag as Yi,g as Le,cZ as Zi,cG as ze,a6 as Xi,bz as wa,eY as hr,fQ as el,fR as qs,H as xt,i as wo,o as U,c as _e,a as B,O as S,b as N,U as st,w as F,P as re,T as ye,W as nr,d as Re,t as he,dy as tl,S as Ne,Q as bt,R as _t,cb as $r,eW as rl,cl as xo,C as ta,a7 as Eo,fS as al,X as Ge,fI as nl,p as ra,e as aa,n as na,a3 as sa,d4 as $o,a0 as Xe,a1 as et,a9 as sl,eH as oa,eI as So,c7 as Po,M as ko,$ as ol,c9 as Oo,V as Mt,au as er,aL as il,u as jo,Y as Zt,L as ll,N as ul,bv as cl,ey as fl,ae as xa,c_ as St,c$ as Ht,cE as pl,Z as dl,af as hl,aM as Do,fT as ml,aF as vl,c8 as yl,ba as vt,a2 as gl,bA as Ea,eZ as bl}from"./entry.96205fa0.js";import{_ as ia}from"./Icon.vue.6d0583a0.js";import{_ as la}from"./Button.vue.02ce6d5b.js";import{_ as _l}from"./Tooltip.vue.00c0d0fb.js";import{_ as wl}from"./Checkbox.vue.3730d8c8.js";import xl from"./VirtualCellIcon.79739fcf.js";import{_ as El}from"./CellIcon.0a028b40.js";import{_ as $l}from"./Badge.vue.534403d1.js";import{_ as Sl,a as Pl}from"./Menu.vue.55c6ca4d.js";import{_ as To}from"./Dropdown.vue.93f98e1e.js";import{_ as kl}from"./EditOrAddProvider.vue.8b187915.js";import{b as Co,c as Sr,u as Ol,a as _n,p as Ka}from"./bases.965a49bb.js";import{f as Ro,M as ua,A as wn,R as jl,h as Dl,O as Tl,F as Cl,c as Rl,T as Il,i as ql}from"./index.9b87fcff.js";import{u as Jt}from"./views.2c163cf7.js";import{u as Al,a as Fl}from"./useViewColumns.8927231f.js";import{a as Io,u as Nl}from"./useSmartsheetStore.7d51347e.js";import{_ as Ll}from"./chevron-right.53a6784f.js";import{D as Ul}from"./vuedraggable.umd.5a03c14e.js";import{I as $a}from"./iconify.e008aad7.js";import"./index.1431a68b.js";import{I as qo}from"./Input.3f1aaf0c.js";import{_ as Hl}from"./Input.553ad305.js";import{_ as or}from"./_plugin-vue_export-helper.c27b6911.js";import{S as ca}from"./index.9e8f59f4.js";import{_ as Ao}from"./Select.vue.5a200a6a.js";import{_ as Bl}from"./Editor.vue.1fd573b4.js";import{T as Ml,_ as xn}from"./index.e1ceba77.js";import{u as zl}from"./useCopy.00050b95.js";import{u as Vl}from"./useViewData.a43f0e8e.js";import{S as Fo}from"./index.b5e393d6.js";import{_ as Jl}from"./nuxt-link.672ede79.js";import{f as ct}from"./validation.64563eeb.js";import{F as As}from"./index.886d43e1.js";import{a as Ql,_ as Kl}from"./index.208c1883.js";import{_ as Wl}from"./TextArea.b81a19ed.js";import{C as Gl}from"./index.0b4c0f1e.js";import{_ as Yl}from"./FormItem.9f1f85f2.js";import{_ as Zl}from"./DeleteModal.vue.49c1a59b.js";import{_ as Xl}from"./index.4a1cb0c9.js";import{u as eu}from"./sidebar.30294def.js";import{u as tu}from"./index.b578efc7.js";import{u as ru}from"./config.bc9920dc.js";import{u as au}from"./useMapViewDataStore.adf59320.js";import{u as nu}from"./useKanbanViewStore.4bcd49a7.js";import"./virtualCell.9142cfee.js";import"./cell.810c4fd3.js";import"./index.6c1d17b6.js";import"./Dropdown.1dedd322.js";import"./RightOutlined.3ce786f5.js";import"./index.0c5b3837.js";import"./v3-infinite-loading.e5e5dc2d.js";import"./useSharedView.9e320acb.js";import"./index.e034edbd.js";import"./SearchOutlined.c9794270.js";import"./isPlainObject.631eb8fb.js";import"./_getPrototype.459a70cf.js";import"./Password.803cc3dc.js";import"./antInputDirective.8ac36ea7.js";import"./FormItemContext.b19eb48c.js";import"./Element.a2c5baa8.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isSymbol.d46b4957.js";import"./deepCompare.d32ec333.js";import"./workerUtils.81f9c0e3.js";import"./useState.5a301439.js";import"./useRefs.3fea1e39.js";import"./identity.309e9ead.js";import"./_flatRest.ce557a88.js";import"./isMobile.e2e89480.js";import"./dataUtils.fb0a3616.js";import"./axios.9cbf0d09.js";import"./toArray.3561b70e.js";import"./useMemo.dbc63a5f.js";import"./CheckOutlined.3b90c20d.js";import"./useSize.c98e621d.js";import"./Col.b3c5d725.js";import"./responsiveObserve.358bcfe9.js";import"./Checkbox.cf2cdba0.js";import"./createForOfIteratorHelper.f2005dfe.js";import"./Modal.vue.b787f37f.js";const su=""+new URL("fieldPlaceholder.9493dd67.svg",import.meta.url).href,Sa=t=>t instanceof Date,ou=t=>Object.keys(t).length===0,Wa=t=>t!=null&&typeof t=="object",Fs=(t,...e)=>Object.prototype.hasOwnProperty.call(t,...e),Pa=t=>Wa(t)&&ou(t),iu=()=>Object.create(null),Ga=(t,e)=>{if(t===e)return{};if(!Wa(t)||!Wa(e))return e;const a=Object.keys(t).reduce((n,r)=>(Fs(e,r)||(n[r]=void 0),n),iu());return Sa(t)||Sa(e)?t.valueOf()==e.valueOf()?{}:e:Object.keys(e).reduce((n,r)=>{if(!Fs(t,r))return n[r]=e[r],n;const s=Ga(t[r],e[r]);return Pa(s)&&!Sa(s)&&(Pa(t[r])||!Pa(e[r]))||(n[r]=s),n},a)},ir=t=>(ra("data-v-bb36e6c7"),t=t(),aa(),t),lu={class:"w-full p-4"},uu={class:"max-w-250 h-full w-full mx-auto"},cu={key:0,class:"flex flex-row justify-between mt-2"},fu={class:"flex flex-row gap-x-4"},pu={class:"flex w-full justify-between py-2"},du={class:"flex gap-2"},hu={class:"flex items-center gap-2"},mu={class:"flex flex-row rounded-lg border-1 overflow-clip border-gray-200"},vu=["onClick"],yu={class:"flex items-center flex-1 py-2.5 gap-1 w-2/6"},gu={class:"flex items-center justify-end gap-1"},bu={class:"flex items-center"},_u={class:"flex items-center text-xs gap-1"},wu=["onClick"],xu={class:"flex flex-row items-baseline gap-x-1 font-bold text-xs"},Eu={class:"text-gray-600"},$u={class:"flex flex-row text-gray-600 text-xs"},Su=ir(()=>B("span",null,"Duplicate",-1)),Pu=ir(()=>B("span",null,"Insert above",-1)),ku=ir(()=>B("span",null,"Insert below",-1)),Ou={class:"text-red-500"},ju={class:"flex items-center flex-1 py-2.5 gap-1 w-2/6"},Du={class:"flex items-center justify-end gap-1"},Tu={class:"flex items-center"},Cu={class:"flex items-center text-xs gap-1"},Ru={class:"flex flex-row items-baseline gap-x-1 font-bold text-xs"},Iu={class:"text-gray-600"},qu={class:"flex flex-row text-gray-600 text-xs"},Au={key:0,class:"border-gray-200 border-l-1 nc-scrollbar-md nc-fields-height !overflow-y-auto"},Fu={key:1,class:"w-[25rem] flex flex-col justify-center p-4 items-center"},Nu=ir(()=>B("img",{src:su,class:"!w-[18rem]"},null,-1)),Lu=ir(()=>B("div",{class:"text-2xl text-gray-600 font-bold text-center pt-6"},"Select a field",-1)),Uu=ir(()=>B("div",{class:"text-center text-sm px-2 text-gray-500 pt-6"}," Make changes to field properties by selecting a field from the list ",-1)),Hu=[Nu,Lu,Uu],Bu=At({__name:"Fields",setup(t){const{$api:e}=ta(),{getMeta:a}=Co(),{meta:n,view:r}=Io(),s=ar(Ro,ve(!1)),{openedViewsTab:l}=ot(Jt()),o=ve([]),h=ve([]),y=ve(),{copy:m}=Yi(),{fields:d,toggleFieldVisibility:v,loadViewColumns:p,isViewColumnsLoading:c}=Al(),_=ve(!1),w=ve(),x=ve([]),C=ve(!1),$=(i,g)=>i!=null&&i.id&&(g!=null&&g.id)?i.id===g.id:i!=null&&i.temp_id&&(g!=null&&g.temp_id)?i.temp_id===g.temp_id:!1,R=Le(()=>{const i={};if(d.value)for(const g of d.value)g.fk_column_id&&(i[g.fk_column_id]=g);return i}),T=i=>{if(!i)return-1;const g=o.value.find(k=>$(k.column,i));if(g)return g.order;if(i.id){const k=R.value[i.id];if(k)return k.order}return-1},I=Le({get:()=>{var g;return(((g=n.value)==null?void 0:g.columns)??[]).filter(k=>!k.fk_column_id&&!Zi(k)).concat(x.value).map(k=>pe(k)).sort((k,j)=>T(k)-T(j))},set:i=>{var g,k;n.value.columns=(k=(g=n.value)==null?void 0:g.columns)==null?void 0:k.map(j=>{const Y=i.find(ee=>$(ee,j));return Y||j})}}),L=ve(),V=ve(""),z=(i,g=!1)=>{if(!d.value)return-1;if(i<=0){const oe=I.value.find(me=>me.pv);return oe?oe.order||0:-1}if(i>=I.value.length-1){const oe=I.value.map(me=>T(me));return Math.max(...oe)+1}let k=-1,j=-1;const Y=I.value[i+(g?-1:0)],ee=I.value[i+(g?0:1)];return Y&&(k=T(Y)),ee&&(j=T(ee),j===-1&&(j=k+1)),(k+j)/2},H=ve([]),Z=ve(0),Q=ve(!1),M=ve(),D=ve(),K=(i,g=!1)=>{const k=I.value.findIndex(j=>$(j,i));k!==-1&&(M.value=g?k:k+1)},G=(i,g)=>{g&&g.target instanceof HTMLElement&&g.target.closest(".no-action")||$(i,L.value)||i===void 0&&L.value===void 0||(Q.value=!0,Eo(()=>{L.value=i,Q.value=!1}))},ne=(i,g=!1)=>{i&&K(i,g),G({}),setTimeout(()=>{!i&&!g&&y.value&&(y.value.scrollTop=y.value.scrollHeight)},100)},X=Le(()=>{var i,g;if((i=n.value)!=null&&i.columns)return(g=n.value)==null?void 0:g.columns.find(k=>k.pv)}),le=async i=>{var j,Y,ee,ie;if(!((j=n.value)!=null&&j.columns))return;const g=al(`${i.title}_copy`,(Y=n.value)==null?void 0:Y.columns);let k={};switch(i.uidt){case ze.LinkToAnotherRecord:case ze.Links:case ze.Lookup:case ze.Rollup:case ze.Formula:return Ge.info("Not available at the moment");case ze.SingleSelect:case ze.MultiSelect:k={...i,title:g,column_name:g,id:void 0,order:void 0,pv:!1,colOptions:{options:((ie=(ee=i.colOptions)==null?void 0:ee.options)==null?void 0:ie.map(oe=>({...oe,id:void 0})))??[]}};break;default:k={...i,title:g,column_name:g,id:void 0,colOptions:void 0,order:void 0,pv:!1};break}ne(i),D.value=k},te=i=>{var Y,ee,ie,oe,me,He;const g=I.value.find(Oe=>$(Oe,i));if(!g)return;const k=Ga(g,i);let j=!0;if([ze.SingleSelect,ze.MultiSelect].includes(g.uidt)&&Object.keys(k).length===1&&((Y=k==null?void 0:k.colOptions)!=null&&Y.options)&&(((ie=(ee=k==null?void 0:k.colOptions)==null?void 0:ee.options)==null?void 0:ie.length)===0||((me=(oe=k==null?void 0:k.colOptions)==null?void 0:oe.options[0])==null?void 0:me.index)!==void 0&&Object.keys(((He=k==null?void 0:k.colOptions)==null?void 0:He.options[0])||{}).length===1)&&(j=!1),j||I.value.find(Oe=>$(Oe,i)),Object.keys(k).length===0||Object.keys(k).length===1&&"altered"in k||!j)H.value=H.value.filter(Oe=>Oe.op==="add"||!$(Oe.column,i));else{const Oe=H.value.find(Ye=>$(Ye.column,i)),tt=o.value.find(Ye=>$(Ye.column,i));if(x.value.find(Ye=>$(Ye,i))){x.value=x.value.map(Ye=>$(Ye,i)?(H.value=H.value.filter(it=>it.op==="add"&&!$(it.column,i)),H.value.push({op:"add",column:i}),i):Ye);return}Oe||Oe&&tt?Oe.column=i:H.value.push({op:"update",column:i})}},ue=i=>{const g=H.value.find(k=>$(k.column,i));g?g.op==="delete"?H.value=H.value.filter(k=>k.column.id!==i.id):g.op==="add"?(L.value&&$(L.value,i)&&G(),H.value=H.value.filter(k=>k.column.temp_id!==i.temp_id),x.value=x.value.filter(k=>k.temp_id!==i.temp_id)):(g.op="delete",g.column=i):H.value.push({op:"delete",column:i})},ge=i=>{D.value&&(i=D.value,D.value=void 0),i.temp_id=`temp_${++Z.value}`,H.value.push({op:"add",column:i}),x.value.push(i),M.value?(o.value.push({op:"move",column:i,index:M.value,order:z(M.value)}),M.value=void 0):o.value.push({op:"move",column:i,index:I.value.length,order:z(I.value.length)}),G(i)},Ce=i=>{var ee,ie;const g=I.value[i.moved.oldIndex],k=z(i.moved.newIndex,i.moved.newIndex<i.moved.oldIndex),j=H.value.find(oe=>$(oe.column,g));if((j==null?void 0:j.op)==="update"){const oe=Ga(j.column,g);if(!(Object.keys(oe).length===1&&"column_order"in oe)){Ge.warning("You cannot move field that is being edited. Either save or discard changes first");return}}if((j==null?void 0:j.op)==="delete"){Ge.warning("You cannot move field that is deleted. Either save or discard changes first");return}const Y=o.value.find(oe=>$(oe.column,I.value[i.moved.oldIndex]));Y?(Y.index=i.moved.newIndex,Y.order=k):o.value.push({op:"move",column:I.value[i.moved.oldIndex],index:i.moved.newIndex,order:k}),te(j?{...j.column,column_order:{order:k,view_id:(ee=r.value)==null?void 0:ee.id}}:{...g,column_order:{order:k,view_id:(ie=r.value)==null?void 0:ie.id}})},we=i=>{const g=H.value.find(j=>$(i,j.column)&&j.op==="delete"),k=H.value.find(j=>$(i,j.column)&&j.op==="add");return g?!0:!(!i.title||(i.uidt===ze.Links||i.uidt===ze.LinkToAnotherRecord)&&k&&(!i.childColumn||!i.childTable||!i.childId)||i.uidt===ze.Lookup&&k&&(!i.fk_relation_column_id||!i.fk_lookup_column_id)||i.uidt===ze.Rollup&&k&&(!i.fk_relation_column_id||!i.fk_rollup_column_id||!i.rollup_function)||i.uidt===ze.Formula&&k&&!i.formula_raw)};function pe(i){var g,k,j,Y,ee,ie,oe,me,He;return i.uidt===ze.QrCode&&((g=i.colOptions)!=null&&g.fk_qr_value_column_id)&&(i!=null&&i.fk_qr_value_column_id||(i.fk_qr_value_column_id=i.colOptions.fk_qr_value_column_id)),i.uidt===ze.Barcode&&((k=i.colOptions)!=null&&k.fk_barcode_value_column_id)&&(i!=null&&i.fk_barcode_value_column_id||(i.fk_barcode_value_column_id=i.colOptions.fk_barcode_value_column_id)),i.uidt===ze.Lookup&&((j=i==null?void 0:i.colOptions)!=null&&j.fk_lookup_column_id)&&((Y=i==null?void 0:i.colOptions)!=null&&Y.fk_relation_column_id)&&(i!=null&&i.fk_lookup_column_id||(i.fk_lookup_column_id=i.colOptions.fk_lookup_column_id),i!=null&&i.fk_relation_column_id||(i.fk_relation_column_id=i.colOptions.fk_relation_column_id)),i.uidt===ze.Rollup&&((ee=i==null?void 0:i.colOptions)!=null&&ee.fk_relation_column_id)&&((ie=i==null?void 0:i.colOptions)!=null&&ie.fk_rollup_column_id)&&((oe=i==null?void 0:i.colOptions)!=null&&oe.rollup_function)&&(i!=null&&i.fk_relation_column_id||(i.fk_relation_column_id=i.colOptions.fk_relation_column_id),i!=null&&i.fk_rollup_column_id||(i.fk_rollup_column_id=i.colOptions.fk_rollup_column_id),i!=null&&i.rollup_function||(i.rollup_function=i.colOptions.rollup_function)),i.uidt===ze.Formula&&((me=i.colOptions)!=null&&me.formula_raw)&&!(i!=null&&i.formula_raw)&&(i.formula_raw=(He=i.colOptions)==null?void 0:He.formula_raw),i}const W=i=>{const g=H.value.find(k=>$(k.column,i));g&&(g.op==="delete"?H.value=H.value.filter(k=>!$(k.column,i)):g.op==="update"&&(H.value=H.value.filter(k=>!$(k.column,i)),o.value=o.value.filter(k=>!$(k.column,i))),L.value=null,G(I.value.filter(k=>k.id===i.id)[0]))},J=i=>{const g=I.value.find(k=>$(k,i));if(g){const k=H.value.find(j=>$(j.column,g));if(k)return k.column}return null},de=Le(()=>{const i={};for(const g of H.value)g.op==="add"?g.column.temp_id&&(i[g.column.temp_id]="add"):g.op==="update"?g.column.id&&(i[g.column.id]="update"):g.op==="delete"&&g.column.id&&(i[g.column.id]="delete");return i}),xe=i=>{const g=(i==null?void 0:i.id)||(i==null?void 0:i.temp_id);return g?de.value[g]:""},je=()=>{H.value=[],o.value=[],x.value=[],h.value=[],G()},$e=Le(()=>I.value.every(i=>we(i))),De=async()=>{var i,g,k,j,Y,ee;if($e.value){if(!_.value&&H.value.length<1&&o.value.length<1&&h.value.length<1)return}else{Ge.error("Please complete the configuration of all fields before saving");return}try{if(!((i=n.value)!=null&&i.id))return;_.value=!0;for(const oe of o.value){const me=H.value.find(He=>$(He.column,oe.column));me&&me.op==="add"&&(me.column.column_order={order:oe.order,view_id:(g=r.value)==null?void 0:g.id}),me&&me.op==="update"&&(me.column.column_order={order:oe.order,view_id:(k=r.value)==null?void 0:k.id})}for(const oe of H.value)oe.op==="add"?L.value&&$(L.value,oe.column)&&G():oe.op==="delete"&&L.value&&$(L.value,oe.column)&&G();for(const oe of h.value)await v(oe.visible,{...oe.column,show:oe.visible});const ie=await e.dbTableColumn.bulk((j=n.value)==null?void 0:j.id,{hash:w.value,ops:H.value});await p(),ie&&(H.value=ie.failedOps&&((Y=ie.failedOps)!=null&&Y.length)?ie.failedOps.map(({error:oe,...me})=>me):[],x.value=x.value.filter(oe=>!!(ie.failedOps&&ie.failedOps.find(He=>He.column.temp_id===oe.temp_id))),o.value=[]),await a(n.value.id,!0),w.value=(await e.dbTableColumn.hash((ee=n.value)==null?void 0:ee.id)).hash,h.value=[]}catch{Ge.error("Something went wrong")}finally{_.value=!1}},ke=async(i,g)=>{if(g.fk_column_id&&de.value[g.fk_column_id]){Ge.warning("You cannot change visibility of a field that is being edited. Please save or discard changes first.");return}if(h.value.find(k=>k.column.fk_column_id===g.fk_column_id)){h.value=h.value.filter(k=>k.column.fk_column_id!==g.fk_column_id);return}h.value.push({visible:i,column:g})};Xi(document,"keydown",async i=>{const g=wa()?i.metaKey:i.ctrlKey;if(!s.value){if(g&&i.key.toLowerCase()==="s"){if(l.value!=="field")return;i.preventDefault();return}if(i.altKey&&i.key.toLowerCase()==="c"||i.altKey&&i.code==="KeyC"){if(l.value!=="field")return;i.preventDefault(),ne()}}});const Te=()=>wa()?"⌘":"Ctrl",at=()=>wa()?"⌥":"ALT";hr("ArrowDown",()=>{const i=I.value.findIndex(g=>$(g,L.value));i===-1||i===I.value.length-1?G(I.value[0]):G(I.value[i+1])}),hr("ArrowUp",()=>{const i=I.value.findIndex(g=>$(g,L.value));G(i===-1?I.value[0]:i===0?I.value[I.value.length-1]:I.value[i-1])}),hr("Delete",()=>{var g,k,j;if(s.value||((g=document.activeElement)==null?void 0:g.tagName)==="INPUT"||((k=document.activeElement)==null?void 0:k.tagName)==="TEXTAREA"||(j=document.activeElement)!=null&&j.getAttribute("contenteditable"))return;!(xe(L.value)==="delete")&&L.value&&ue(L.value)}),hr("Backspace",()=>{var g,k,j;if(s.value||((g=document.activeElement)==null?void 0:g.tagName)==="INPUT"||((k=document.activeElement)==null?void 0:k.tagName)==="TEXTAREA"||(j=document.activeElement)!=null&&j.getAttribute("contenteditable"))return;!(xe(L.value)==="delete")&&L.value&&ue(L.value)}),hr("ArrowRight",()=>{var i;if(((i=document.activeElement)==null?void 0:i.tagName)!=="TEXTAREA"&&L.value){const g=document.querySelector(".nc-fields-input");g&&g.focus()}});const b=async i=>{await m(i.id),C.value=!0},u=el();qs(u.meta_s,()=>{var i;s.value||(i=n.value)!=null&&i.id&&l.value==="field"&&De()}),qs(u.ctrl_s,()=>{var i;s.value||(i=n.value)!=null&&i.id&&l.value==="field"&&De()}),xt(n,async i=>{i!=null&&i.id&&(w.value=(await e.dbTableColumn.hash(i.id)).hash)},{deep:!0}),wo(async()=>{n.value&&n.value.id&&(w.value=(await e.dbTableColumn.hash(n.value.id)).hash)});const f=()=>{setTimeout(()=>{C.value=!1},200)};return xt(I,()=>{L.value&&(L.value=I.value.find(i=>i.id===L.value.id)||L.value)},{deep:!0}),(i,g)=>{const k=Hl,j=ia,Y=qo,ee=la,ie=_l,oe=wl,me=xl,He=El,Oe=$l,tt=nl,pt=Sl,Ye=Pl,it=To,ae=Ll,nt=kl;return U(),_e("div",lu,[B("div",uu,[S(c)?(U(),_e("div",cu,[N(k,{class:"!h-8 !w-68 !rounded !overflow-hidden",active:"",size:"small"}),B("div",fu,[N(k,{class:"!h-8 !w-22 !rounded !overflow-hidden",active:"",size:"small"}),N(k,{class:"!h-8 !w-22 !rounded !overflow-hidden",active:"",size:"small"}),N(k,{class:"!h-8 !w-22 !rounded !overflow-hidden",active:"",size:"small"})])])):(U(),_e(st,{key:1},[B("div",pu,[N(Y,{value:S(V),"onUpdate:value":g[1]||(g[1]=se=>nr(V)?V.value=se:null),class:"!h-8 !px-1 !rounded-lg !w-72",placeholder:"Search field"},{prefix:F(()=>[N(j,{icon:"search",class:"mx-1 h-3.5 w-3.5 text-gray-500 group-hover:text-black"})]),suffix:F(()=>[S(V).length>0?(U(),re(j,{key:0,icon:"close",class:"mx-1 h-3.5 w-3.5 text-gray-500 group-hover:text-black",onClick:g[0]||(g[0]=se=>V.value="")})):ye("",!0)]),_:1},8,["value"]),B("div",du,[N(ie,{disabled:S(s)},{title:F(()=>[Re(he(`${at()} + C`),1)]),default:F(()=>[N(ee,{type:"secondary",size:"small",class:"mr-1",disabled:S(_)||S(s),onClick:g[2]||(g[2]=se=>ne())},{default:F(()=>[B("div",hu,[N(j,{icon:"plus",class:"w-3"}),Re(" New Field ")])]),_:1},8,["disabled"])]),_:1},8,["disabled"]),N(ee,{type:"secondary",size:"small",disabled:!S(_)&&S(H).length<1&&S(o).length<1&&S(h).length<1||S(s),onClick:g[3]||(g[3]=se=>je())},{default:F(()=>[Re(" Reset ")]),_:1},8,["disabled"]),N(ie,{disabled:S(s)},{title:F(()=>[Re(he(`${Te()} + S`),1)]),default:F(()=>[N(ee,{type:"primary",size:"small",loading:S(_),disabled:(S($e)?!S(_)&&S(H).length<1&&S(o).length<1&&S(h).length<1:!0)||S(s),onClick:g[4]||(g[4]=se=>De())},{default:F(()=>[Re(" Save changes ")]),_:1},8,["loading","disabled"])]),_:1},8,["disabled"])])]),B("div",mu,[B("div",{ref_key:"fieldsListWrapperDomRef",ref:y,class:"nc-scrollbar-md !overflow-auto flex-1 flex-grow-1 nc-fields-height"},[N(S(Ul),{"model-value":S(I),disabled:S(s),"item-key":"id",onChange:g[10]||(g[10]=se=>Ce(se))},tl({item:F(({element:se})=>{var lt;return[se.title.toLowerCase().includes(S(V).toLowerCase())&&!se.pv?(U(),_e("div",{key:0,class:Ne(["flex px-2 hover:bg-gray-100 first:rounded-t-lg border-b-1 last:rounded-b-none border-gray-200 pl-5 group",` ${$(se,S(L))?"selected":""}`]),onClick:Qe=>G(se,Qe)},[B("div",yu,[(U(),re(bt(("iconMap"in i?i.iconMap:S(_t)).drag),{class:Ne(["cursor-move !h-3.75 text-gray-600 mr-1",{"opacity-0 !cursor-default":S(s)}])},null,8,["class"])),se.id&&S(R)[se.id]?(U(),re(oe,{key:0,disabled:S(s),checked:((lt=S(h).find(Qe=>Qe.column.fk_column_id===se.id))==null?void 0:lt.visible)??S(R)[se.id].show,onChange:Qe=>{ke(Qe.target.checked,S(R)[se.id])}},null,8,["disabled","checked","onChange"])):(U(),re(oe,{key:1,disabled:!0,class:"opacity-0",checked:!0})),se&&S(rl)(J(se)||se)?(U(),re(me,{key:2,"column-meta":J(se)||se,class:Ne({"text-brand-500":$(se,S(L))})},null,8,["column-meta","class"])):(U(),re(He,{key:3,"column-meta":J(se)||se,class:Ne({"text-brand-500":$(se,S(L))})},null,8,["column-meta","class"])),N(ie,{class:Ne([{"text-brand-500":$(se,S(L))},"truncate flex-1"]),"show-on-truncate-only":""},{title:F(()=>{var Qe;return[Re(he(((Qe=J(se))==null?void 0:Qe.title)||se.title),1)]}),default:F(()=>{var Qe;return[B("span",null,he(((Qe=J(se))==null?void 0:Qe.title)||se.title),1)]}),_:2},1032,["class"])]),B("div",gu,[B("div",bu,[xe(se)==="delete"?(U(),re(Oe,{key:0,color:"red",border:!1,class:"bg-red-50 text-red-700"},{default:F(()=>[Re(" Deleted field ")]),_:1})):xe(se)==="add"?(U(),re(Oe,{key:1,color:"orange",border:!1,class:"bg-green-50 text-green-700"},{default:F(()=>[Re(" New field ")]),_:1})):xe(se)==="update"?(U(),re(Oe,{key:2,color:"orange",border:!1,class:"bg-orange-50 text-orange-700"},{default:F(()=>[Re(" Updated field ")]),_:1})):ye("",!0),we(se)?ye("",!0):(U(),re(Oe,{key:3,color:"yellow",border:!1,class:"ml-1 bg-yellow-50 text-yellow-700"},{default:F(()=>[Re(" Incomplete configuration ")]),_:1}))]),xe(se)==="delete"||xe(se)==="update"?(U(),re(ee,{key:0,type:"secondary",size:"small",class:"no-action mr-2",disabled:S(_),onClick:Qe=>W(se)},{default:F(()=>[B("div",_u,[N(j,{icon:"reload"}),Re(" Restore ")])]),_:2},1032,["disabled","onClick"])):(U(),re(it,{key:1,trigger:["click"],"overlay-class-name":"nc-dropdown-table-explorer","onUpdate:visible":f,onClick:g[5]||(g[5]=$r(()=>{},["stop"]))},{overlay:F(()=>[N(Ye,{style:{"padding-top":"0.45rem !important"}},{default:F(()=>[xe(se)!=="add"?(U(),_e(st,{key:0},[N(ie,{placement:"top"},{title:F(()=>[Re(he(i.$t("msg.clickToCopyFieldId")),1)]),default:F(()=>[B("div",{class:"flex flex-row px-3 py-2 w-46 justify-between items-center group hover:bg-gray-100 cursor-pointer",onClick:Qe=>b(se)},[B("div",xu,[B("div",Eu,he(i.$t("labels.idColon")),1),B("div",$u,he(se.id),1)]),N(ee,{size:"xsmall",type:"secondary",class:"!group-hover:bg-gray-100"},{default:F(()=>[S(C)?(U(),re(j,{key:0,icon:"check"})):(U(),re(j,{key:1,icon:"copy"}))]),_:1})],8,wu)]),_:2},1024),S(s)?ye("",!0):(U(),re(tt,{key:0,class:"my-1.5"}))],64)):ye("",!0),S(s)?ye("",!0):(U(),_e(st,{key:1},[N(pt,{key:"table-explorer-duplicate",onClick:Qe=>le(se)},{default:F(()=>[N(S($a),{class:"iconify text-gray-800",icon:"lucide:copy"}),Su]),_:2},1032,["onClick"]),se.pv?ye("",!0):(U(),re(pt,{key:"table-explorer-insert-above",onClick:Qe=>ne(se,!0)},{default:F(()=>[N(S($a),{class:"iconify text-gray-800",icon:"lucide:arrow-up"}),Pu]),_:2},1032,["onClick"])),N(pt,{key:"table-explorer-insert-below",onClick:Qe=>ne(se)},{default:F(()=>[N(S($a),{class:"iconify text-gray-800",icon:"lucide:arrow-down"}),ku]),_:2},1032,["onClick"]),N(tt,{class:"my-1.5"}),N(pt,{key:"table-explorer-delete",class:"!hover:bg-red-50",onClick:Qe=>ue(se)},{default:F(()=>[B("div",Ou,[N(j,{icon:"delete",class:"group-hover:text-accent -ml-0.25 -mt-0.75 mr-0.5"}),Re(" Delete ")])]),_:2},1032,["onClick"])],64))]),_:2},1024)]),default:F(()=>[N(ee,{size:"xsmall",type:"text",class:Ne(["!opacity-0 !group-hover:opacity-100",{"!hover:text-brand-700 !hover:bg-brand-100 !group-hover:text-brand-500":$(se,S(L)),"!hover:text-gray-700 !hover:bg-gray-200 !group-hover:text-gray-500":!$(se,S(L))}])},{default:F(()=>[N(j,{icon:"threeDotVertical",class:"no-action text-inherit"})]),_:2},1032,["class"])]),_:2},1024)),N(ae,{class:Ne(["text-brand-500 opacity-0",{"opacity-100":$(se,S(L))}])},null,8,["class"])])],10,vu)):ye("",!0)]}),_:2},[S(X)&&S(X).title&&S(X).title.toLowerCase().includes(S(V).toLowerCase())?{name:"header",fn:F(()=>[B("div",{class:Ne(["flex px-2 bg-white hover:bg-gray-100 border-b-1 border-gray-200 first:rounded-tl-lg last:border-b-1 pl-5 group",` ${$(S(X),S(L))?"selected":""}`]),onClick:g[9]||(g[9]=se=>G(S(X),se))},[B("div",ju,[(U(),re(bt(("iconMap"in i?i.iconMap:S(_t)).drag),{class:Ne(["cursor-move !h-3.75 text-gray-200 mr-1",{"opacity-0 !cursor-default":S(s)}])},null,8,["class"])),N(oe,{disabled:!0,checked:!0}),S(X)?(U(),re(He,{key:0,"column-meta":J(S(X))||S(X),class:Ne({"text-brand-500":$(S(X),S(L))})},null,8,["column-meta","class"])):ye("",!0),N(ie,{class:Ne(["truncate flex-1",{"text-brand-500":$(S(X),S(L))}]),"show-on-truncate-only":""},{title:F(()=>{var se;return[Re(he(((se=J(S(X)))==null?void 0:se.title)||S(X).title),1)]}),default:F(()=>{var se;return[B("span",null,he(((se=J(S(X)))==null?void 0:se.title)||S(X).title),1)]}),_:1},8,["class"])]),B("div",Du,[B("div",Tu,[xe(S(X))==="delete"?(U(),re(Oe,{key:0,color:"red",border:!1,class:"bg-red-50 text-red-700"},{default:F(()=>[Re(" Deleted field ")]),_:1})):xe(S(X))==="update"?(U(),re(Oe,{key:1,color:"orange",border:!1,class:"bg-orange-50 text-orange-700"},{default:F(()=>[Re(" Updated field ")]),_:1})):ye("",!0)]),xe(S(X))==="delete"||xe(S(X))==="update"?(U(),re(ee,{key:0,type:"secondary",size:"small",class:"no-action mr-2",disabled:S(_),onClick:g[6]||(g[6]=se=>W(S(X)))},{default:F(()=>[B("div",Cu,[N(j,{icon:"reload"}),Re(" Restore ")])]),_:1},8,["disabled"])):(U(),re(it,{key:1,trigger:["click"],"overlay-class-name":"nc-dropdown-table-explorer-display-column","onUpdate:visible":f,onClick:g[8]||(g[8]=$r(()=>{},["stop"]))},{overlay:F(()=>[N(Ye,null,{default:F(()=>[N(ie,{placement:"top"},{title:F(()=>[Re(he(i.$t("msg.clickToCopyFieldId")),1)]),default:F(()=>[B("div",{class:"flex flex-row px-3 py-2 w-46 justify-between items-center group hover:bg-gray-100 cursor-pointer",onClick:g[7]||(g[7]=se=>b(S(X)))},[B("div",Ru,[B("div",Iu,he(i.$t("labels.idColon")),1),B("div",qu,he(S(X).id),1)]),N(ee,{size:"xsmall",type:"secondary",class:"!group-hover:bg-gray-100"},{default:F(()=>[S(C)?(U(),re(j,{key:0,icon:"check"})):(U(),re(j,{key:1,icon:"copy"}))]),_:1})])]),_:1})]),_:1})]),default:F(()=>[N(ee,{size:"xsmall",type:"text",class:Ne(["!opacity-0 !group-hover:opacity-100",{"!hover:text-brand-700 !hover:bg-brand-100 !group-hover:text-brand-500":$(S(X),S(L)),"!hover:text-gray-700 !hover:bg-gray-200 !group-hover:text-gray-500":!$(S(X),S(L))}])},{default:F(()=>[N(j,{icon:"threeDotVertical",class:"no-action text-inherit"})]),_:1},8,["class"])]),_:1})),N(ae,{class:Ne(["text-brand-500 opacity-0",{"opacity-100":$(S(X),S(L))}])},null,8,["class"])])],2)]),key:"0"}:void 0]),1032,["model-value","disabled"])],512),N(xo,{name:"slide-fade"},{default:F(()=>[S(Q)?ye("",!0):(U(),_e("div",Au,[S(L)?(U(),re(nt,{key:0,class:"p-4 w-[25rem]",column:S(L),preload:J(S(L)),"table-explorer-columns":S(I),"embed-mode":"",readonly:S(s),"from-table-explorer":"",onUpdate:te,onAdd:ge},null,8,["column","preload","table-explorer-columns","readonly"])):(U(),_e("div",Fu,Hu))]))]),_:1})])],64))])])}}});const Mu=or(Bu,[["__scopeId","data-v-bb36e6c7"]]),zu=Xe(()=>et(()=>import("./View.e29c55bb.js"),["./View.e29c55bb.js","./View.vue.1d94b013.js","./entry.96205fa0.js","./entry.d09b2482.css","./Overlay.718925e7.js","./_plugin-vue_export-helper.c27b6911.js","./Overlay.09be8605.css","./index.0b4c0f1e.js","./Checkbox.cf2cdba0.js","./FormItemContext.b19eb48c.js","./createForOfIteratorHelper.f2005dfe.js","./bases.965a49bb.js","./index.0c5b3837.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./View.5176b468.css"],import.meta.url).then(t=>t.default||t)),Vu={class:"flex flex-col p-4",style:{height:"calc(100vh - (var(--topbar-height) * 2))"}},Ju={key:0,class:"h-full w-full flex flex-col justify-center items-center"},Qu={class:"h-full w-full flex flex-col justify-center items-center mt-28"},Ku=At({__name:"Erd",setup(t){const{activeTable:e,baseTables:a}=ot(Sr()),{openedProject:n}=ot(Ol()),r=Le(()=>n.value&&a.value.get(n.value.id)),s=na(sa,{style:{fontSize:"2.5rem"},spin:!0});return(l,o)=>{const h=ca,y=zu;return U(),_e("div",Vu,[S(r)?(U(),re($o,{key:1},{fallback:F(()=>[B("div",Qu,[N(h,{size:"large",indicator:S(s)},null,8,["indicator"])])]),default:F(()=>{var m;return[N(y,{table:S(e),"source-id":(m=S(e))==null?void 0:m.source_id,"show-all-columns":""},null,8,["table","source-id"])]}),_:1})):(U(),_e("div",Ju,[N(h,{size:"large",indicator:S(s)},null,8,["indicator"])]))])}}}),En=At({__name:"Tabs",props:{modelValue:{},centered:{type:Boolean}},setup(t){const e=t;return(a,n)=>{const r=Ml;return U(),re(r,{class:Ne(["nc-tabs",{centered:e.centered}])},{default:F(()=>[sl(a.$slots,"default")]),_:3},8,["class"])}}});var lr={exports:{}},Ya={exports:{}},Za={exports:{}},Pr=1e3,kr=Pr*60,Or=kr*60,jr=Or*24,Wu=jr*365.25,Gu=function(t,e){e=e||{};var a=typeof t;if(a==="string"&&t.length>0)return Yu(t);if(a==="number"&&isNaN(t)===!1)return e.long?Xu(t):Zu(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Yu(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return a*Wu;case"days":case"day":case"d":return a*jr;case"hours":case"hour":case"hrs":case"hr":case"h":return a*Or;case"minutes":case"minute":case"mins":case"min":case"m":return a*kr;case"seconds":case"second":case"secs":case"sec":case"s":return a*Pr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function Zu(t){return t>=jr?Math.round(t/jr)+"d":t>=Or?Math.round(t/Or)+"h":t>=kr?Math.round(t/kr)+"m":t>=Pr?Math.round(t/Pr)+"s":t+"ms"}function Xu(t){return Nr(t,jr,"day")||Nr(t,Or,"hour")||Nr(t,kr,"minute")||Nr(t,Pr,"second")||t+" ms"}function Nr(t,e,a){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+a:Math.ceil(t/e)+" "+a+"s"}(function(t,e){e=t.exports=r.debug=r.default=r,e.coerce=h,e.disable=l,e.enable=s,e.enabled=o,e.humanize=Gu,e.names=[],e.skips=[],e.formatters={};var a;function n(y){var m=0,d;for(d in y)m=(m<<5)-m+y.charCodeAt(d),m|=0;return e.colors[Math.abs(m)%e.colors.length]}function r(y){function m(){if(m.enabled){var d=m,v=+new Date,p=v-(a||v);d.diff=p,d.prev=a,d.curr=v,a=v;for(var c=new Array(arguments.length),_=0;_<c.length;_++)c[_]=arguments[_];c[0]=e.coerce(c[0]),typeof c[0]!="string"&&c.unshift("%O");var w=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(C,$){if(C==="%%")return C;w++;var R=e.formatters[$];if(typeof R=="function"){var T=c[w];C=R.call(d,T),c.splice(w,1),w--}return C}),e.formatArgs.call(d,c);var x=m.log||e.log||console.log.bind(console);x.apply(d,c)}}return m.namespace=y,m.enabled=e.enabled(y),m.useColors=e.useColors(),m.color=n(y),typeof e.init=="function"&&e.init(m),m}function s(y){e.save(y),e.names=[],e.skips=[];for(var m=(typeof y=="string"?y:"").split(/[\s,]+/),d=m.length,v=0;v<d;v++)m[v]&&(y=m[v].replace(/\*/g,".*?"),y[0]==="-"?e.skips.push(new RegExp("^"+y.substr(1)+"$")):e.names.push(new RegExp("^"+y+"$")))}function l(){e.enable("")}function o(y){var m,d;for(m=0,d=e.skips.length;m<d;m++)if(e.skips[m].test(y))return!1;for(m=0,d=e.names.length;m<d;m++)if(e.names[m].test(y))return!0;return!1}function h(y){return y instanceof Error?y.stack||y.message:y}})(Za,Za.exports);var ec=Za.exports;(function(t,e){e=t.exports=ec,e.log=r,e.formatArgs=n,e.save=s,e.load=l,e.useColors=a,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:o(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function a(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(h){try{return JSON.stringify(h)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}};function n(h){var y=this.useColors;if(h[0]=(y?"%c":"")+this.namespace+(y?" %c":" ")+h[0]+(y?"%c ":" ")+"+"+e.humanize(this.diff),!!y){var m="color: "+this.color;h.splice(1,0,m,"color: inherit");var d=0,v=0;h[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(d++,p==="%c"&&(v=d))}),h.splice(v,0,m)}}function r(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(h){try{h==null?e.storage.removeItem("debug"):e.storage.debug=h}catch{}}function l(){var h;try{h=e.storage.debug}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=!1),h}e.enable(l());function o(){try{return window.localStorage}catch{}}})(Ya,Ya.exports);var tc=Ya.exports,No={};const rc={},ac=Object.freeze(Object.defineProperty({__proto__:null,default:rc},Symbol.toStringTag,{value:"Module"})),Tr=oa(ac);var Lo={exports:{}};(function(t,e){var a=Tr;t.exports=n,n.through=n;function n(r,s,l){r=r||function(c){this.queue(c)},s=s||function(){this.queue(null)};var o=!1,h=!1,y=[],m=!1,d=new a;d.readable=d.writable=!0,d.paused=!1,d.autoDestroy=!(l&&l.autoDestroy===!1),d.write=function(c){return r.call(this,c),!d.paused};function v(){for(;y.length&&!d.paused;){var c=y.shift();if(c===null)return d.emit("end");d.emit("data",c)}}d.queue=d.push=function(c){return m||(c===null&&(m=!0),y.push(c),v()),d},d.on("end",function(){d.readable=!1,!d.writable&&d.autoDestroy&&(void 0)(function(){d.destroy()})});function p(){d.writable=!1,s.call(d),!d.readable&&d.autoDestroy&&d.destroy()}return d.end=function(c){if(!o)return o=!0,arguments.length&&d.write(c),p(),d},d.destroy=function(){if(!h)return h=!0,o=!0,y.length=0,d.writable=d.readable=!1,d.emit("close"),d},d.pause=function(){if(!d.paused)return d.paused=!0,d},d.resume=function(){return d.paused&&(d.paused=!1,d.emit("resume")),v(),d.paused||d.emit("drain"),d},d}})(Lo);var $n=Lo.exports,nc=Tr,sc=function t(e){if(Array.isArray(e)){var a=0,n=e.length;return t(function(o){return a<n?this.emit("data",e[a++]):this.emit("end"),!0})}var r=new nc,s=0;r.ended=!1,r.started=!1,r.readable=!0,r.writable=!1,r.paused=!1,r.ended=!1,r.pause=function(){r.started=!0,r.paused=!0};function l(){if(r.started=!0,!r.ended)for(;!r.ended&&!r.paused&&e.call(r,s++,function(){!r.ended&&!r.paused&&(void 0)(l)}););}return r.resume=function(){r.started=!0,r.paused=!1,l()},r.on("end",function(){r.ended=!0,r.readable=!1,(void 0)(r.destroy)}),r.destroy=function(){r.ended=!0,r.emit("close")},(void 0)(function(){r.started||r.resume()}),r},oc=Tr,ic=["write","end","destroy"],lc=["resume","pause"],uc=["data","close"],Ns=Array.prototype.slice,Uo=cc;function ka(t,e){if(t.forEach)return t.forEach(e);for(var a=0;a<t.length;a++)e(t[a],a)}function cc(t,e){var a=new oc,n=!1;return ka(ic,r),ka(lc,s),ka(uc,l),e.on("end",o),t.on("drain",function(){a.emit("drain")}),t.on("error",h),e.on("error",h),a.writable=t.writable,a.readable=e.readable,a;function r(y){a[y]=m;function m(){return t[y].apply(t,arguments)}}function s(y){a[y]=m;function m(){a.emit(y);var d=e[y];if(d)return d.apply(e,arguments);e.emit(y)}}function l(y){e.on(y,m);function m(){var d=Ns.call(arguments);d.unshift(y),a.emit.apply(a,d)}}function o(){if(!n){n=!0;var y=Ns.call(arguments);y.unshift("end"),a.emit.apply(a,y)}}function h(y){a.emit("error",y)}}var fc=Tr.Stream,pc=function(t,e){var a=new fc,n=this,r=0,s=0,l=!1,o=!1,h=!1,y=0,m=!1;this.opts=e||{};var d=this.opts.failures?"failure":"error",v={};a.writable=!0,a.readable=!0;function p(x,C){var $=y+1;if(C===$?(x!==void 0&&a.emit.apply(a,["data",x]),y++,$++):v[C]=x,v.hasOwnProperty($)){var R=v[$];return delete v[$],p(R,$)}s++,r===s&&(o&&(o=!1,a.emit("drain")),l&&w())}function c(x,C,$){h||(m=!0,(!x||n.opts.failures)&&p(C,$),x&&a.emit.apply(a,[d,x]),m=!1)}function _(x,C,$){return t.call(null,x,function(R,T){$(R,T,C)})}a.write=function(x){if(l)throw new Error("map stream is not writable");m=!1,r++;try{var C=_(x,r,c);return o=C===!1,!o}catch($){if(m)throw $;return c($),!o}};function w(x){if(l=!0,a.writable=!1,x!==void 0)return p(x,r);r==s&&(a.readable=!1,a.emit("end"),a.destroy())}return a.end=function(x){l||w()},a.destroy=function(){l=h=!0,a.writable=a.readable=o=!1,(void 0)(function(){a.emit("close")})},a.pause=function(){o=!0},a.resume=function(){o=!1},a},dc=$n,Ho={},Xa={exports:{}},Oa={},mr={},Ls;function hc(){if(Ls)return mr;Ls=1,mr.byteLength=o,mr.toByteArray=y,mr.fromByteArray=v;for(var t=[],e=[],a=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=n.length;r<s;++r)t[r]=n[r],e[n.charCodeAt(r)]=r;e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63;function l(p){var c=p.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=p.indexOf("=");_===-1&&(_=c);var w=_===c?0:4-_%4;return[_,w]}function o(p){var c=l(p),_=c[0],w=c[1];return(_+w)*3/4-w}function h(p,c,_){return(c+_)*3/4-_}function y(p){var c,_=l(p),w=_[0],x=_[1],C=new a(h(p,w,x)),$=0,R=x>0?w-4:w,T;for(T=0;T<R;T+=4)c=e[p.charCodeAt(T)]<<18|e[p.charCodeAt(T+1)]<<12|e[p.charCodeAt(T+2)]<<6|e[p.charCodeAt(T+3)],C[$++]=c>>16&255,C[$++]=c>>8&255,C[$++]=c&255;return x===2&&(c=e[p.charCodeAt(T)]<<2|e[p.charCodeAt(T+1)]>>4,C[$++]=c&255),x===1&&(c=e[p.charCodeAt(T)]<<10|e[p.charCodeAt(T+1)]<<4|e[p.charCodeAt(T+2)]>>2,C[$++]=c>>8&255,C[$++]=c&255),C}function m(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function d(p,c,_){for(var w,x=[],C=c;C<_;C+=3)w=(p[C]<<16&16711680)+(p[C+1]<<8&65280)+(p[C+2]&255),x.push(m(w));return x.join("")}function v(p){for(var c,_=p.length,w=_%3,x=[],C=16383,$=0,R=_-w;$<R;$+=C)x.push(d(p,$,$+C>R?R:$+C));return w===1?(c=p[_-1],x.push(t[c>>2]+t[c<<4&63]+"==")):w===2&&(c=(p[_-2]<<8)+p[_-1],x.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),x.join("")}return mr}var Lr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Us;function mc(){return Us||(Us=1,Lr.read=function(t,e,a,n,r){var s,l,o=r*8-n-1,h=(1<<o)-1,y=h>>1,m=-7,d=a?r-1:0,v=a?-1:1,p=t[e+d];for(d+=v,s=p&(1<<-m)-1,p>>=-m,m+=o;m>0;s=s*256+t[e+d],d+=v,m-=8);for(l=s&(1<<-m)-1,s>>=-m,m+=n;m>0;l=l*256+t[e+d],d+=v,m-=8);if(s===0)s=1-y;else{if(s===h)return l?NaN:(p?-1:1)*(1/0);l=l+Math.pow(2,n),s=s-y}return(p?-1:1)*l*Math.pow(2,s-n)},Lr.write=function(t,e,a,n,r,s){var l,o,h,y=s*8-r-1,m=(1<<y)-1,d=m>>1,v=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,c=n?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,l=m):(l=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+d>=1?e+=v/h:e+=v*Math.pow(2,1-d),e*h>=2&&(l++,h/=2),l+d>=m?(o=0,l=m):l+d>=1?(o=(e*h-1)*Math.pow(2,r),l=l+d):(o=e*Math.pow(2,d-1)*Math.pow(2,r),l=0));r>=8;t[a+p]=o&255,p+=c,o/=256,r-=8);for(l=l<<r|o,y+=r;y>0;t[a+p]=l&255,p+=c,l/=256,y-=8);t[a+p-c]|=_*128}),Lr}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Hs;function Bo(){return Hs||(Hs=1,function(t){var e=hc(),a=mc(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;var r=2147483647;t.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var b=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(b,u),b.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function l(b){if(b>r)throw new RangeError('The value "'+b+'" is invalid for option "size"');var u=new Uint8Array(b);return Object.setPrototypeOf(u,o.prototype),u}function o(b,u,f){if(typeof b=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(b)}return h(b,u,f)}o.poolSize=8192;function h(b,u,f){if(typeof b=="string")return v(b,u);if(ArrayBuffer.isView(b))return c(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(ke(b,ArrayBuffer)||b&&ke(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ke(b,SharedArrayBuffer)||b&&ke(b.buffer,SharedArrayBuffer)))return _(b,u,f);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=b.valueOf&&b.valueOf();if(i!=null&&i!==b)return o.from(i,u,f);var g=w(b);if(g)return g;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return o.from(b[Symbol.toPrimitive]("string"),u,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}o.from=function(b,u,f){return h(b,u,f)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function y(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function m(b,u,f){return y(b),b<=0?l(b):u!==void 0?typeof f=="string"?l(b).fill(u,f):l(b).fill(u):l(b)}o.alloc=function(b,u,f){return m(b,u,f)};function d(b){return y(b),l(b<0?0:x(b)|0)}o.allocUnsafe=function(b){return d(b)},o.allocUnsafeSlow=function(b){return d(b)};function v(b,u){if((typeof u!="string"||u==="")&&(u="utf8"),!o.isEncoding(u))throw new TypeError("Unknown encoding: "+u);var f=$(b,u)|0,i=l(f),g=i.write(b,u);return g!==f&&(i=i.slice(0,g)),i}function p(b){for(var u=b.length<0?0:x(b.length)|0,f=l(u),i=0;i<u;i+=1)f[i]=b[i]&255;return f}function c(b){if(ke(b,Uint8Array)){var u=new Uint8Array(b);return _(u.buffer,u.byteOffset,u.byteLength)}return p(b)}function _(b,u,f){if(u<0||b.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<u+(f||0))throw new RangeError('"length" is outside of buffer bounds');var i;return u===void 0&&f===void 0?i=new Uint8Array(b):f===void 0?i=new Uint8Array(b,u):i=new Uint8Array(b,u,f),Object.setPrototypeOf(i,o.prototype),i}function w(b){if(o.isBuffer(b)){var u=x(b.length)|0,f=l(u);return f.length===0||b.copy(f,0,0,u),f}if(b.length!==void 0)return typeof b.length!="number"||Te(b.length)?l(0):p(b);if(b.type==="Buffer"&&Array.isArray(b.data))return p(b.data)}function x(b){if(b>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return b|0}function C(b){return+b!=b&&(b=0),o.alloc(+b)}o.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==o.prototype},o.compare=function(u,f){if(ke(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),ke(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),!o.isBuffer(u)||!o.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===f)return 0;for(var i=u.length,g=f.length,k=0,j=Math.min(i,g);k<j;++k)if(u[k]!==f[k]){i=u[k],g=f[k];break}return i<g?-1:g<i?1:0},o.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(u,f){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return o.alloc(0);var i;if(f===void 0)for(f=0,i=0;i<u.length;++i)f+=u[i].length;var g=o.allocUnsafe(f),k=0;for(i=0;i<u.length;++i){var j=u[i];if(ke(j,Uint8Array))k+j.length>g.length?o.from(j).copy(g,k):Uint8Array.prototype.set.call(g,j,k);else if(o.isBuffer(j))j.copy(g,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=j.length}return g};function $(b,u){if(o.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||ke(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);var f=b.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&f===0)return 0;for(var g=!1;;)switch(u){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return de(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return $e(b).length;default:if(g)return i?-1:de(b).length;u=(""+u).toLowerCase(),g=!0}}o.byteLength=$;function R(b,u,f){var i=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,u>>>=0,f<=u))return"";for(b||(b="utf8");;)switch(b){case"hex":return le(this,u,f);case"utf8":case"utf-8":return D(this,u,f);case"ascii":return ne(this,u,f);case"latin1":case"binary":return X(this,u,f);case"base64":return M(this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,u,f);default:if(i)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),i=!0}}o.prototype._isBuffer=!0;function T(b,u,f){var i=b[u];b[u]=b[f],b[f]=i}o.prototype.swap16=function(){var u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<u;f+=2)T(this,f,f+1);return this},o.prototype.swap32=function(){var u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<u;f+=4)T(this,f,f+3),T(this,f+1,f+2);return this},o.prototype.swap64=function(){var u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<u;f+=8)T(this,f,f+7),T(this,f+1,f+6),T(this,f+2,f+5),T(this,f+3,f+4);return this},o.prototype.toString=function(){var u=this.length;return u===0?"":arguments.length===0?D(this,0,u):R.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(u){if(!o.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:o.compare(this,u)===0},o.prototype.inspect=function(){var u="",f=t.INSPECT_MAX_BYTES;return u=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(u+=" ... "),"<Buffer "+u+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(u,f,i,g,k){if(ke(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),!o.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(f===void 0&&(f=0),i===void 0&&(i=u?u.length:0),g===void 0&&(g=0),k===void 0&&(k=this.length),f<0||i>u.length||g<0||k>this.length)throw new RangeError("out of range index");if(g>=k&&f>=i)return 0;if(g>=k)return-1;if(f>=i)return 1;if(f>>>=0,i>>>=0,g>>>=0,k>>>=0,this===u)return 0;for(var j=k-g,Y=i-f,ee=Math.min(j,Y),ie=this.slice(g,k),oe=u.slice(f,i),me=0;me<ee;++me)if(ie[me]!==oe[me]){j=ie[me],Y=oe[me];break}return j<Y?-1:Y<j?1:0};function I(b,u,f,i,g){if(b.length===0)return-1;if(typeof f=="string"?(i=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,Te(f)&&(f=g?0:b.length-1),f<0&&(f=b.length+f),f>=b.length){if(g)return-1;f=b.length-1}else if(f<0)if(g)f=0;else return-1;if(typeof u=="string"&&(u=o.from(u,i)),o.isBuffer(u))return u.length===0?-1:L(b,u,f,i,g);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?g?Uint8Array.prototype.indexOf.call(b,u,f):Uint8Array.prototype.lastIndexOf.call(b,u,f):L(b,[u],f,i,g);throw new TypeError("val must be string, number or Buffer")}function L(b,u,f,i,g){var k=1,j=b.length,Y=u.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(b.length<2||u.length<2)return-1;k=2,j/=2,Y/=2,f/=2}function ee(Oe,tt){return k===1?Oe[tt]:Oe.readUInt16BE(tt*k)}var ie;if(g){var oe=-1;for(ie=f;ie<j;ie++)if(ee(b,ie)===ee(u,oe===-1?0:ie-oe)){if(oe===-1&&(oe=ie),ie-oe+1===Y)return oe*k}else oe!==-1&&(ie-=ie-oe),oe=-1}else for(f+Y>j&&(f=j-Y),ie=f;ie>=0;ie--){for(var me=!0,He=0;He<Y;He++)if(ee(b,ie+He)!==ee(u,He)){me=!1;break}if(me)return ie}return-1}o.prototype.includes=function(u,f,i){return this.indexOf(u,f,i)!==-1},o.prototype.indexOf=function(u,f,i){return I(this,u,f,i,!0)},o.prototype.lastIndexOf=function(u,f,i){return I(this,u,f,i,!1)};function V(b,u,f,i){f=Number(f)||0;var g=b.length-f;i?(i=Number(i),i>g&&(i=g)):i=g;var k=u.length;i>k/2&&(i=k/2);for(var j=0;j<i;++j){var Y=parseInt(u.substr(j*2,2),16);if(Te(Y))return j;b[f+j]=Y}return j}function z(b,u,f,i){return De(de(u,b.length-f),b,f,i)}function H(b,u,f,i){return De(xe(u),b,f,i)}function Z(b,u,f,i){return De($e(u),b,f,i)}function Q(b,u,f,i){return De(je(u,b.length-f),b,f,i)}o.prototype.write=function(u,f,i,g){if(f===void 0)g="utf8",i=this.length,f=0;else if(i===void 0&&typeof f=="string")g=f,i=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(i)?(i=i>>>0,g===void 0&&(g="utf8")):(g=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var k=this.length-f;if((i===void 0||i>k)&&(i=k),u.length>0&&(i<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");for(var j=!1;;)switch(g){case"hex":return V(this,u,f,i);case"utf8":case"utf-8":return z(this,u,f,i);case"ascii":case"latin1":case"binary":return H(this,u,f,i);case"base64":return Z(this,u,f,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,u,f,i);default:if(j)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),j=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(b,u,f){return u===0&&f===b.length?e.fromByteArray(b):e.fromByteArray(b.slice(u,f))}function D(b,u,f){f=Math.min(b.length,f);for(var i=[],g=u;g<f;){var k=b[g],j=null,Y=k>239?4:k>223?3:k>191?2:1;if(g+Y<=f){var ee,ie,oe,me;switch(Y){case 1:k<128&&(j=k);break;case 2:ee=b[g+1],(ee&192)===128&&(me=(k&31)<<6|ee&63,me>127&&(j=me));break;case 3:ee=b[g+1],ie=b[g+2],(ee&192)===128&&(ie&192)===128&&(me=(k&15)<<12|(ee&63)<<6|ie&63,me>2047&&(me<55296||me>57343)&&(j=me));break;case 4:ee=b[g+1],ie=b[g+2],oe=b[g+3],(ee&192)===128&&(ie&192)===128&&(oe&192)===128&&(me=(k&15)<<18|(ee&63)<<12|(ie&63)<<6|oe&63,me>65535&&me<1114112&&(j=me))}}j===null?(j=65533,Y=1):j>65535&&(j-=65536,i.push(j>>>10&1023|55296),j=56320|j&1023),i.push(j),g+=Y}return G(i)}var K=4096;function G(b){var u=b.length;if(u<=K)return String.fromCharCode.apply(String,b);for(var f="",i=0;i<u;)f+=String.fromCharCode.apply(String,b.slice(i,i+=K));return f}function ne(b,u,f){var i="";f=Math.min(b.length,f);for(var g=u;g<f;++g)i+=String.fromCharCode(b[g]&127);return i}function X(b,u,f){var i="";f=Math.min(b.length,f);for(var g=u;g<f;++g)i+=String.fromCharCode(b[g]);return i}function le(b,u,f){var i=b.length;(!u||u<0)&&(u=0),(!f||f<0||f>i)&&(f=i);for(var g="",k=u;k<f;++k)g+=at[b[k]];return g}function te(b,u,f){for(var i=b.slice(u,f),g="",k=0;k<i.length-1;k+=2)g+=String.fromCharCode(i[k]+i[k+1]*256);return g}o.prototype.slice=function(u,f){var i=this.length;u=~~u,f=f===void 0?i:~~f,u<0?(u+=i,u<0&&(u=0)):u>i&&(u=i),f<0?(f+=i,f<0&&(f=0)):f>i&&(f=i),f<u&&(f=u);var g=this.subarray(u,f);return Object.setPrototypeOf(g,o.prototype),g};function ue(b,u,f){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+u>f)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(u,f,i){u=u>>>0,f=f>>>0,i||ue(u,f,this.length);for(var g=this[u],k=1,j=0;++j<f&&(k*=256);)g+=this[u+j]*k;return g},o.prototype.readUintBE=o.prototype.readUIntBE=function(u,f,i){u=u>>>0,f=f>>>0,i||ue(u,f,this.length);for(var g=this[u+--f],k=1;f>0&&(k*=256);)g+=this[u+--f]*k;return g},o.prototype.readUint8=o.prototype.readUInt8=function(u,f){return u=u>>>0,f||ue(u,1,this.length),this[u]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(u,f){return u=u>>>0,f||ue(u,2,this.length),this[u]|this[u+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(u,f){return u=u>>>0,f||ue(u,2,this.length),this[u]<<8|this[u+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(u,f){return u=u>>>0,f||ue(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(u,f){return u=u>>>0,f||ue(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},o.prototype.readIntLE=function(u,f,i){u=u>>>0,f=f>>>0,i||ue(u,f,this.length);for(var g=this[u],k=1,j=0;++j<f&&(k*=256);)g+=this[u+j]*k;return k*=128,g>=k&&(g-=Math.pow(2,8*f)),g},o.prototype.readIntBE=function(u,f,i){u=u>>>0,f=f>>>0,i||ue(u,f,this.length);for(var g=f,k=1,j=this[u+--g];g>0&&(k*=256);)j+=this[u+--g]*k;return k*=128,j>=k&&(j-=Math.pow(2,8*f)),j},o.prototype.readInt8=function(u,f){return u=u>>>0,f||ue(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},o.prototype.readInt16LE=function(u,f){u=u>>>0,f||ue(u,2,this.length);var i=this[u]|this[u+1]<<8;return i&32768?i|4294901760:i},o.prototype.readInt16BE=function(u,f){u=u>>>0,f||ue(u,2,this.length);var i=this[u+1]|this[u]<<8;return i&32768?i|4294901760:i},o.prototype.readInt32LE=function(u,f){return u=u>>>0,f||ue(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},o.prototype.readInt32BE=function(u,f){return u=u>>>0,f||ue(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},o.prototype.readFloatLE=function(u,f){return u=u>>>0,f||ue(u,4,this.length),a.read(this,u,!0,23,4)},o.prototype.readFloatBE=function(u,f){return u=u>>>0,f||ue(u,4,this.length),a.read(this,u,!1,23,4)},o.prototype.readDoubleLE=function(u,f){return u=u>>>0,f||ue(u,8,this.length),a.read(this,u,!0,52,8)},o.prototype.readDoubleBE=function(u,f){return u=u>>>0,f||ue(u,8,this.length),a.read(this,u,!1,52,8)};function ge(b,u,f,i,g,k){if(!o.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>g||u<k)throw new RangeError('"value" argument is out of bounds');if(f+i>b.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(u,f,i,g){if(u=+u,f=f>>>0,i=i>>>0,!g){var k=Math.pow(2,8*i)-1;ge(this,u,f,i,k,0)}var j=1,Y=0;for(this[f]=u&255;++Y<i&&(j*=256);)this[f+Y]=u/j&255;return f+i},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(u,f,i,g){if(u=+u,f=f>>>0,i=i>>>0,!g){var k=Math.pow(2,8*i)-1;ge(this,u,f,i,k,0)}var j=i-1,Y=1;for(this[f+j]=u&255;--j>=0&&(Y*=256);)this[f+j]=u/Y&255;return f+i},o.prototype.writeUint8=o.prototype.writeUInt8=function(u,f,i){return u=+u,f=f>>>0,i||ge(this,u,f,1,255,0),this[f]=u&255,f+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(u,f,i){return u=+u,f=f>>>0,i||ge(this,u,f,2,65535,0),this[f]=u&255,this[f+1]=u>>>8,f+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(u,f,i){return u=+u,f=f>>>0,i||ge(this,u,f,2,65535,0),this[f]=u>>>8,this[f+1]=u&255,f+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(u,f,i){return u=+u,f=f>>>0,i||ge(this,u,f,4,4294967295,0),this[f+3]=u>>>24,this[f+2]=u>>>16,this[f+1]=u>>>8,this[f]=u&255,f+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(u,f,i){return u=+u,f=f>>>0,i||ge(this,u,f,4,4294967295,0),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4},o.prototype.writeIntLE=function(u,f,i,g){if(u=+u,f=f>>>0,!g){var k=Math.pow(2,8*i-1);ge(this,u,f,i,k-1,-k)}var j=0,Y=1,ee=0;for(this[f]=u&255;++j<i&&(Y*=256);)u<0&&ee===0&&this[f+j-1]!==0&&(ee=1),this[f+j]=(u/Y>>0)-ee&255;return f+i},o.prototype.writeIntBE=function(u,f,i,g){if(u=+u,f=f>>>0,!g){var k=Math.pow(2,8*i-1);ge(this,u,f,i,k-1,-k)}var j=i-1,Y=1,ee=0;for(this[f+j]=u&255;--j>=0&&(Y*=256);)u<0&&ee===0&&this[f+j+1]!==0&&(ee=1),this[f+j]=(u/Y>>0)-ee&255;return f+i},o.prototype.writeInt8=function(u,f,i){return u=+u,f=f>>>0,i||ge(this,u,f,1,127,-128),u<0&&(u=255+u+1),this[f]=u&255,f+1},o.prototype.writeInt16LE=function(u,f,i){return u=+u,f=f>>>0,i||ge(this,u,f,2,32767,-32768),this[f]=u&255,this[f+1]=u>>>8,f+2},o.prototype.writeInt16BE=function(u,f,i){return u=+u,f=f>>>0,i||ge(this,u,f,2,32767,-32768),this[f]=u>>>8,this[f+1]=u&255,f+2},o.prototype.writeInt32LE=function(u,f,i){return u=+u,f=f>>>0,i||ge(this,u,f,4,2147483647,-2147483648),this[f]=u&255,this[f+1]=u>>>8,this[f+2]=u>>>16,this[f+3]=u>>>24,f+4},o.prototype.writeInt32BE=function(u,f,i){return u=+u,f=f>>>0,i||ge(this,u,f,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4};function Ce(b,u,f,i,g,k){if(f+i>b.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function we(b,u,f,i,g){return u=+u,f=f>>>0,g||Ce(b,u,f,4),a.write(b,u,f,i,23,4),f+4}o.prototype.writeFloatLE=function(u,f,i){return we(this,u,f,!0,i)},o.prototype.writeFloatBE=function(u,f,i){return we(this,u,f,!1,i)};function pe(b,u,f,i,g){return u=+u,f=f>>>0,g||Ce(b,u,f,8),a.write(b,u,f,i,52,8),f+8}o.prototype.writeDoubleLE=function(u,f,i){return pe(this,u,f,!0,i)},o.prototype.writeDoubleBE=function(u,f,i){return pe(this,u,f,!1,i)},o.prototype.copy=function(u,f,i,g){if(!o.isBuffer(u))throw new TypeError("argument should be a Buffer");if(i||(i=0),!g&&g!==0&&(g=this.length),f>=u.length&&(f=u.length),f||(f=0),g>0&&g<i&&(g=i),g===i||u.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),u.length-f<g-i&&(g=u.length-f+i);var k=g-i;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,i,g):Uint8Array.prototype.set.call(u,this.subarray(i,g),f),k},o.prototype.fill=function(u,f,i,g){if(typeof u=="string"){if(typeof f=="string"?(g=f,f=0,i=this.length):typeof i=="string"&&(g=i,i=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!o.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(u.length===1){var k=u.charCodeAt(0);(g==="utf8"&&k<128||g==="latin1")&&(u=k)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(f<0||this.length<f||this.length<i)throw new RangeError("Out of range index");if(i<=f)return this;f=f>>>0,i=i===void 0?this.length:i>>>0,u||(u=0);var j;if(typeof u=="number")for(j=f;j<i;++j)this[j]=u;else{var Y=o.isBuffer(u)?u:o.from(u,g),ee=Y.length;if(ee===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(j=0;j<i-f;++j)this[j+f]=Y[j%ee]}return this};var W=/[^+/0-9A-Za-z-_]/g;function J(b){if(b=b.split("=")[0],b=b.trim().replace(W,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function de(b,u){u=u||1/0;for(var f,i=b.length,g=null,k=[],j=0;j<i;++j){if(f=b.charCodeAt(j),f>55295&&f<57344){if(!g){if(f>56319){(u-=3)>-1&&k.push(239,191,189);continue}else if(j+1===i){(u-=3)>-1&&k.push(239,191,189);continue}g=f;continue}if(f<56320){(u-=3)>-1&&k.push(239,191,189),g=f;continue}f=(g-55296<<10|f-56320)+65536}else g&&(u-=3)>-1&&k.push(239,191,189);if(g=null,f<128){if((u-=1)<0)break;k.push(f)}else if(f<2048){if((u-=2)<0)break;k.push(f>>6|192,f&63|128)}else if(f<65536){if((u-=3)<0)break;k.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((u-=4)<0)break;k.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return k}function xe(b){for(var u=[],f=0;f<b.length;++f)u.push(b.charCodeAt(f)&255);return u}function je(b,u){for(var f,i,g,k=[],j=0;j<b.length&&!((u-=2)<0);++j)f=b.charCodeAt(j),i=f>>8,g=f%256,k.push(g),k.push(i);return k}function $e(b){return e.toByteArray(J(b))}function De(b,u,f,i){for(var g=0;g<i&&!(g+f>=u.length||g>=b.length);++g)u[g+f]=b[g];return g}function ke(b,u){return b instanceof u||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===u.name}function Te(b){return b!==b}var at=function(){for(var b="0123456789abcdef",u=new Array(256),f=0;f<16;++f)for(var i=f*16,g=0;g<16;++g)u[i+g]=b[f]+b[g];return u}()}(Oa)),Oa}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var a=Bo(),n=a.Buffer;function r(l,o){for(var h in l)o[h]=l[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=a:(r(a,e),e.Buffer=s);function s(l,o,h){return n(l,o,h)}s.prototype=Object.create(n.prototype),r(n,s),s.from=function(l,o,h){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,o,h)},s.alloc=function(l,o,h){if(typeof l!="number")throw new TypeError("Argument must be a number");var y=n(l);return o!==void 0?typeof h=="string"?y.fill(o,h):y.fill(o):y.fill(0),y},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}})(Xa,Xa.exports);var vc=Xa.exports,Sn=vc.Buffer,Bs=Sn.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function yc(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function gc(t){var e=yc(t);if(typeof e!="string"&&(Sn.isEncoding===Bs||!Bs(t)))throw new Error("Unknown encoding: "+t);return e||t}Ho.StringDecoder=Cr;function Cr(t){this.encoding=gc(t);var e;switch(this.encoding){case"utf16le":this.text=$c,this.end=Sc,e=4;break;case"utf8":this.fillLast=wc,e=4;break;case"base64":this.text=Pc,this.end=kc,e=3;break;default:this.write=Oc,this.end=jc;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Sn.allocUnsafe(e)}Cr.prototype.write=function(t){if(t.length===0)return"";var e,a;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";a=this.lastNeed,this.lastNeed=0}else a=0;return a<t.length?e?e+this.text(t,a):this.text(t,a):e||""};Cr.prototype.end=Ec;Cr.prototype.text=xc;Cr.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function ja(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function bc(t,e,a){var n=e.length-1;if(n<a)return 0;var r=ja(e[n]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--n<a||r===-2?0:(r=ja(e[n]),r>=0?(r>0&&(t.lastNeed=r-2),r):--n<a||r===-2?0:(r=ja(e[n]),r>=0?(r>0&&(r===2?r=0:t.lastNeed=r-3),r):0))}function _c(t,e,a){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function wc(t){var e=this.lastTotal-this.lastNeed,a=_c(this,t);if(a!==void 0)return a;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function xc(t,e){var a=bc(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=a;var n=t.length-(a-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Ec(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function $c(t,e){if((t.length-e)%2===0){var a=t.toString("utf16le",e);if(a){var n=a.charCodeAt(a.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],a.slice(0,-1)}return a}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Sc(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var a=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,a)}return e}function Pc(t,e){var a=(t.length-e)%3;return a===0?t.toString("base64",e):(this.lastNeed=3-a,this.lastTotal=3,a===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-a))}function kc(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Oc(t){return t.toString(this.encoding)}function jc(t){return t&&t.length?this.write(t):""}var Dc=$n,Tc=Ho.StringDecoder,Cc=Rc;function Rc(t,e,a){var n=new Tc,r="",s=a&&a.maxLength;typeof t=="function"&&(e=t,t=null),t||(t=/\r?\n/);function l(h,y){if(e){try{y=e(y)}catch(m){return h.emit("error",m)}typeof y<"u"&&h.queue(y)}else h.queue(y)}function o(h,y){var m=((r??"")+y).split(t);r=m.pop(),s&&r.length>s&&h.emit("error",new Error("maximum buffer reached"));for(var d=0;d<m.length;d++){var v=m[d];l(h,v)}}return Dc(function(h){o(this,n.write(h))},function(){n.end&&o(this,n.end()),r!=null&&l(this,r),this.queue(null)})}var Ic=Uo,qc=function(){var t=[].slice.call(arguments),e=t[0],a=t[t.length-1],n=Ic(e,a);if(t.length==1)return t[0];if(!t.length)throw new Error("connect called with empty args");function r(o){o.length<2||(o[0].pipe(o[1]),r(o.slice(1)))}r(t);function s(){var o=[].slice.call(arguments);o.unshift("error"),n.emit.apply(n,o)}for(var l=1;l<t.length-1;l++)t[l].on("error",s);return n};(function(t){var e=Tr.Stream,a=t,n=$n,r=sc,s=Uo,l=pc,o=dc,h=Cc,y=qc,m=So.setImmediate||void 0;a.Stream=e,a.through=n,a.from=r,a.duplex=s,a.map=l,a.pause=o,a.split=h,a.pipeline=a.connect=a.pipe=y,a.concat=a.merge=function(){var d=[].slice.call(arguments);d.length===1&&d[0]instanceof Array&&(d=d[0]);var v=new e;v.setMaxListeners(0);var p=0;return v.writable=v.readable=!0,d.length?d.forEach(function(c){c.pipe(v,{end:!1});var _=!1;c.on("end",function(){_||(_=!0,p++,p==d.length&&v.emit("end"))})}):(void 0)(function(){v.emit("end")}),v.write=function(c){this.emit("data",c)},v.destroy=function(){d.forEach(function(c){c.destroy&&c.destroy()})},v},a.writeArray=function(d){if(typeof d!="function")throw new Error("function writeArray (done): done must be function");var v=new e,p=[],c=!1;return v.write=function(_){p.push(_)},v.end=function(){c=!0,d(null,p)},v.writable=!0,v.readable=!1,v.destroy=function(){v.writable=v.readable=!1,!c&&d(new Error("destroyed before end"),p)},v},a.readArray=function(d){var v=new e,p=0,c=!1,_=!1;if(v.readable=!0,v.writable=!1,!Array.isArray(d))throw new Error("event-stream.read expects an array");return v.resume=function(){if(!_){c=!1;for(var w=d.length;p<w&&!c&&!_;)v.emit("data",d[p++]);p==w&&!_&&(_=!0,v.readable=!1,v.emit("end"))}},(void 0)(v.resume),v.pause=function(){c=!0},v.destroy=function(){_=!0,v.emit("close")},v},a.readable=function(d,v){var p=new e,c=0,_=!1,w=!1,x=!1;if(p.readable=!0,p.writable=!1,typeof d!="function")throw new Error("event-stream.readable expects async function");p.on("end",function(){w=!0});function C($,R){$?(p.emit("error",$),v||p.emit("end")):arguments.length>1&&p.emit("data",R),m(function(){if(!(w||_||x))try{x=!0,d.call(p,c++,function(){x=!1,C.apply(null,arguments)})}catch(T){p.emit("error",T)}})}return p.resume=function(){_=!1,C()},(void 0)(C),p.pause=function(){_=!0},p.destroy=function(){p.emit("end"),p.emit("close"),w=!0},p},a.mapSync=function(d){return a.through(function(p){var c;try{c=d(p)}catch(_){return this.emit("error",_)}c!==void 0&&this.emit("data",c)})},a.log=function(d){return a.through(function(v){[].slice.call(arguments),d?console.error(d,v):console.error(v),this.emit("data",v)})},a.child=function(d){return a.duplex(d.stdin,d.stdout)},a.parse=function(d){var v=!!(d&&d.error);return a.through(function(p){var c;try{p&&(c=JSON.parse(p.toString()))}catch(_){return v?this.emit("error",_):console.error(_,"attempting to parse:",p)}c!==void 0&&this.emit("data",c)})},a.stringify=function(){var d=Bo().Buffer;return a.mapSync(function(v){return JSON.stringify(d.isBuffer(v)?v.toString():v)+`
`})},a.replace=function(d,v){return a.pipeline(a.split(d),a.join(v))},a.join=function(d){if(typeof d=="function")return a.wait(d);var v=!0;return a.through(function(p){return v||this.emit("data",d),v=!1,this.emit("data",p),!0})},a.wait=function(d){var v=[];return a.through(function(p){v.push(p)},function(){var p=Buffer.isBuffer(v[0])?Buffer.concat(v):v.join("");this.emit("data",p),this.emit("end"),d&&d(null,p)})},a.pipeable=function(){throw new Error("[EVENT-STREAM] es.pipeable is deprecated")}})(No);var Ac=typeof self=="object"?self.FormData:window.FormData;function Fc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Mo=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function vr(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function Dr(t,e,a,n){return e=e||"&",a=a||"=",t===null&&(t=void 0),typeof t=="object"?Ms(Nc(t),function(r){var s=encodeURIComponent(vr(r))+a;return Mo(t[r])?Ms(t[r],function(l){return s+encodeURIComponent(vr(l))}).join(e):s+encodeURIComponent(vr(t[r]))}).join(e):n?encodeURIComponent(vr(n))+a+encodeURIComponent(vr(t)):""}function Ms(t,e){if(t.map)return t.map(e);for(var a=[],n=0;n<t.length;n++)a.push(e(t[n],n));return a}var Nc=Object.keys||function(t){var e=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.push(a);return e};function sr(t,e,a,n){e=e||"&",a=a||"=";var r={};if(typeof t!="string"||t.length===0)return r;var s=/\+/g;t=t.split(e);var l=1e3;n&&typeof n.maxKeys=="number"&&(l=n.maxKeys);var o=t.length;l>0&&o>l&&(o=l);for(var h=0;h<o;++h){var y=t[h].replace(s,"%20"),m=y.indexOf(a),d,v,p,c;m>=0?(d=y.substr(0,m),v=y.substr(m+1)):(d=y,v=""),p=decodeURIComponent(d),c=decodeURIComponent(v),Fc(r,p)?Mo(r[p])?r[p].push(c):r[p]=[r[p],c]:r[p]=c}return r}const Lc={encode:Dr,stringify:Dr,decode:sr,parse:sr},Uc=Object.freeze(Object.defineProperty({__proto__:null,decode:sr,default:Lc,encode:Dr,parse:sr,stringify:Dr},Symbol.toStringTag,{value:"Module"})),Hc=oa(Uc);var Bc=function(t,e){if(t[e.name]===void 0)return t[e.name]=e.value,t;if(t[e.name]instanceof Array)return t[e.name].push(e.value),t;const a=[t[e.name],e.value];return t[e.name]=a,t},Dt={getHeader:(t,e)=>t[Object.keys(t).find(a=>a.toLowerCase()===e.toLowerCase())],getHeaderName:(t,e)=>Object.keys(t).find(a=>{if(a.toLowerCase()===e.toLowerCase())return a}),hasHeader:(t,e)=>!!Object.keys(t).find(a=>a.toLowerCase()===e.toLowerCase())},Pn={exports:{}},zo={exports:{}},Ve=zo.exports={},yt,gt;function en(){throw new Error("setTimeout has not been defined")}function tn(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?yt=setTimeout:yt=en}catch{yt=en}try{typeof clearTimeout=="function"?gt=clearTimeout:gt=tn}catch{gt=tn}})();function Vo(t){if(yt===setTimeout)return setTimeout(t,0);if((yt===en||!yt)&&setTimeout)return yt=setTimeout,setTimeout(t,0);try{return yt(t,0)}catch{try{return yt.call(null,t,0)}catch{return yt.call(this,t,0)}}}function Mc(t){if(gt===clearTimeout)return clearTimeout(t);if((gt===tn||!gt)&&clearTimeout)return gt=clearTimeout,clearTimeout(t);try{return gt(t)}catch{try{return gt.call(null,t)}catch{return gt.call(this,t)}}}var Ot=[],tr=!1,zt,zr=-1;function zc(){!tr||!zt||(tr=!1,zt.length?Ot=zt.concat(Ot):zr=-1,Ot.length&&Jo())}function Jo(){if(!tr){var t=Vo(zc);tr=!0;for(var e=Ot.length;e;){for(zt=Ot,Ot=[];++zr<e;)zt&&zt[zr].run();zr=-1,e=Ot.length}zt=null,tr=!1,Mc(t)}}Ve.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)e[a-1]=arguments[a];Ot.push(new Qo(t,e)),Ot.length===1&&!tr&&Vo(Jo)};function Qo(t,e){this.fun=t,this.array=e}Qo.prototype.run=function(){this.fun.apply(null,this.array)};Ve.title="browser";Ve.browser=!0;Ve.env={};Ve.argv=[];Ve.version="";Ve.versions={};function Tt(){}Ve.on=Tt;Ve.addListener=Tt;Ve.once=Tt;Ve.off=Tt;Ve.removeListener=Tt;Ve.removeAllListeners=Tt;Ve.emit=Tt;Ve.prependListener=Tt;Ve.prependOnceListener=Tt;Ve.listeners=function(t){return[]};Ve.binding=function(t){throw new Error("process.binding is not supported")};Ve.cwd=function(){return"/"};Ve.chdir=function(t){throw new Error("process.chdir is not supported")};Ve.umask=function(){return 0};var Vc=zo.exports;const Da=Po(Vc);var rn;typeof Object.create=="function"?rn=function(e,a){e.super_=a,e.prototype=Object.create(a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:rn=function(e,a){e.super_=a;var n=function(){};n.prototype=a.prototype,e.prototype=new n,e.prototype.constructor=e};const Ko=rn;var Jc=/%[sdj%]/g;function fa(t){if(!Ft(t)){for(var e=[],a=0;a<arguments.length;a++)e.push(Et(arguments[a]));return e.join(" ")}for(var a=1,n=arguments,r=n.length,s=String(t).replace(Jc,function(o){if(o==="%%")return"%";if(a>=r)return o;switch(o){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch{return"[Circular]"}default:return o}}),l=n[a];a<r;l=n[++a])jt(l)||!Ct(l)?s+=" "+l:s+=" "+Et(l);return s}function kn(t,e){if(wt(globalThis.process))return function(){return kn(t,e).apply(this,arguments)};if(Da.noDeprecation===!0)return t;var a=!1;function n(){if(!a){if(Da.throwDeprecation)throw new Error(e);Da.traceDeprecation?console.trace(e):console.error(e),a=!0}return t.apply(this,arguments)}return n}var Ur={},Ta;function Wo(t){if(wt(Ta)&&(Ta={}.NODE_DEBUG||""),t=t.toUpperCase(),!Ur[t])if(new RegExp("\\b"+t+"\\b","i").test(Ta)){var e=0;Ur[t]=function(){var a=fa.apply(null,arguments);console.error("%s %d: %s",t,e,a)}}else Ur[t]=function(){};return Ur[t]}function Et(t,e){var a={seen:[],stylize:Kc};return arguments.length>=3&&(a.depth=arguments[2]),arguments.length>=4&&(a.colors=arguments[3]),pa(e)?a.showHidden=e:e&&Cn(a,e),wt(a.showHidden)&&(a.showHidden=!1),wt(a.depth)&&(a.depth=2),wt(a.colors)&&(a.colors=!1),wt(a.customInspect)&&(a.customInspect=!0),a.colors&&(a.stylize=Qc),Kr(a,t,a.depth)}Et.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Et.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Qc(t,e){var a=Et.styles[e];return a?"\x1B["+Et.colors[a][0]+"m"+t+"\x1B["+Et.colors[a][1]+"m":t}function Kc(t,e){return t}function Wc(t){var e={};return t.forEach(function(a,n){e[a]=!0}),e}function Kr(t,e,a){if(t.customInspect&&e&&wr(e.inspect)&&e.inspect!==Et&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(a,t);return Ft(n)||(n=Kr(t,n,a)),n}var r=Gc(t,e);if(r)return r;var s=Object.keys(e),l=Wc(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),_r(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Ca(e);if(s.length===0){if(wr(e)){var o=e.name?": "+e.name:"";return t.stylize("[Function"+o+"]","special")}if(br(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Wr(e))return t.stylize(Date.prototype.toString.call(e),"date");if(_r(e))return Ca(e)}var h="",y=!1,m=["{","}"];if(On(e)&&(y=!0,m=["[","]"]),wr(e)){var d=e.name?": "+e.name:"";h=" [Function"+d+"]"}if(br(e)&&(h=" "+RegExp.prototype.toString.call(e)),Wr(e)&&(h=" "+Date.prototype.toUTCString.call(e)),_r(e)&&(h=" "+Ca(e)),s.length===0&&(!y||e.length==0))return m[0]+h+m[1];if(a<0)return br(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var v;return y?v=Yc(t,e,a,l,s):v=s.map(function(p){return an(t,e,a,l,p,y)}),t.seen.pop(),Zc(v,h,m)}function Gc(t,e){if(wt(e))return t.stylize("undefined","undefined");if(Ft(e)){var a="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(a,"string")}if(Dn(e))return t.stylize(""+e,"number");if(pa(e))return t.stylize(""+e,"boolean");if(jt(e))return t.stylize("null","null")}function Ca(t){return"["+Error.prototype.toString.call(t)+"]"}function Yc(t,e,a,n,r){for(var s=[],l=0,o=e.length;l<o;++l)ei(e,String(l))?s.push(an(t,e,a,n,String(l),!0)):s.push("");return r.forEach(function(h){h.match(/^\d+$/)||s.push(an(t,e,a,n,h,!0))}),s}function an(t,e,a,n,r,s){var l,o,h;if(h=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},h.get?h.set?o=t.stylize("[Getter/Setter]","special"):o=t.stylize("[Getter]","special"):h.set&&(o=t.stylize("[Setter]","special")),ei(n,r)||(l="["+r+"]"),o||(t.seen.indexOf(h.value)<0?(jt(a)?o=Kr(t,h.value,null):o=Kr(t,h.value,a-1),o.indexOf(`
`)>-1&&(s?o=o.split(`
`).map(function(y){return"  "+y}).join(`
`).substr(2):o=`
`+o.split(`
`).map(function(y){return"   "+y}).join(`
`))):o=t.stylize("[Circular]","special")),wt(l)){if(s&&r.match(/^\d+$/))return o;l=JSON.stringify(""+r),l.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(l=l.substr(1,l.length-2),l=t.stylize(l,"name")):(l=l.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),l=t.stylize(l,"string"))}return l+": "+o}function Zc(t,e,a){var n=t.reduce(function(r,s){return s.indexOf(`
`)>=0,r+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?a[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+a[1]:a[0]+e+" "+t.join(", ")+" "+a[1]}function On(t){return Array.isArray(t)}function pa(t){return typeof t=="boolean"}function jt(t){return t===null}function jn(t){return t==null}function Dn(t){return typeof t=="number"}function Ft(t){return typeof t=="string"}function Go(t){return typeof t=="symbol"}function wt(t){return t===void 0}function br(t){return Ct(t)&&Tn(t)==="[object RegExp]"}function Ct(t){return typeof t=="object"&&t!==null}function Wr(t){return Ct(t)&&Tn(t)==="[object Date]"}function _r(t){return Ct(t)&&(Tn(t)==="[object Error]"||t instanceof Error)}function wr(t){return typeof t=="function"}function Yo(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function Zo(t){return Buffer.isBuffer(t)}function Tn(t){return Object.prototype.toString.call(t)}function Ra(t){return t<10?"0"+t.toString(10):t.toString(10)}var Xc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ef(){var t=new Date,e=[Ra(t.getHours()),Ra(t.getMinutes()),Ra(t.getSeconds())].join(":");return[t.getDate(),Xc[t.getMonth()],e].join(" ")}function Xo(){console.log("%s - %s",ef(),fa.apply(null,arguments))}function Cn(t,e){if(!e||!Ct(e))return t;for(var a=Object.keys(e),n=a.length;n--;)t[a[n]]=e[a[n]];return t}function ei(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const tf={inherits:Ko,_extend:Cn,log:Xo,isBuffer:Zo,isPrimitive:Yo,isFunction:wr,isError:_r,isDate:Wr,isObject:Ct,isRegExp:br,isUndefined:wt,isSymbol:Go,isString:Ft,isNumber:Dn,isNullOrUndefined:jn,isNull:jt,isBoolean:pa,isArray:On,inspect:Et,deprecate:kn,format:fa,debuglog:Wo},rf=Object.freeze(Object.defineProperty({__proto__:null,_extend:Cn,debuglog:Wo,default:tf,deprecate:kn,format:fa,inherits:Ko,inspect:Et,isArray:On,isBoolean:pa,isBuffer:Zo,isDate:Wr,isError:_r,isFunction:wr,isNull:jt,isNullOrUndefined:jn,isNumber:Dn,isObject:Ct,isPrimitive:Yo,isRegExp:br,isString:Ft,isSymbol:Go,isUndefined:wt,log:Xo},Symbol.toStringTag,{value:"Module"})),rt=oa(rf),af=rt,ur=function(t,e){this.code=[],this.indentation=t,this.lineJoin=e||`
`};ur.prototype.buildLine=function(t,e){let a="",n=2;if(Object.prototype.toString.call(t)==="[object String]")n=1,e=t,t=0;else if(t===null)return null;for(;t;)a+=this.indentation,t--;const r=Array.prototype.slice.call(arguments,n,arguments.length);return r.unshift(a+e),af.format.apply(this,r)};ur.prototype.unshift=function(){return this.code.unshift(this.buildLine.apply(this,arguments)),this};ur.prototype.push=function(){return this.code.push(this.buildLine.apply(this,arguments)),this};ur.prototype.blank=function(){return this.code.push(null),this};ur.prototype.join=function(){return this.code.join(this.lineJoin)};var Pe=ur;const nf=Pe;Pn.exports=function(t,e){const a=new nf;a.push("CURL *hnd = curl_easy_init();").blank().push('curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "%s");',t.method.toUpperCase()).push('curl_easy_setopt(hnd, CURLOPT_URL, "%s");',t.fullUrl);const n=Object.keys(t.headersObj);return n.length&&(a.blank().push("struct curl_slist *headers = NULL;"),n.forEach(function(r){a.push('headers = curl_slist_append(headers, "%s: %s");',r,t.headersObj[r])}),a.push("curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);")),t.allHeaders.cookie&&a.blank().push('curl_easy_setopt(hnd, CURLOPT_COOKIE, "%s");',t.allHeaders.cookie),t.postData.text&&a.blank().push("curl_easy_setopt(hnd, CURLOPT_POSTFIELDS, %s);",JSON.stringify(t.postData.text)),a.blank().push("CURLcode ret = curl_easy_perform(hnd);"),a.join()};Pn.exports.info={key:"libcurl",title:"Libcurl",link:"http://curl.haxx.se/libcurl/",description:"Simple REST and HTTP API Client for C"};var sf=Pn.exports,of={info:{key:"c",title:"C",extname:".c",default:"libcurl"},libcurl:sf},Rn={exports:{}};const lf=Pe,Wt=Dt,nn=function(t){this.name=t};nn.prototype.toString=function(){return":"+this.name};const ti=function(t){this.path=t};ti.prototype.toString=function(){return'(clojure.java.io/file "'+this.path+'")'};const ri=function(t){return typeof t<"u"?t.constructor.name.toLowerCase():null},ai=function(t){return ri(t)==="object"?Object.keys(t).length===0:!1},zs=function(t){return Object.keys(t).filter(function(e){return ai(t[e])}).forEach(function(e){delete t[e]}),t},Vr=function(t,e){const a=Array.apply(null,Array(t)).map(function(n){return" "}).join("");return e.replace(/\n/g,`
`+a)},sn=function(t){switch(ri(t)){case"string":return'"'+t.replace(/"/g,'\\"')+'"';case"file":return t.toString();case"keyword":return t.toString();case"null":return"nil";case"regexp":return'#"'+t.source+'"';case"object":{const e=Object.keys(t).reduce(function(a,n){const r=Vr(n.length+2,sn(t[n]));return a+":"+n+" "+r+`
 `},"").trim();return"{"+Vr(1,e)+"}"}case"array":{const e=t.reduce(function(a,n){return a+" "+sn(n)},"").trim();return"["+Vr(1,e)+"]"}default:return t.toString()}};Rn.exports=function(t,e){const a=new lf(e);if(["get","post","put","delete","patch","head","options"].indexOf(t.method.toLowerCase())===-1)return a.push("Method not supported").join();const r={headers:t.allHeaders,"query-params":t.queryObj};switch(t.postData.mimeType){case"application/json":r["content-type"]=new nn("json"),r["form-params"]=t.postData.jsonObj,delete r.headers[Wt.getHeaderName(r.headers,"content-type")];break;case"application/x-www-form-urlencoded":r["form-params"]=t.postData.paramsObj,delete r.headers[Wt.getHeaderName(r.headers,"content-type")];break;case"text/plain":r.body=t.postData.text,delete r.headers[Wt.getHeaderName(r.headers,"content-type")];break;case"multipart/form-data":r.multipart=t.postData.params.map(function(s){return s.fileName&&!s.value?{name:s.name,content:new ti(s.fileName)}:{name:s.name,content:s.value}}),delete r.headers[Wt.getHeaderName(r.headers,"content-type")];break}switch(Wt.getHeader(r.headers,"accept")){case"application/json":r.accept=new nn("json"),delete r.headers[Wt.getHeaderName(r.headers,"accept")];break}return a.push(`(require '[clj-http.client :as client])
`),ai(zs(r))?a.push('(client/%s "%s")',t.method.toLowerCase(),t.url):a.push('(client/%s "%s" %s)',t.method.toLowerCase(),t.url,Vr(11+t.method.length+t.url.length,sn(zs(r)))),a.join()};Rn.exports.info={key:"clj_http",title:"clj-http",link:"https://github.com/dakrone/clj-http",description:"An idiomatic clojure http client wrapping the apache client."};var uf=Rn.exports,cf={info:{key:"clojure",title:"Clojure",extname:".clj",default:"clj_http"},clj_http:uf},In={exports:{}};const ff=Pe,pf=Dt;In.exports=function(t,e){const a=new ff;if(["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].indexOf(t.method.toUpperCase())===-1)return"Method not supported";a.push('var client = new RestClient("%s");',t.fullUrl),a.push("var request = new RestRequest(Method.%s);",t.method.toUpperCase());const r=Object.keys(t.headersObj);return r.length&&r.forEach(function(s){a.push('request.AddHeader("%s", "%s");',s,t.headersObj[s])}),t.cookies.length&&t.cookies.forEach(function(s){a.push('request.AddCookie("%s", "%s");',s.name,s.value)}),t.postData.text&&a.push('request.AddParameter("%s", %s, ParameterType.RequestBody);',pf.getHeader(t.allHeaders,"content-type"),JSON.stringify(t.postData.text)),a.push("IRestResponse response = client.Execute(request);"),a.join()};In.exports.info={key:"restsharp",title:"RestSharp",link:"http://restsharp.org/",description:"Simple REST and HTTP API Client for .NET"};var df=In.exports,qn={exports:{}};const hf=Pe,mf=Dt;function vf(t){const e=mf.getHeader(t.allHeaders,"accept-encoding");if(!e)return[];const a={gzip:"DecompressionMethods.GZip",deflate:"DecompressionMethods.Deflate"},n=[];return e.split(",").forEach(function(r){const s=/\s*([^;\s]+)/.exec(r);if(s){const l=a[s[1]];l&&n.push(l)}}),n}qn.exports=function(t,e){const a=Object.assign({indent:"    "},e),n=new hf(a.indent);let r="";const s=!!t.allHeaders.cookie,l=vf(t);(s||l.length)&&(r="clientHandler",n.push("var clientHandler = new HttpClientHandler"),n.push("{"),s&&n.push(1,"UseCookies = false,"),l.length&&n.push(1,"AutomaticDecompression = %s,",l.join(" | ")),n.push("};")),n.push("var client = new HttpClient(%s);",r),n.push("var request = new HttpRequestMessage"),n.push("{");const o=["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS","TRACE"];let h=t.method.toUpperCase();h&&o.indexOf(h)!==-1?h=`HttpMethod.${h[0]}${h.substring(1).toLowerCase()}`:h=`new HttpMethod("${h}")`,n.push(1,"Method = %s,",h),n.push(1,'RequestUri = new Uri("%s"),',t.fullUrl);const y=Object.keys(t.allHeaders).filter(function(m){switch(m.toLowerCase()){case"content-type":case"content-length":case"accept-encoding":return!1;default:return!0}});if(y.length&&(n.push(1,"Headers ="),n.push(1,"{"),y.forEach(function(m){n.push(2,'{ "%s", "%s" },',m,t.allHeaders[m])}),n.push(1,"},")),t.postData.text){const m=t.postData.mimeType;switch(m){case"application/x-www-form-urlencoded":n.push(1,"Content = new FormUrlEncodedContent(new Dictionary<string, string>"),n.push(1,"{"),t.postData.params.forEach(function(d){n.push(2,'{ "%s", "%s" },',d.name,d.value)}),n.push(1,"}),");break;case"multipart/form-data":n.push(1,"Content = new MultipartFormDataContent"),n.push(1,"{"),t.postData.params.forEach(function(d){n.push(2,"new StringContent(%s)",JSON.stringify(d.value||"")),n.push(2,"{"),n.push(3,"Headers ="),n.push(3,"{"),d.contentType&&n.push(4,'ContentType = new MediaTypeHeaderValue("%s"),',d.contentType),n.push(4,'ContentDisposition = new ContentDispositionHeaderValue("form-data")'),n.push(4,"{"),n.push(5,'Name = "%s",',d.name),d.fileName&&n.push(5,'FileName = "%s",',d.fileName),n.push(4,"}"),n.push(3,"}"),n.push(2,"},")}),n.push(1,"},");break;default:n.push(1,"Content = new StringContent(%s)",JSON.stringify(t.postData.text||"")),n.push(1,"{"),n.push(2,"Headers ="),n.push(2,"{"),n.push(3,'ContentType = new MediaTypeHeaderValue("%s")',m),n.push(2,"}"),n.push(1,"}");break}}return n.push("};"),n.push("using (var response = await client.SendAsync(request))"),n.push("{"),n.push(1,"response.EnsureSuccessStatusCode();"),n.push(1,"var body = await response.Content.ReadAsStringAsync();"),n.push(1,"Console.WriteLine(body);"),n.push("}"),n.join()};qn.exports.info={key:"httpclient",title:"HttpClient",link:"https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient",description:".NET Standard HTTP Client"};var yf=qn.exports,gf={info:{key:"csharp",title:"C#",extname:".cs",default:"restsharp"},restsharp:df,httpclient:yf},An={exports:{}};const bf=Pe;An.exports=function(t,e){const a=new bf("	"),n=Object.assign({showBoilerplate:!0,checkErrors:!1,printBody:!0,timeout:-1},e),r=n.checkErrors?"err":"_",s=n.showBoilerplate?1:0,l=function(){n.checkErrors&&a.push(s,"if err != nil {").push(s+1,"panic(err)").push(s,"}")};n.showBoilerplate&&(a.push("package main").blank().push("import (").push(s,'"fmt"'),n.timeout>0&&a.push(s,'"time"'),t.postData.text&&a.push(s,'"strings"'),a.push(s,'"net/http"'),n.printBody&&a.push(s,'"io/ioutil"'),a.push(")").blank().push("func main() {").blank());let o;return n.timeout>0?(o="client",a.push(s,"client := http.Client{").push(s+1,"Timeout: time.Duration(%s * time.Second),",n.timeout).push(s,"}").blank()):o="http.DefaultClient",a.push(s,'url := "%s"',t.fullUrl).blank(),t.postData.text?a.push(s,"payload := strings.NewReader(%s)",JSON.stringify(t.postData.text)).blank().push(s,'req, %s := http.NewRequest("%s", url, payload)',r,t.method).blank():a.push(s,'req, %s := http.NewRequest("%s", url, nil)',r,t.method).blank(),l(),Object.keys(t.allHeaders).length&&(Object.keys(t.allHeaders).forEach(function(h){a.push(s,'req.Header.Add("%s", "%s")',h,t.allHeaders[h])}),a.blank()),a.push(s,"res, %s := %s.Do(req)",r,o),l(),n.printBody&&(a.blank().push(s,"defer res.Body.Close()").push(s,"body, %s := ioutil.ReadAll(res.Body)",r),l()),a.blank().push(s,"fmt.Println(res)"),n.printBody&&a.push(s,"fmt.Println(string(body))"),n.showBoilerplate&&a.blank().push("}"),a.join()};An.exports.info={key:"native",title:"NewRequest",link:"http://golang.org/pkg/net/http/#NewRequest",description:"Golang HTTP client request"};var _f=An.exports,wf={info:{key:"go",title:"Go",extname:".go",default:"native"},native:_f},Fn={exports:{}};const Vs=`\r
`,xf=Pe,Ef=rt;Fn.exports=function(t,e){const a=Object.assign({absoluteURI:!1,autoContentLength:!0,autoHost:!0},e),n=new xf("",Vs),r=a.absoluteURI?t.fullUrl:t.uriObj.path;n.push("%s %s %s",t.method,r,t.httpVersion),Object.keys(t.allHeaders).forEach(function(o){const h=o.toLowerCase().replace(/(^|-)(\w)/g,function(y){return y.toUpperCase()});n.push("%s",Ef.format("%s: %s",h,t.allHeaders[o]))}),a.autoHost&&Object.keys(t.allHeaders).indexOf("host")===-1&&n.push("Host: %s",t.uriObj.host),a.autoContentLength&&t.postData.text&&Object.keys(t.allHeaders).indexOf("content-length")===-1&&n.push("Content-Length: %d",Buffer.byteLength(t.postData.text,"ascii")),n.blank();const s=n.join();let l="";return t.postData.text&&(l=t.postData.text),s+Vs+l};Fn.exports.info={key:"1.1",title:"HTTP/1.1",link:"https://tools.ietf.org/html/rfc7230",description:"HTTP/1.1 request string in accordance with RFC 7230"};var $f=Fn.exports,Sf={info:{key:"http",title:"HTTP",extname:"",default:"1.1"},1.1:$f},Nn={exports:{}};const Pf=Pe;Nn.exports=function(t,e){const a=Object.assign({indent:"  "},e),n=new Pf(a.indent),r=["GET","POST","PUT","DELETE","PATCH","HEAD"],s=["POST","PUT","DELETE","PATCH"];n.push("OkHttpClient client = new OkHttpClient();").blank(),t.postData.text&&(t.postData.boundary?n.push('MediaType mediaType = MediaType.parse("%s; boundary=%s");',t.postData.mimeType,t.postData.boundary):n.push('MediaType mediaType = MediaType.parse("%s");',t.postData.mimeType),n.push("RequestBody body = RequestBody.create(mediaType, %s);",JSON.stringify(t.postData.text))),n.push("Request request = new Request.Builder()"),n.push(1,'.url("%s")',t.fullUrl),r.indexOf(t.method.toUpperCase())===-1?t.postData.text?n.push(1,'.method("%s", body)',t.method.toUpperCase()):n.push(1,'.method("%s", null)',t.method.toUpperCase()):s.indexOf(t.method.toUpperCase())>=0?t.postData.text?n.push(1,".%s(body)",t.method.toLowerCase()):n.push(1,".%s(null)",t.method.toLowerCase()):n.push(1,".%s()",t.method.toLowerCase());const l=Object.keys(t.allHeaders);return l.length&&l.forEach(function(o){n.push(1,'.addHeader("%s", "%s")',o,t.allHeaders[o])}),n.push(1,".build();").blank().push("Response response = client.newCall(request).execute();"),n.join()};Nn.exports.info={key:"okhttp",title:"OkHttp",link:"http://square.github.io/okhttp/",description:"An HTTP Request Client Library"};var kf=Nn.exports,Ln={exports:{}};const Of=Pe;Ln.exports=function(t,e){const a=Object.assign({indent:"  "},e),n=new Of(a.indent);["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].indexOf(t.method.toUpperCase())===-1?n.push('HttpResponse<String> response = Unirest.customMethod("%s","%s")',t.method.toUpperCase(),t.fullUrl):n.push('HttpResponse<String> response = Unirest.%s("%s")',t.method.toLowerCase(),t.fullUrl);const s=Object.keys(t.allHeaders);return s.length&&s.forEach(function(l){n.push(1,'.header("%s", "%s")',l,t.allHeaders[l])}),t.postData.text&&n.push(1,".body(%s)",JSON.stringify(t.postData.text)),n.push(1,".asString();"),n.join()};Ln.exports.info={key:"unirest",title:"Unirest",link:"http://unirest.io/java.html",description:"Lightweight HTTP Request Client Library"};var jf=Ln.exports,Un={exports:{}};const Df=Pe;Un.exports=function(t,e){const a=Object.assign({indent:"  "},e),n=new Df(a.indent);n.push("AsyncHttpClient client = new DefaultAsyncHttpClient();"),n.push(`client.prepare("${t.method.toUpperCase()}", "${t.fullUrl}")`);const r=Object.keys(t.allHeaders);return r.length&&r.forEach(function(s){n.push(1,'.setHeader("%s", "%s")',s,t.allHeaders[s])}),t.postData.text&&n.push(1,".setBody(%s)",JSON.stringify(t.postData.text)),n.push(1,".execute()"),n.push(1,".toCompletableFuture()"),n.push(1,".thenAccept(System.out::println)"),n.push(1,".join();"),n.blank(),n.push("client.close();"),n.join()};Un.exports.info={key:"asynchttp",title:"AsyncHttp",link:"https://github.com/AsyncHttpClient/async-http-client",description:"Asynchronous Http and WebSocket Client library for Java"};var Tf=Un.exports,Hn={exports:{}};const Cf=Pe;Hn.exports=function(t,e){const a=Object.assign({indent:"  "},e),n=new Cf(a.indent);n.push("HttpRequest request = HttpRequest.newBuilder()"),n.push(2,'.uri(URI.create("%s"))',t.fullUrl);const r=Object.keys(t.allHeaders);return r.length&&r.forEach(function(s){n.push(2,'.header("%s", "%s")',s,t.allHeaders[s])}),t.postData.text?n.push(2,'.method("%s", HttpRequest.BodyPublishers.ofString(%s))',t.method.toUpperCase(),JSON.stringify(t.postData.text)):n.push(2,'.method("%s", HttpRequest.BodyPublishers.noBody())',t.method.toUpperCase()),n.push(2,".build();"),n.push("HttpResponse<String> response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());"),n.push("System.out.println(response.body());"),n.join()};Hn.exports.info={key:"nethttp",title:"java.net.http",link:"https://openjdk.java.net/groups/net/httpclient/intro.html",description:"Java Standardized HTTP Client API"};var Rf=Hn.exports,If={info:{key:"java",title:"Java",extname:".java",default:"unirest"},okhttp:kf,unirest:jf,asynchttp:Tf,nethttp:Rf},Bn={exports:{}};const qf=Pe,Ia=Dt;Bn.exports=function(t,e){const a=Object.assign({indent:"  "},e),n=new qf(a.indent),r={async:!0,crossDomain:!0,url:t.fullUrl,method:t.method,headers:t.allHeaders};switch(t.postData.mimeType){case"application/x-www-form-urlencoded":r.data=t.postData.paramsObj?t.postData.paramsObj:t.postData.text;break;case"application/json":r.processData=!1,r.data=t.postData.text;break;case"multipart/form-data":n.push("const form = new FormData();"),t.postData.params.forEach(function(s){n.push("form.append(%s, %s);",JSON.stringify(s.name),JSON.stringify(s.value||s.fileName||""))}),r.processData=!1,r.contentType=!1,r.mimeType="multipart/form-data",r.data="[form]",Ia.hasHeader(r.headers,"content-type")&&Ia.getHeader(r.headers,"content-type").indexOf("boundary")&&delete r.headers[Ia.getHeaderName(r.headers,"content-type")],n.blank();break;default:t.postData.text&&(r.data=t.postData.text)}return n.push("const settings = "+JSON.stringify(r,null,a.indent).replace('"[form]"',"form")+";").blank().push("$.ajax(settings).done(function (response) {").push(1,"console.log(response);").push("});"),n.join()};Bn.exports.info={key:"jquery",title:"jQuery",link:"http://api.jquery.com/jquery.ajax/",description:"Perform an asynchronous HTTP (Ajax) requests with jQuery"};var Af=Bn.exports,Mn={exports:{}},Ff=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Nf=function(t){var e=typeof t;return t!==null&&(e==="object"||e==="function")},zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.default=t=>Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e));const Lf=Ff,Uf=Nf,Hf=zn.default;var cr=(t,e,a)=>{const n=[];return function r(s,l,o){l=l||{},l.indent=l.indent||"	",o=o||"";let h;l.inlineCharacterLimit===void 0?h={newLine:`
`,newLineOrSpace:`
`,pad:o,indent:o+l.indent}:h={newLine:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newLineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};const y=m=>{if(l.inlineCharacterLimit===void 0)return m;const d=m.replace(new RegExp(h.newLine,"g"),"").replace(new RegExp(h.newLineOrSpace,"g")," ").replace(new RegExp(h.pad+"|"+h.indent,"g"),"");return d.length<=l.inlineCharacterLimit?d:m.replace(new RegExp(h.newLine+"|"+h.newLineOrSpace,"g"),`
`).replace(new RegExp(h.pad,"g"),o).replace(new RegExp(h.indent,"g"),o+l.indent)};if(n.indexOf(s)!==-1)return'"[Circular]"';if(s==null||typeof s=="number"||typeof s=="boolean"||typeof s=="function"||typeof s=="symbol"||Lf(s))return String(s);if(s instanceof Date)return`new Date('${s.toISOString()}')`;if(Array.isArray(s)){if(s.length===0)return"[]";n.push(s);const m="["+h.newLine+s.map((d,v)=>{const p=s.length-1===v?h.newLine:","+h.newLineOrSpace;let c=r(d,l,o+l.indent);return l.transform&&(c=l.transform(s,v,c)),h.indent+c+p}).join("")+h.pad+"]";return n.pop(),y(m)}if(Uf(s)){let m=Object.keys(s).concat(Hf(s));if(l.filter&&(m=m.filter(v=>l.filter(s,v))),m.length===0)return"{}";n.push(s);const d="{"+h.newLine+m.map((v,p)=>{const c=m.length-1===p?h.newLine:","+h.newLineOrSpace,_=typeof v=="symbol",w=!_&&/^[a-z$_][a-z$_0-9]*$/i.test(v),x=_||w?v:r(v,l);let C=r(s[v],l,o+l.indent);return l.transform&&(C=l.transform(s,v,C)),h.indent+String(x)+": "+C+c}).join("")+h.pad+"}";return n.pop(),y(d)}return s=String(s).replace(/[\r\n]/g,m=>m===`
`?"\\n":"\\r"),l.singleQuotes===!1?(s=s.replace(/"/g,'\\"'),`"${s}"`):(s=s.replace(/\\?'/g,"\\'"),`'${s}'`)}(t,e,a)};const Bf=Pe;Mn.exports=function(t,e){const a=Object.assign({indent:"  ",credentials:null},e),n=cr,r=new Bf(a.indent);switch(e={method:t.method},Object.keys(t.allHeaders).length&&(e.headers=t.allHeaders),a.credentials!==null&&(e.credentials=a.credentials),t.postData.mimeType){case"application/x-www-form-urlencoded":e.body=t.postData.paramsObj?t.postData.paramsObj:t.postData.text;break;case"application/json":e.body=JSON.stringify(t.postData.jsonObj);break;case"multipart/form-data":r.push("const form = new FormData();"),t.postData.params.forEach(function(s){r.push("form.append(%s, %s);",JSON.stringify(s.name),JSON.stringify(s.value||s.fileName||""))}),r.blank();break;default:t.postData.text&&(e.body=t.postData.text)}return r.push("const options = %s;",n(e,{indent:a.indent,inlineCharacterLimit:80,transform:(s,l,o)=>l==="body"&&t.postData.mimeType==="application/x-www-form-urlencoded"?`new URLSearchParams(${o})`:o})).blank(),t.postData.mimeType==="multipart/form-data"&&r.push("options.body = form;").blank(),r.push("fetch('%s', options)",t.fullUrl).push(1,".then(response => response.json())").push(1,".then(response => console.log(response))").push(1,".catch(err => console.error(err));"),r.join()};Mn.exports.info={key:"fetch",title:"fetch",link:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch",description:"Perform asynchronous HTTP requests with the Fetch API"};var Mf=Mn.exports,Vn={exports:{}};const zf=Pe,qa=Dt;Vn.exports=function(t,e){const a=Object.assign({indent:"  ",cors:!0},e),n=new zf(a.indent);switch(t.postData.mimeType){case"application/json":n.push("const data = JSON.stringify(%s);",JSON.stringify(t.postData.jsonObj,null,a.indent)).push(null);break;case"multipart/form-data":n.push("const data = new FormData();"),t.postData.params.forEach(function(r){n.push("data.append(%s, %s);",JSON.stringify(r.name),JSON.stringify(r.value||r.fileName||""))}),qa.hasHeader(t.allHeaders,"content-type")&&qa.getHeader(t.allHeaders,"content-type").indexOf("boundary")&&delete t.allHeaders[qa.getHeaderName(t.allHeaders,"content-type")],n.blank();break;default:n.push("const data = %s;",JSON.stringify(t.postData.text||null)).blank()}return n.push("const xhr = new XMLHttpRequest();"),a.cors&&n.push("xhr.withCredentials = true;"),n.blank().push('xhr.addEventListener("readystatechange", function () {').push(1,"if (this.readyState === this.DONE) {").push(2,"console.log(this.responseText);").push(1,"}").push("});").blank().push("xhr.open(%s, %s);",JSON.stringify(t.method),JSON.stringify(t.fullUrl)),Object.keys(t.allHeaders).forEach(function(r){n.push("xhr.setRequestHeader(%s, %s);",JSON.stringify(r),JSON.stringify(t.allHeaders[r]))}),n.blank().push("xhr.send(data);"),n.join()};Vn.exports.info={key:"xhr",title:"XMLHttpRequest",link:"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest",description:"W3C Standard API that provides scripted client functionality"};var Vf=Vn.exports,Jn={exports:{}};const Jf=rt,Qf=cr,Kf=Pe;Jn.exports=function(t,e){const a=Object.assign({indent:"  "},e),n=new Kf(a.indent);n.push('import axios from "axios";').blank();const r={method:t.method,url:t.url};switch(Object.keys(t.queryObj).length&&(r.params=t.queryObj),Object.keys(t.allHeaders).length&&(r.headers=t.allHeaders),t.postData.mimeType){case"application/x-www-form-urlencoded":r.data=t.postData.paramsObj;break;case"application/json":t.postData.jsonObj&&(r.data=t.postData.jsonObj);break;case"multipart/form-data":n.push("const form = new FormData();"),t.postData.params.forEach(function(s){n.push("form.append(%s, %s);",JSON.stringify(s.name),JSON.stringify(s.value||s.fileName||""))}),n.blank(),r.data="[form]";break;default:t.postData.text&&(r.data=t.postData.text)}return n.push("const options = %s;",Qf(r,{indent:"  ",inlineCharacterLimit:80}).replace('"[form]"',"form")).blank(),n.push(Jf.format("axios.request(options).then(%s","function (response) {")).push(1,"console.log(response.data);").push("}).catch(%s","function (error) {").push(1,"console.error(error);").push("});"),n.join()};Jn.exports.info={key:"axios",title:"Axios",link:"https://github.com/axios/axios",description:"Promise based HTTP client for the browser and node.js"};var Wf=Jn.exports,Gf={info:{key:"javascript",title:"JavaScript",extname:".js",default:"xhr"},jquery:Af,fetch:Mf,xhr:Vf,axios:Wf},Qn={exports:{}};const Yf=Pe;Qn.exports=function(t,e){const a=Object.assign({indent:"  "},e),n=new Yf(a.indent),r=["GET","POST","PUT","DELETE","PATCH","HEAD"],s=["POST","PUT","DELETE","PATCH"];n.push("val client = OkHttpClient()").blank(),t.postData.text&&(t.postData.boundary?n.push('val mediaType = MediaType.parse("%s; boundary=%s")',t.postData.mimeType,t.postData.boundary):n.push('val mediaType = MediaType.parse("%s")',t.postData.mimeType),n.push("val body = RequestBody.create(mediaType, %s)",JSON.stringify(t.postData.text))),n.push("val request = Request.Builder()"),n.push(1,'.url("%s")',t.fullUrl),r.indexOf(t.method.toUpperCase())===-1?t.postData.text?n.push(1,'.method("%s", body)',t.method.toUpperCase()):n.push(1,'.method("%s", null)',t.method.toUpperCase()):s.indexOf(t.method.toUpperCase())>=0?t.postData.text?n.push(1,".%s(body)",t.method.toLowerCase()):n.push(1,".%s(null)",t.method.toLowerCase()):n.push(1,".%s()",t.method.toLowerCase());const l=Object.keys(t.allHeaders);return l.length&&l.forEach(function(o){n.push(1,'.addHeader("%s", "%s")',o,t.allHeaders[o])}),n.push(1,".build()").blank().push("val response = client.newCall(request).execute()"),n.join()};Qn.exports.info={key:"okhttp",title:"OkHttp",link:"http://square.github.io/okhttp/",description:"An HTTP Request Client Library"};var Zf=Qn.exports,Xf={info:{key:"kotlin",title:"Kotlin",extname:".kt",default:"okhttp"},okhttp:Zf},Kn={exports:{}};const Js=cr,ep=Pe;Kn.exports=function(t,e){const a=Object.assign({indent:"  "},e),n=new ep(a.indent),r={method:t.method,hostname:t.uriObj.hostname,port:t.uriObj.port,path:t.uriObj.path,headers:t.allHeaders};switch(n.push('const http = require("%s");',t.uriObj.protocol.replace(":","")),n.blank().push("const options = %s;",JSON.stringify(r,null,a.indent)).blank().push("const req = http.request(options, function (res) {").push(1,"const chunks = [];").blank().push(1,'res.on("data", function (chunk) {').push(2,"chunks.push(chunk);").push(1,"});").blank().push(1,'res.on("end", function () {').push(2,"const body = Buffer.concat(chunks);").push(2,"console.log(body.toString());").push(1,"});").push("});").blank(),t.postData.mimeType){case"application/x-www-form-urlencoded":t.postData.paramsObj&&(n.unshift('const qs = require("querystring");'),n.push("req.write(qs.stringify(%s));",Js(t.postData.paramsObj,{indent:"  ",inlineCharacterLimit:80})));break;case"application/json":t.postData.jsonObj&&n.push("req.write(JSON.stringify(%s));",Js(t.postData.jsonObj,{indent:"  ",inlineCharacterLimit:80}));break;default:t.postData.text&&n.push("req.write(%s);",JSON.stringify(t.postData.text,null,a.indent))}return n.push("req.end();"),n.join()};Kn.exports.info={key:"native",title:"HTTP",link:"http://nodejs.org/api/http.html#http_http_request_options_callback",description:"Node.js native HTTP interface"};var tp=Kn.exports,Wn={exports:{}};const rp=rt,ap=cr,np=Pe;Wn.exports=function(t,e){const a=Object.assign({indent:"  "},e);let n=!1;const r=new np(a.indent);r.push("const request = require('request');").blank();const s={method:t.method,url:t.url};switch(Object.keys(t.queryObj).length&&(s.qs=t.queryObj),Object.keys(t.headersObj).length&&(s.headers=t.headersObj),t.postData.mimeType){case"application/x-www-form-urlencoded":s.form=t.postData.paramsObj;break;case"application/json":t.postData.jsonObj&&(s.body=t.postData.jsonObj,s.json=!0);break;case"multipart/form-data":s.formData={},t.postData.params.forEach(function(l){const o={};if(!l.fileName&&!l.fileName&&!l.contentType){s.formData[l.name]=l.value;return}l.fileName?(n=!0,o.value='fs.createReadStream("'+l.fileName+'")'):l.value&&(o.value=l.value),l.fileName&&(o.options={filename:l.fileName,contentType:l.contentType?l.contentType:null}),s.formData[l.name]=o});break;default:t.postData.text&&(s.body=t.postData.text)}if(t.cookies.length){s.jar="JAR",r.push("const jar = request.jar();");const l=t.url;t.cookies.forEach(function(o){r.push("jar.setCookie(request.cookie('%s=%s'), '%s');",encodeURIComponent(o.name),encodeURIComponent(o.value),l)}),r.blank()}return n&&r.unshift("const fs = require('fs');"),r.push("const options = %s;",ap(s,{indent:"  ",inlineCharacterLimit:80})).blank(),r.push(rp.format("request(options, %s","function (error, response, body) {")).push(1,"if (error) throw new Error(error);").blank().push(1,"console.log(body);").push("});").blank(),r.join().replace('"JAR"',"jar").replace(/'fs\.createReadStream\("(.+)"\)'/g,"fs.createReadStream('$1')")};Wn.exports.info={key:"request",title:"Request",link:"https://github.com/request/request",description:"Simplified HTTP request client"};var sp=Wn.exports,Gn={exports:{}};const op=Pe;Gn.exports=function(t,e){const a=Object.assign({indent:"  "},e);let n=!1;const r=new op(a.indent);switch(r.push('const unirest = require("unirest");').blank().push('const req = unirest("%s", "%s");',t.method,t.url).blank(),t.cookies.length&&(r.push("const CookieJar = unirest.jar();"),t.cookies.forEach(function(s){r.push('CookieJar.add("%s=%s","%s");',encodeURIComponent(s.name),encodeURIComponent(s.value),t.url)}),r.push("req.jar(CookieJar);").blank()),Object.keys(t.queryObj).length&&r.push("req.query(%s);",JSON.stringify(t.queryObj,null,a.indent)).blank(),Object.keys(t.headersObj).length&&r.push("req.headers(%s);",JSON.stringify(t.headersObj,null,a.indent)).blank(),t.postData.mimeType){case"application/x-www-form-urlencoded":t.postData.paramsObj&&r.push("req.form(%s);",JSON.stringify(t.postData.paramsObj,null,a.indent)).blank();break;case"application/json":t.postData.jsonObj&&r.push('req.type("json");').push("req.send(%s);",JSON.stringify(t.postData.jsonObj,null,a.indent)).blank();break;case"multipart/form-data":{const s=[];t.postData.params.forEach(function(l){const o={};l.fileName&&!l.value?(n=!0,o.body='fs.createReadStream("'+l.fileName+'")'):l.value&&(o.body=l.value),o.body&&(l.contentType&&(o["content-type"]=l.contentType),s.push(o))}),r.push("req.multipart(%s);",JSON.stringify(s,null,a.indent)).blank();break}default:t.postData.text&&r.push("req.send(%s);",JSON.stringify(t.postData.text,null,a.indent)).blank()}return n&&r.unshift('const fs = require("fs");'),r.push("req.end(function (res) {").push(1,"if (res.error) throw new Error(res.error);").blank().push(1,"console.log(res.body);").push("});").blank(),r.join().replace(/"fs\.createReadStream\(\\"(.+)\\"\)"/,'fs.createReadStream("$1")')};Gn.exports.info={key:"unirest",title:"Unirest",link:"http://unirest.io/nodejs.html",description:"Lightweight HTTP Request Client Library"};var ip=Gn.exports,Yn={exports:{}};const lp=rt,up=cr,cp=Pe;Yn.exports=function(t,e){const a=Object.assign({indent:"  "},e),n=new cp(a.indent);n.push('var axios = require("axios").default;').blank();const r={method:t.method,url:t.url};switch(Object.keys(t.queryObj).length&&(r.params=t.queryObj),Object.keys(t.allHeaders).length&&(r.headers=t.allHeaders),t.postData.mimeType){case"application/x-www-form-urlencoded":r.data=t.postData.paramsObj;break;case"application/json":t.postData.jsonObj&&(r.data=t.postData.jsonObj);break;default:t.postData.text&&(r.data=t.postData.text)}return n.push("var options = %s;",up(r,{indent:"  ",inlineCharacterLimit:80})).blank(),n.push(lp.format("axios.request(options).then(%s","function (response) {")).push(1,"console.log(response.data);").push("}).catch(%s","function (error) {").push(1,"console.error(error);").push("});"),n.join()};Yn.exports.info={key:"axios",title:"Axios",link:"https://github.com/axios/axios",description:"Promise based HTTP client for the browser and node.js"};var fp=Yn.exports,Zn={exports:{}};const pp=cr,dp=Pe;Zn.exports=function(t,e){const a=Object.assign({indent:"  "},e);let n=!1;const r=new dp(a.indent);r.push("const fetch = require('node-fetch');");const s=t.fullUrl,l={method:t.method};switch(Object.keys(t.headersObj).length&&(l.headers=t.headersObj),t.postData.mimeType){case"application/x-www-form-urlencoded":r.unshift("const { URLSearchParams } = require('url');"),r.push("const encodedParams = new URLSearchParams();"),r.blank(),t.postData.params.forEach(function(o){r.push("encodedParams.set('"+o.name+"', '"+o.value+"');")}),l.body="encodedParams";break;case"application/json":t.postData.jsonObj&&(l.body=JSON.stringify(t.postData.jsonObj));break;case"multipart/form-data":r.unshift("const FormData = require('form-data');"),r.push("const formData = new FormData();"),r.blank(),t.postData.params.forEach(function(o){if(!o.fileName&&!o.fileName&&!o.contentType){r.push("formData.append('"+o.name+"', '"+o.value+"');");return}o.fileName&&(n=!0,r.push("formData.append('"+o.name+"', fs.createReadStream('"+o.fileName+"'));"))});break;default:t.postData.text&&(l.body=t.postData.text)}if(t.cookies.length){let o="";t.cookies.forEach(function(h){o=o+encodeURIComponent(h.name)+"="+encodeURIComponent(h.value)+"; "}),l.headers||(l.headers={}),l.headers.cookie=o}return r.blank(),r.push("let url = '"+s+"';").blank(),r.push("let options = %s;",pp(l,{indent:"  ",inlineCharacterLimit:80})).blank(),n&&r.unshift("const fs = require('fs');"),t.postData.mimeType==="multipart/form-data"&&r.push("options.body = formData;").blank(),r.push("fetch(url, options)").push(1,".then(res => res.json())").push(1,".then(json => console.log(json))").push(1,".catch(err => console.error('error:' + err));"),r.join().replace(/'encodedParams'/,"encodedParams").replace(/"fs\.createReadStream\(\\"(.+)\\"\)"/,'fs.createReadStream("$1")')};Zn.exports.info={key:"fetch",title:"Fetch",link:"https://github.com/bitinn/node-fetch",description:"Simplified HTTP node-fetch client"};var hp=Zn.exports,mp={info:{key:"node",title:"Node.js",extname:".js",default:"native"},native:tp,request:sp,unirest:ip,axios:fp,fetch:hp},Xn={exports:{}};const vp=rt;var yp={blankString:function(t){return Array.apply(null,new Array(t)).map(String.prototype.valueOf," ").join("")},nsDeclaration:function(t,e,a,n){const r=t+" *"+e+" = ",s=this.literalRepresentation(a,n?r.length:void 0);return r+s+";"},literalRepresentation:function(t,e){const a=e===void 0?", ":`,
   `+this.blankString(e);switch(Object.prototype.toString.call(t)){case"[object Number]":return"@"+t;case"[object Array]":return"@[ "+t.map((function(r){return this.literalRepresentation(r)}).bind(this)).join(a)+" ]";case"[object Object]":{const n=[];for(const r in t)n.push(vp.format('@"%s": %s',r,this.literalRepresentation(t[r])));return"@{ "+n.join(a)+" }"}case"[object Boolean]":return t?"@YES":"@NO";default:return t==null?"":'@"'+t.toString().replace(/"/g,'\\"')+'"'}}};const Aa=yp,gp=Pe;Xn.exports=function(t,e){const a=Object.assign({indent:"    ",pretty:!0,timeout:"10"},e),n=new gp(a.indent),r={hasHeaders:!1,hasBody:!1};if(n.push("#import <Foundation/Foundation.h>"),Object.keys(t.allHeaders).length&&(r.hasHeaders=!0,n.blank().push(Aa.nsDeclaration("NSDictionary","headers",t.allHeaders,a.pretty))),t.postData.text||t.postData.jsonObj||t.postData.params)switch(r.hasBody=!0,t.postData.mimeType){case"application/x-www-form-urlencoded":n.blank().push('NSMutableData *postData = [[NSMutableData alloc] initWithData:[@"%s=%s" dataUsingEncoding:NSUTF8StringEncoding]];',t.postData.params[0].name,t.postData.params[0].value);for(let s=1,l=t.postData.params.length;s<l;s++)n.push('[postData appendData:[@"&%s=%s" dataUsingEncoding:NSUTF8StringEncoding]];',t.postData.params[s].name,t.postData.params[s].value);break;case"application/json":t.postData.jsonObj&&n.push(Aa.nsDeclaration("NSDictionary","parameters",t.postData.jsonObj,a.pretty)).blank().push("NSData *postData = [NSJSONSerialization dataWithJSONObject:parameters options:0 error:nil];");break;case"multipart/form-data":n.push(Aa.nsDeclaration("NSArray","parameters",t.postData.params,a.pretty)).push('NSString *boundary = @"%s";',t.postData.boundary).blank().push("NSError *error;").push("NSMutableString *body = [NSMutableString string];").push("for (NSDictionary *param in parameters) {").push(1,'[body appendFormat:@"--%@\\r\\n", boundary];').push(1,'if (param[@"fileName"]) {').push(2,'[body appendFormat:@"Content-Disposition:form-data; name=\\"%@\\"; filename=\\"%@\\"\\r\\n", param[@"name"], param[@"fileName"]];').push(2,'[body appendFormat:@"Content-Type: %@\\r\\n\\r\\n", param[@"contentType"]];').push(2,'[body appendFormat:@"%@", [NSString stringWithContentsOfFile:param[@"fileName"] encoding:NSUTF8StringEncoding error:&error]];').push(2,"if (error) {").push(3,'NSLog(@"%@", error);').push(2,"}").push(1,"} else {").push(2,'[body appendFormat:@"Content-Disposition:form-data; name=\\"%@\\"\\r\\n\\r\\n", param[@"name"]];').push(2,'[body appendFormat:@"%@", param[@"value"]];').push(1,"}").push("}").push('[body appendFormat:@"\\r\\n--%@--\\r\\n", boundary];').push("NSData *postData = [body dataUsingEncoding:NSUTF8StringEncoding];");break;default:n.blank().push('NSData *postData = [[NSData alloc] initWithData:[@"'+t.postData.text+'" dataUsingEncoding:NSUTF8StringEncoding]];')}return n.blank().push('NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"'+t.fullUrl+'"]').push("                                                       cachePolicy:NSURLRequestUseProtocolCachePolicy").push("                                                   timeoutInterval:"+parseInt(a.timeout,10).toFixed(1)+"];").push('[request setHTTPMethod:@"'+t.method+'"];'),r.hasHeaders&&n.push("[request setAllHTTPHeaderFields:headers];"),r.hasBody&&n.push("[request setHTTPBody:postData];"),n.blank().push("NSURLSession *session = [NSURLSession sharedSession];").push("NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request").push("                                            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {").push(1,"                                            if (error) {").push(2,'                                            NSLog(@"%@", error);').push(1,"                                            } else {").push(2,"                                            NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;").push(2,'                                            NSLog(@"%@", httpResponse);').push(1,"                                            }").push("                                            }];").push("[dataTask resume];"),n.join()};Xn.exports.info={key:"nsurlsession",title:"NSURLSession",link:"https://developer.apple.com/library/mac/documentation/Foundation/Reference/NSURLSession_class/index.html",description:"Foundation's NSURLSession request"};var bp=Xn.exports,_p={info:{key:"objc",title:"Objective-C",extname:".m",default:"nsurlsession"},nsurlsession:bp},es={exports:{}};const wp=Pe;es.exports=function(t,e){const a=Object.assign({indent:"  "},e),n=["get","post","head","delete","patch","put","options"],r=new wp(a.indent);r.push("open Cohttp_lwt_unix").push("open Cohttp").push("open Lwt").blank().push('let uri = Uri.of_string "%s" in',t.fullUrl);const s=Object.keys(t.allHeaders);return s.length===1?r.push('let headers = Header.add (Header.init ()) "%s" "%s" in',s[0],t.allHeaders[s[0]]):s.length>1&&(r.push("let headers = Header.add_list (Header.init ()) ["),s.forEach(function(l){r.push(1,'("%s", "%s");',l,t.allHeaders[l])}),r.push("] in")),t.postData.text&&r.push("let body = Cohttp_lwt_body.of_string %s in",JSON.stringify(t.postData.text)),r.blank(),r.push("Client.call %s%s%s uri",s.length?"~headers ":"",t.postData.text?"~body ":"",n.indexOf(t.method.toLowerCase())>=0?"`"+t.method.toUpperCase():'(Code.method_of_string "'+t.method+'")'),r.push(">>= fun (res, body_stream) ->").push(1,"(* Do stuff with the result *)"),r.join()};es.exports.info={key:"cohttp",title:"CoHTTP",link:"https://github.com/mirage/ocaml-cohttp",description:"Cohttp is a very lightweight HTTP server using Lwt or Async for OCaml"};var xp=es.exports,Ep={info:{key:"ocaml",title:"OCaml",extname:".ml",default:"cohttp"},cohttp:xp},ts={exports:{}};const Fa=rt,Qs=Pe;ts.exports=function(t,e){const a=Object.assign({closingTag:!1,indent:"  ",maxRedirects:10,namedErrors:!1,noTags:!1,shortTags:!1,timeout:30},e),n=new Qs(a.indent);a.noTags||n.push(a.shortTags?"<?":"<?php").blank(),n.push("$curl = curl_init();").blank();const r=[{escape:!0,name:"CURLOPT_PORT",value:t.uriObj.port},{escape:!0,name:"CURLOPT_URL",value:t.fullUrl},{escape:!1,name:"CURLOPT_RETURNTRANSFER",value:"true"},{escape:!0,name:"CURLOPT_ENCODING",value:""},{escape:!1,name:"CURLOPT_MAXREDIRS",value:a.maxRedirects},{escape:!1,name:"CURLOPT_TIMEOUT",value:a.timeout},{escape:!1,name:"CURLOPT_HTTP_VERSION",value:t.httpVersion==="HTTP/1.0"?"CURL_HTTP_VERSION_1_0":"CURL_HTTP_VERSION_1_1"},{escape:!0,name:"CURLOPT_CUSTOMREQUEST",value:t.method},{escape:!0,name:"CURLOPT_POSTFIELDS",value:t.postData?t.postData.text:void 0}];n.push("curl_setopt_array($curl, [");const s=new Qs(a.indent,`
`+a.indent);r.forEach(function(h){~[null,void 0].indexOf(h.value)||s.push(Fa.format("%s => %s,",h.name,h.escape?JSON.stringify(h.value):h.value))});const l=t.cookies.map(function(h){return encodeURIComponent(h.name)+"="+encodeURIComponent(h.value)});l.length&&s.push(Fa.format('CURLOPT_COOKIE => "%s",',l.join("; ")));const o=Object.keys(t.headersObj).sort().map(function(h){return Fa.format('"%s: %s"',h,t.headersObj[h])});return o.length&&s.push("CURLOPT_HTTPHEADER => [").push(1,o.join(`,
`+a.indent+a.indent)).push("],"),n.push(1,s.join()).push("]);").blank().push("$response = curl_exec($curl);").push("$err = curl_error($curl);").blank().push("curl_close($curl);").blank().push("if ($err) {"),a.namedErrors?n.push(1,'echo array_flip(get_defined_constants(true)["curl"])[$err];'):n.push(1,'echo "cURL Error #:" . $err;'),n.push("} else {").push(1,"echo $response;").push("}"),!a.noTags&&a.closingTag&&n.blank().push("?>"),n.join()};ts.exports.info={key:"curl",title:"cURL",link:"http://php.net/manual/en/book.curl.php",description:"PHP with ext-curl"};var $p=ts.exports,rs={exports:{}};const Jr=function(t,e,a){let n,r;switch(a||(a=""),Object.prototype.toString.call(t)){case"[object Null]":r="null";break;case"[object Undefined]":r="null";break;case"[object String]":r="'"+t.replace(/\\/g,"\\\\").replace(/'/g,"'")+"'";break;case"[object Number]":r=t.toString();break;case"[object Array]":r=[],t.forEach(function(s){r.push(Jr(s,e+e,e))}),r=`[
`+e+r.join(`,
`+e)+`
`+a+"]";break;case"[object Object]":r=[];for(n in t)t.hasOwnProperty(n)&&r.push(Jr(n,e)+" => "+Jr(t[n],e+e,e));r=`[
`+e+r.join(`,
`+e)+`
`+a+"]";break;default:r="null"}return r};var ni={convert:Jr,methods:["ACL","BASELINE_CONTROL","CHECKIN","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LABEL","LOCK","MERGE","MKACTIVITY","MKCOL","MKWORKSPACE","MOVE","OPTIONS","POST","PROPFIND","PROPPATCH","PUT","REPORT","TRACE","UNCHECKOUT","UNLOCK","UPDATE","VERSION_CONTROL"]};const Pt=ni,Sp=Pe;rs.exports=function(t,e){const a=Object.assign({closingTag:!1,indent:"  ",noTags:!1,shortTags:!1},e),n=new Sp(a.indent);switch(a.noTags||n.push(a.shortTags?"<?":"<?php").blank(),~Pt.methods.indexOf(t.method.toUpperCase())||n.push("HttpRequest::methodRegister('%s');",t.method),n.push("$request = new HttpRequest();").push("$request->setUrl(%s);",Pt.convert(t.url)),~Pt.methods.indexOf(t.method.toUpperCase())?n.push("$request->setMethod(HTTP_METH_%s);",t.method.toUpperCase()):n.push("$request->setMethod(HttpRequest::HTTP_METH_%s);",t.method.toUpperCase()),n.blank(),Object.keys(t.queryObj).length&&n.push("$request->setQueryData(%s);",Pt.convert(t.queryObj,a.indent)).blank(),Object.keys(t.headersObj).length&&n.push("$request->setHeaders(%s);",Pt.convert(t.headersObj,a.indent)).blank(),Object.keys(t.cookiesObj).length&&n.push("$request->setCookies(%s);",Pt.convert(t.cookiesObj,a.indent)).blank(),t.postData.mimeType){case"application/x-www-form-urlencoded":n.push("$request->setContentType(%s);",Pt.convert(t.postData.mimeType)).push("$request->setPostFields(%s);",Pt.convert(t.postData.paramsObj,a.indent)).blank();break;default:t.postData.text&&n.push("$request->setBody(%s);",Pt.convert(t.postData.text)).blank()}return n.push("try {").push(1,"$response = $request->send();").blank().push(1,"echo $response->getBody();").push("} catch (HttpException $ex) {").push(1,"echo $ex;").push("}"),!a.noTags&&a.closingTag&&n.blank().push("?>"),n.join()};rs.exports.info={key:"http1",title:"HTTP v1",link:"http://php.net/manual/en/book.http.php",description:"PHP with pecl/http v1"};var Pp=rs.exports,as={exports:{}};const kt=ni,Na=Dt,kp=Pe;as.exports=function(t,e){const a=Object.assign({closingTag:!1,indent:"  ",noTags:!1,shortTags:!1},e),n=new kp(a.indent);let r=!1;switch(a.noTags||n.push(a.shortTags?"<?":"<?php").blank(),n.push("$client = new http\\Client;").push("$request = new http\\Client\\Request;").blank(),t.postData.mimeType){case"application/x-www-form-urlencoded":n.push("$body = new http\\Message\\Body;").push("$body->append(new http\\QueryString(%s));",kt.convert(t.postData.paramsObj,a.indent)).blank(),r=!0;break;case"multipart/form-data":{const s=[],l={};t.postData.params.forEach(function(o){o.fileName?s.push({name:o.name,type:o.contentType,file:o.fileName,data:o.value}):o.value&&(l[o.name]=o.value)}),n.push("$body = new http\\Message\\Body;").push("$body->addForm(%s, %s);",Object.keys(l).length?kt.convert(l,a.indent):"null",s.length?kt.convert(s,a.indent):"null"),Na.hasHeader(t.headersObj,"content-type")&&Na.getHeader(t.headersObj,"content-type").indexOf("boundary")&&delete t.headersObj[Na.getHeaderName(t.headersObj,"content-type")],n.blank(),r=!0;break}default:t.postData.text&&(n.push("$body = new http\\Message\\Body;").push("$body->append(%s);",kt.convert(t.postData.text)).blank(),r=!0)}return n.push("$request->setRequestUrl(%s);",kt.convert(t.url)).push("$request->setRequestMethod(%s);",kt.convert(t.method)),r&&n.push("$request->setBody($body);").blank(),Object.keys(t.queryObj).length&&n.push("$request->setQuery(new http\\QueryString(%s));",kt.convert(t.queryObj,a.indent)).blank(),Object.keys(t.headersObj).length&&n.push("$request->setHeaders(%s);",kt.convert(t.headersObj,a.indent)).blank(),Object.keys(t.cookiesObj).length&&n.blank().push("$client->setCookies(%s);",kt.convert(t.cookiesObj,a.indent)).blank(),n.push("$client->enqueue($request)->send();").push("$response = $client->getResponse();").blank().push("echo $response->getBody();"),!a.noTags&&a.closingTag&&n.blank().push("?>"),n.join()};as.exports.info={key:"http2",title:"HTTP v2",link:"http://devel-m6w6.rhcloud.com/mdref/http",description:"PHP with pecl/http v2"};var Op=as.exports,jp={info:{key:"php",title:"PHP",extname:".php",default:"curl"},curl:$p,http1:Pp,http2:Op},ns={exports:{}};const Dp=Pe,Tp=Dt;var si=function(t){return function(e,a){const n=new Dp;if(["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].indexOf(e.method.toUpperCase())===-1)return"Method not supported";const s=[],l=Object.keys(e.headersObj);return l.length&&(n.push("$headers=@{}"),l.forEach(function(o){o!=="connection"&&n.push('$headers.Add("%s", "%s")',o,e.headersObj[o])}),s.push("-Headers $headers")),e.cookies.length&&(n.push("$session = New-Object Microsoft.PowerShell.Commands.WebRequestSession"),e.cookies.forEach(function(o){n.push("$cookie = New-Object System.Net.Cookie"),n.push("$cookie.Name = '%s'",o.name),n.push("$cookie.Value = '%s'",o.value),n.push("$cookie.Domain = '%s'",e.uriObj.host),n.push("$session.Cookies.Add($cookie)")}),s.push("-WebSession $session")),e.postData.text&&(s.push("-ContentType '"+Tp.getHeader(e.allHeaders,"content-type")+"'"),s.push("-Body '"+e.postData.text+"'")),n.push("$response = %s -Uri '%s' -Method %s %s",t,e.fullUrl,e.method,s.join(" ")),n.join()}};ns.exports=si("Invoke-WebRequest");ns.exports.info={key:"webrequest",title:"Invoke-WebRequest",link:"https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Utility/Invoke-WebRequest",description:"Powershell Invoke-WebRequest client"};var Cp=ns.exports,ss={exports:{}};ss.exports=si("Invoke-RestMethod");ss.exports.info={key:"restmethod",title:"Invoke-RestMethod",link:"https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Utility/Invoke-RestMethod",description:"Powershell Invoke-RestMethod client"};var Rp=ss.exports,Ip={info:{key:"powershell",title:"Powershell",extname:".ps1",default:"webrequest"},webrequest:Cp,restmethod:Rp},os={exports:{}};const qp=Pe;os.exports=function(t,e){const a=new qp;a.push("import http.client").blank(),t.uriObj.protocol==="https:"?a.push('conn = http.client.HTTPSConnection("%s")',t.uriObj.host).blank():a.push('conn = http.client.HTTPConnection("%s")',t.uriObj.host).blank();const r=JSON.stringify(t.postData.text);r&&a.push("payload = %s",r).blank();const s=t.allHeaders,l=Object.keys(s).length;if(l===1)for(const y in s)a.push(`headers = { '%s': "%s" }`,y,s[y]).blank();else if(l>1){let y=1;a.push("headers = {");for(const m in s)y++!==l?a.push(`    '%s': "%s",`,m,s[m]):a.push(`    '%s': "%s"`,m,s[m]);a.push("    }").blank()}const o=t.method,h=t.uriObj.path;return r&&l?a.push('conn.request("%s", "%s", payload, headers)',o,h):r&&!l?a.push('conn.request("%s", "%s", payload)',o,h):!r&&l?a.push('conn.request("%s", "%s", headers=headers)',o,h):a.push('conn.request("%s", "%s")',o,h),a.blank().push("res = conn.getresponse()").push("data = res.read()").blank().push('print(data.decode("utf-8"))'),a.join()};os.exports.info={key:"python3",title:"http.client",link:"https://docs.python.org/3/library/http.client.html",description:"Python3 HTTP Client"};var Ap=os.exports,is={exports:{}};const Fp=rt;function Ks(t,e){return Array.apply(null,new Array(t)).map(String.prototype.valueOf,e).join("")}function Ws(t,e,a,n,r){const s=Ks(r,n),l=Ks(r-1,n),o=a?`,
`+s:", ",h=t==="object"?"{":"[",y=t==="object"?"}":"]";return a?h+`
`+s+e.join(o)+`
`+l+y:h+e.join(o)+y}var Np={literalRepresentation:function(t,e,a){switch(a=a===void 0?1:a+1,Object.prototype.toString.call(t)){case"[object Number]":return t;case"[object Array]":{let n=!1;const r=t.map((function(s){return Object.prototype.toString.call(s)==="[object Object]"&&(n=Object.keys(s).length>1),this.literalRepresentation(s,e,a)}).bind(this));return Ws("array",r,n,e.indent,a)}case"[object Object]":{const n=[];for(const r in t)n.push(Fp.format('"%s": %s',r,this.literalRepresentation(t[r],e,a)));return Ws("object",n,e.pretty&&n.length>1,e.indent,a)}case"[object Null]":return"None";case"[object Boolean]":return t?"True":"False";default:return t==null?"":'"'+t.toString().replace(/"/g,'\\"')+'"'}}};const Lp=rt,Up=Pe,Hp=Np;is.exports=function(t,e){const a=Object.assign({indent:"    ",pretty:!0},e),n=new Up(a.indent);n.push("import requests").blank(),n.push('url = "%s"',t.url).blank();let r;Object.keys(t.queryObj).length&&(r="querystring = "+JSON.stringify(t.queryObj),n.push(r).blank());let s=!1,l=!1;switch(t.postData.mimeType){case"application/json":t.postData.jsonObj&&(n.push("payload = %s",Hp.literalRepresentation(t.postData.jsonObj,a)),l=!0,s=!0);break;default:{const d=JSON.stringify(t.postData.text);d&&(n.push("payload = %s",d),s=!0)}}const o=t.allHeaders,h=Object.keys(o).length;if(h===1)for(const d in o)n.push('headers = {"%s": "%s"}',d,o[d]).blank();else if(h>1){let d=1;n.push("headers = {");for(const v in o)d++!==h?n.push(1,'"%s": "%s",',v,o[v]):n.push(1,'"%s": "%s"',v,o[v]);n.push("}").blank()}const y=t.method;let m=Lp.format('response = requests.request("%s", url',y);return s&&(l?m+=", json=payload":m+=", data=payload"),h>0&&(m+=", headers=headers"),r&&(m+=", params=querystring"),m+=")",n.push(m).blank().push("print(response.text)"),n.join()};is.exports.info={key:"requests",title:"Requests",link:"http://docs.python-requests.org/en/latest/api/#requests.request",description:"Requests HTTP library"};var Bp=is.exports,Mp={info:{key:"python",title:"Python",extname:".py",default:"python3"},python3:Ap,requests:Bp},ls={exports:{}};const zp=rt,Vp=Pe;ls.exports=function(t,e){const a=new Vp;a.push("library(httr)").blank(),a.push('url <- "%s"',t.url).blank();const n=t.queryObj,r=Object.keys(n).length;if(delete t.queryObj.key,t.queryString.length===1)a.push('queryString <- list(%s = "%s")',Object.keys(n),Object.values(n).toString()).blank();else if(t.queryString.length>1){let p=1;a.push("queryString <- list(");for(const c in n)p++!==r-1?a.push('  %s = "%s",',c,n[c].toString()):a.push('  %s = "%s"',c,n[c].toString());a.push(")").blank()}const s=JSON.stringify(t.postData.text);if(s&&a.push("payload <- %s",s).blank(),t.postData.text||t.postData.jsonObj||t.postData.params)switch(t.postData.mimeType){case"application/x-www-form-urlencoded":a.push('encode <- "form"').blank();break;case"application/json":a.push('encode <- "json"').blank();break;case"multipart/form-data":a.push('encode <- "multipart"').blank();break;default:a.push('encode <- "raw"').blank();break}const l=t.allHeaders;let o=Object.keys(l).length,h="",y,m;for(const p in l)p.toLowerCase()==="accept"?(m=', accept("'+l[p]+'")',o=o-1):p.toLowerCase()==="cookie"?(y=", set_cookies(`"+l[p].replace(/;/g,'", `').replace(/` /g,"`").replace(/=/g,'` = "')+'")',o=o-1):p.toLowerCase()!=="content-type"&&(h=h+p.replace("-","_")+" = '"+l[p],o>1&&(h=h+"', "));const d=t.method;let v=zp.format('response <- VERB("%s", url',d);return s&&(v+=", body = payload"),h!==""&&(v+=", add_headers("+h+"')"),t.queryString.length&&(v+=", query = queryString"),v+=', content_type("'+t.postData.mimeType+'")',typeof m<"u"&&(v+=m),typeof y<"u"&&(v+=y),(t.postData.text||t.postData.jsonObj||t.postData.params)&&(v+=", encode = encode"),v+=")",a.push(v).blank().push('content(response, "text")'),a.join()};ls.exports.info={key:"httr",title:"httr",link:"https://cran.r-project.org/web/packages/httr/vignettes/quickstart.html",description:"httr: Tools for Working with URLs and HTTP"};var Jp=ls.exports,Qp={info:{key:"r",title:"R",extname:".r",default:"httr"},httr:Jp},us={exports:{}};const Kp=Pe;us.exports=function(t,e){const a=new Kp;a.push("require 'uri'").push("require 'net/http'"),t.uriObj.protocol==="https:"&&a.push("require 'openssl'"),a.blank();const n=t.method.toUpperCase(),r=["GET","POST","HEAD","DELETE","PATCH","PUT","OPTIONS","COPY","LOCK","UNLOCK","MOVE","TRACE"],s=n.charAt(0)+n.substring(1).toLowerCase();r.indexOf(n)<0&&a.push("class Net::HTTP::%s < Net::HTTPRequest",s).push("  METHOD = '%s'",n.toUpperCase()).push("  REQUEST_HAS_BODY = '%s'",t.postData.text?"true":"false").push("  RESPONSE_HAS_BODY = true").push("end").blank(),a.push('url = URI("%s")',t.fullUrl).blank().push("http = Net::HTTP.new(url.host, url.port)"),t.uriObj.protocol==="https:"&&a.push("http.use_ssl = true").push("http.verify_mode = OpenSSL::SSL::VERIFY_NONE"),a.blank().push("request = Net::HTTP::%s.new(url)",s);const l=Object.keys(t.allHeaders);return l.length&&l.forEach(function(o){a.push(`request["%s"] = '%s'`,o,t.allHeaders[o])}),t.postData.text&&a.push("request.body = %s",JSON.stringify(t.postData.text)),a.blank().push("response = http.request(request)").push("puts response.read_body"),a.join()};us.exports.info={key:"native",title:"net::http",link:"http://ruby-doc.org/stdlib-2.2.1/libdoc/net/http/rdoc/Net/HTTP.html",description:"Ruby HTTP client"};var Wp=us.exports,Gp={info:{key:"ruby",title:"Ruby",extname:".rb",default:"native"},native:Wp},cs={exports:{}};const Yp=rt;var fs={quote:function(t){return/^[a-z0-9-_/.@%^=:]+$/i.test(t)?t:Yp.format("'%s'",t.replace(/'/g,"'\\''"))},escape:function(t){return t.replace(/\r/g,"\\r").replace(/\n/g,"\\n")}};const yr=rt,Bt=fs,Zp=Dt,Xp=Pe;cs.exports=function(t,e){const a=Object.assign({indent:"  ",short:!1,binary:!1,globOff:!1},e),n=new Xp(a.indent,a.indent!==!1?` \\
`+a.indent:" "),r=a.short?"-g":"--globoff",s=a.short?"-X":"--request";let l=Bt.quote(t.fullUrl);if(n.push("curl %s %s",s,t.method),a.globOff&&(l=unescape(l),n.push(r)),n.push(yr.format("%s%s",a.short?"":"--url ",l)),t.httpVersion==="HTTP/1.0"&&n.push(a.short?"-0":"--http1.0"),t.postData.mimeType==="multipart/form-data"){const o=Zp.getHeaderName(t.headersObj,"content-type"),h=t.headersObj[o];if(o&&h){const y=h.replace(/; boundary.+?(?=(;|$))/,"");t.headersObj[o]=y,t.allHeaders[o]=y}}switch(Object.keys(t.headersObj).sort().forEach(function(o){const h=yr.format("%s: %s",o,t.headersObj[o]);n.push("%s %s",a.short?"-H":"--header",Bt.quote(h))}),t.allHeaders.cookie&&n.push("%s %s",a.short?"-b":"--cookie",Bt.quote(t.allHeaders.cookie)),t.postData.mimeType){case"multipart/form-data":t.postData.params.forEach(function(o){let h="";o.fileName?h=yr.format("%s=@%s",o.name,o.fileName):h=yr.format("%s=%s",o.name,o.value),n.push("%s %s",a.short?"-F":"--form",Bt.quote(h))});break;case"application/x-www-form-urlencoded":t.postData.params?t.postData.params.forEach(function(o){n.push("%s %s",a.binary?"--data-binary":a.short?"-d":"--data",Bt.quote(yr.format("%s=%s",o.name,o.value)))}):n.push("%s %s",a.binary?"--data-binary":a.short?"-d":"--data",Bt.quote(t.postData.text));break;default:t.postData.text&&n.push("%s %s",a.binary?"--data-binary":a.short?"-d":"--data",Bt.quote(t.postData.text))}return n.join()};cs.exports.info={key:"curl",title:"cURL",link:"http://curl.haxx.se/",description:"cURL is a command line tool and library for transferring data with URL syntax"};var ed=cs.exports,ps={exports:{}};const Gt=rt,Yt=fs,td=Pe;ps.exports=function(t,e){const a=Object.assign({body:!1,cert:!1,headers:!1,indent:"  ",pretty:!1,print:!1,queryParams:!1,short:!1,style:!1,timeout:!1,verbose:!1,verify:!1},e),n=new td(a.indent,a.indent!==!1?` \\
`+a.indent:" ");let r=!1;const s=[];return a.headers&&s.push(a.short?"-h":"--headers"),a.body&&s.push(a.short?"-b":"--body"),a.verbose&&s.push(a.short?"-v":"--verbose"),a.print&&s.push(Gt.format("%s=%s",a.short?"-p":"--print",a.print)),a.verify&&s.push(Gt.format("--verify=%s",a.verify)),a.cert&&s.push(Gt.format("--cert=%s",a.cert)),a.pretty&&s.push(Gt.format("--pretty=%s",a.pretty)),a.style&&s.push(Gt.format("--style=%s",a.pretty)),a.timeout&&s.push(Gt.format("--timeout=%s",a.timeout)),a.queryParams&&Object.keys(t.queryObj).forEach(function(o){const h=t.queryObj[o];Array.isArray(h)?h.forEach(function(y){n.push("%s==%s",o,Yt.quote(y))}):n.push("%s==%s",o,Yt.quote(h))}),Object.keys(t.allHeaders).sort().forEach(function(l){n.push("%s:%s",l,Yt.quote(t.allHeaders[l]))}),t.postData.mimeType==="application/x-www-form-urlencoded"?t.postData.params&&t.postData.params.length&&(s.push(a.short?"-f":"--form"),t.postData.params.forEach(function(l){n.push("%s=%s",l.name,Yt.quote(l.value))})):r=!0,n.unshift("http %s%s %s",s.length?s.join(" ")+" ":"",t.method,Yt.quote(a.queryParams?t.url:t.fullUrl)),r&&t.postData.text&&n.unshift("echo %s | ",Yt.quote(t.postData.text)),n.join()};ps.exports.info={key:"httpie",title:"HTTPie",link:"http://httpie.org/",description:"a CLI, cURL-like tool for humans"};var rd=ps.exports,ds={exports:{}};const ad=rt,gr=fs,nd=Pe;ds.exports=function(t,e){const a=Object.assign({indent:"  ",short:!1,verbose:!1},e),n=new nd(a.indent,a.indent!==!1?` \\
`+a.indent:" ");return a.verbose?n.push("wget %s",a.short?"-v":"--verbose"):n.push("wget %s",a.short?"-q":"--quiet"),n.push("--method %s",gr.quote(t.method)),Object.keys(t.allHeaders).forEach(function(r){const s=ad.format("%s: %s",r,t.allHeaders[r]);n.push("--header %s",gr.quote(s))}),t.postData.text&&n.push("--body-data "+gr.escape(gr.quote(t.postData.text))),n.push(a.short?"-O":"--output-document").push("- %s",gr.quote(t.fullUrl)),n.join()};ds.exports.info={key:"wget",title:"Wget",link:"https://www.gnu.org/software/wget/",description:"a free software package for retrieving files using HTTP, HTTPS"};var sd=ds.exports,od={info:{key:"shell",title:"Shell",extname:".sh",default:"curl"},curl:ed,httpie:rd,wget:sd},hs={exports:{}};const Gs=rt;function Ys(t,e){return Array.apply(null,new Array(t)).map(String.prototype.valueOf,e).join("")}function Zs(t,e,a,n){const r=Ys(n,a),s=Ys(n-1,a),l=e?`,
`+r:", ";return e?`[
`+r+t.join(l)+`
`+s+"]":"["+t.join(l)+"]"}var id={literalDeclaration:function(t,e,a){return Gs.format("let %s = %s",t,this.literalRepresentation(e,a))},literalRepresentation:function(t,e,a){switch(a=a===void 0?1:a+1,Object.prototype.toString.call(t)){case"[object Number]":return t;case"[object Array]":{let n=!1;const r=t.map((function(s){return Object.prototype.toString.call(s)==="[object Object]"&&(n=Object.keys(s).length>1),this.literalRepresentation(s,e,a)}).bind(this));return Zs(r,n,e.indent,a)}case"[object Object]":{const n=[];for(const r in t)n.push(Gs.format('"%s": %s',r,this.literalRepresentation(t[r],e,a)));return Zs(n,e.pretty&&n.length>1,e.indent,a)}case"[object Boolean]":return t.toString();default:return t==null?"":'"'+t.toString().replace(/"/g,'\\"')+'"'}}};const La=id,ld=Pe;hs.exports=function(t,e){const a=Object.assign({indent:"  ",pretty:!0,timeout:"10"},e),n=new ld(a.indent),r={hasHeaders:!1,hasBody:!1};if(n.push("import Foundation"),Object.keys(t.allHeaders).length&&(r.hasHeaders=!0,n.blank().push(La.literalDeclaration("headers",t.allHeaders,a))),t.postData.text||t.postData.jsonObj||t.postData.params)switch(r.hasBody=!0,t.postData.mimeType){case"application/x-www-form-urlencoded":n.blank().push('let postData = NSMutableData(data: "%s=%s".data(using: String.Encoding.utf8)!)',t.postData.params[0].name,t.postData.params[0].value);for(let s=1,l=t.postData.params.length;s<l;s++)n.push('postData.append("&%s=%s".data(using: String.Encoding.utf8)!)',t.postData.params[s].name,t.postData.params[s].value);break;case"application/json":t.postData.jsonObj&&n.push(La.literalDeclaration("parameters",t.postData.jsonObj,a),"as [String : Any]").blank().push("let postData = JSONSerialization.data(withJSONObject: parameters, options: [])");break;case"multipart/form-data":n.push(La.literalDeclaration("parameters",t.postData.params,a)).blank().push('let boundary = "%s"',t.postData.boundary).blank().push('var body = ""').push("var error: NSError? = nil").push("for param in parameters {").push(1,'let paramName = param["name"]!').push(1,'body += "--\\(boundary)\\r\\n"').push(1,'body += "Content-Disposition:form-data; name=\\"\\(paramName)\\""').push(1,'if let filename = param["fileName"] {').push(2,'let contentType = param["content-type"]!').push(2,"let fileContent = String(contentsOfFile: filename, encoding: String.Encoding.utf8)").push(2,"if (error != nil) {").push(3,"print(error)").push(2,"}").push(2,'body += "; filename=\\"\\(filename)\\"\\r\\n"').push(2,'body += "Content-Type: \\(contentType)\\r\\n\\r\\n"').push(2,"body += fileContent").push(1,'} else if let paramValue = param["value"] {').push(2,'body += "\\r\\n\\r\\n\\(paramValue)"').push(1,"}").push("}");break;default:n.blank().push('let postData = NSData(data: "%s".data(using: String.Encoding.utf8)!)',t.postData.text)}return n.blank().push('let request = NSMutableURLRequest(url: NSURL(string: "%s")! as URL,',t.fullUrl).push("                                        cachePolicy: .useProtocolCachePolicy,").push("                                    timeoutInterval: %s)",parseInt(a.timeout,10).toFixed(1)).push('request.httpMethod = "%s"',t.method),r.hasHeaders&&n.push("request.allHTTPHeaderFields = headers"),r.hasBody&&n.push("request.httpBody = postData as Data"),n.blank().push("let session = URLSession.shared").push("let dataTask = session.dataTask(with: request as URLRequest, completionHandler: { (data, response, error) -> Void in").push(1,"if (error != nil) {").push(2,"print(error)").push(1,"} else {").push(2,"let httpResponse = response as? HTTPURLResponse").push(2,"print(httpResponse)").push(1,"}").push("})").blank().push("dataTask.resume()"),n.join()};hs.exports.info={key:"nsurlsession",title:"NSURLSession",link:"https://developer.apple.com/library/mac/documentation/Foundation/Reference/NSURLSession_class/index.html",description:"Foundation's NSURLSession request"};var ud=hs.exports,cd={info:{key:"swift",title:"Swift",extname:".swift",default:"nsurlsession"},nsurlsession:ud},fd={c:of,clojure:cf,csharp:gf,go:wf,http:Sf,java:If,javascript:Gf,kotlin:Xf,node:mp,objc:_p,ocaml:Ep,php:jp,powershell:Ip,python:Mp,r:Qp,ruby:Gp,shell:od,swift:cd};const Ua=2147483647,xr=36,oi=1,on=26,pd=38,dd=700,hd=72,md=128,vd="-",yd=/[^\0-\x7F]/,gd=/[\x2E\u3002\uFF0E\uFF61]/g,bd={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ha=xr-oi,Xt=Math.floor,Ba=String.fromCharCode;function Xs(t){throw new RangeError(bd[t])}function _d(t,e){const a=[];let n=t.length;for(;n--;)a[n]=e(t[n]);return a}function wd(t,e){const a=t.split("@");let n="";a.length>1&&(n=a[0]+"@",t=a[1]),t=t.replace(gd,".");const r=t.split("."),s=_d(r,e).join(".");return n+s}function xd(t){const e=[];let a=0;const n=t.length;for(;a<n;){const r=t.charCodeAt(a++);if(r>=55296&&r<=56319&&a<n){const s=t.charCodeAt(a++);(s&64512)==56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),a--)}else e.push(r)}return e}const eo=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Ed=function(t,e,a){let n=0;for(t=a?Xt(t/dd):t>>1,t+=Xt(t/e);t>Ha*on>>1;n+=xr)t=Xt(t/Ha);return Xt(n+(Ha+1)*t/(t+pd))},$d=function(t){const e=[];t=xd(t);const a=t.length;let n=md,r=0,s=hd;for(const h of t)h<128&&e.push(Ba(h));const l=e.length;let o=l;for(l&&e.push(vd);o<a;){let h=Ua;for(const m of t)m>=n&&m<h&&(h=m);const y=o+1;h-n>Xt((Ua-r)/y)&&Xs("overflow"),r+=(h-n)*y,n=h;for(const m of t)if(m<n&&++r>Ua&&Xs("overflow"),m===n){let d=r;for(let v=xr;;v+=xr){const p=v<=s?oi:v>=s+on?on:v-s;if(d<p)break;const c=d-p,_=xr-p;e.push(Ba(eo(p+c%_,0))),d=Xt(c/_)}e.push(Ba(eo(d,0))),s=Ed(r,y,o===l),r=0,++o}++r,++n}return e.join("")},Sd=function(t){return wd(t,function(e){return yd.test(e)?"xn--"+$d(e):e})},Pd={parse:Rr,resolve:ui,resolveObject:ci,format:li,Url:ft};function ft(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var kd=/^([a-z0-9.+-]+:)/i,Od=/:[0-9]*$/,jd=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Dd=["<",">",'"',"`"," ","\r",`
`,"	"],Td=["{","}","|","\\","^","`"].concat(Dd),ln=["'"].concat(Td),to=["%","/","?",";","#"].concat(ln),ro=["/","?","#"],Cd=255,ao=/^[+a-z0-9A-Z_-]{0,63}$/,Rd=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Id={javascript:!0,"javascript:":!0},un={javascript:!0,"javascript:":!0},rr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Rr(t,e,a){if(t&&Ct(t)&&t instanceof ft)return t;var n=new ft;return n.parse(t,e,a),n}ft.prototype.parse=function(t,e,a){return ii(this,t,e,a)};function ii(t,e,a,n){if(!Ft(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),s=r!==-1&&r<e.indexOf("#")?"?":"#",l=e.split(s),o=/\\/g;l[0]=l[0].replace(o,"/"),e=l.join(s);var h=e;if(h=h.trim(),!n&&e.split("#").length===1){var y=jd.exec(h);if(y)return t.path=h,t.href=h,t.pathname=y[1],y[2]?(t.search=y[2],a?t.query=sr(t.search.substr(1)):t.query=t.search.substr(1)):a&&(t.search="",t.query={}),t}var m=kd.exec(h);if(m){m=m[0];var d=m.toLowerCase();t.protocol=d,h=h.substr(m.length)}if(n||m||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var v=h.substr(0,2)==="//";v&&!(m&&un[m])&&(h=h.substr(2),t.slashes=!0)}var p,c,_,w;if(!un[m]&&(v||m&&!rr[m])){var x=-1;for(p=0;p<ro.length;p++)c=h.indexOf(ro[p]),c!==-1&&(x===-1||c<x)&&(x=c);var C,$;for(x===-1?$=h.lastIndexOf("@"):$=h.lastIndexOf("@",x),$!==-1&&(C=h.slice(0,$),h=h.slice($+1),t.auth=decodeURIComponent(C)),x=-1,p=0;p<to.length;p++)c=h.indexOf(to[p]),c!==-1&&(x===-1||c<x)&&(x=c);x===-1&&(x=h.length),t.host=h.slice(0,x),h=h.slice(x),fi(t),t.hostname=t.hostname||"";var R=t.hostname[0]==="["&&t.hostname[t.hostname.length-1]==="]";if(!R){var T=t.hostname.split(/\./);for(p=0,_=T.length;p<_;p++){var I=T[p];if(I&&!I.match(ao)){for(var L="",V=0,z=I.length;V<z;V++)I.charCodeAt(V)>127?L+="x":L+=I[V];if(!L.match(ao)){var H=T.slice(0,p),Z=T.slice(p+1),Q=I.match(Rd);Q&&(H.push(Q[1]),Z.unshift(Q[2])),Z.length&&(h="/"+Z.join(".")+h),t.hostname=H.join(".");break}}}}t.hostname.length>Cd?t.hostname="":t.hostname=t.hostname.toLowerCase(),R||(t.hostname=Sd(t.hostname)),w=t.port?":"+t.port:"";var M=t.hostname||"";t.host=M+w,t.href+=t.host,R&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),h[0]!=="/"&&(h="/"+h))}if(!Id[d])for(p=0,_=ln.length;p<_;p++){var D=ln[p];if(h.indexOf(D)!==-1){var K=encodeURIComponent(D);K===D&&(K=escape(D)),h=h.split(D).join(K)}}var G=h.indexOf("#");G!==-1&&(t.hash=h.substr(G),h=h.slice(0,G));var ne=h.indexOf("?");if(ne!==-1?(t.search=h.substr(ne),t.query=h.substr(ne+1),a&&(t.query=sr(t.query)),h=h.slice(0,ne)):a&&(t.search="",t.query={}),h&&(t.pathname=h),rr[d]&&t.hostname&&!t.pathname&&(t.pathname="/"),t.pathname||t.search){w=t.pathname||"";var X=t.search||"";t.path=w+X}return t.href=ms(t),t}function li(t){return Ft(t)&&(t=ii({},t)),ms(t)}function ms(t){var e=t.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var a=t.protocol||"",n=t.pathname||"",r=t.hash||"",s=!1,l="";t.host?s=e+t.host:t.hostname&&(s=e+(t.hostname.indexOf(":")===-1?t.hostname:"["+this.hostname+"]"),t.port&&(s+=":"+t.port)),t.query&&Ct(t.query)&&Object.keys(t.query).length&&(l=Dr(t.query));var o=t.search||l&&"?"+l||"";return a&&a.substr(-1)!==":"&&(a+=":"),t.slashes||(!a||rr[a])&&s!==!1?(s="//"+(s||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):s||(s=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(h){return encodeURIComponent(h)}),o=o.replace("#","%23"),a+s+n+o+r}ft.prototype.format=function(){return ms(this)};function ui(t,e){return Rr(t,!1,!0).resolve(e)}ft.prototype.resolve=function(t){return this.resolveObject(Rr(t,!1,!0)).format()};function ci(t,e){return t?Rr(t,!1,!0).resolveObject(e):e}ft.prototype.resolveObject=function(t){if(Ft(t)){var e=new ft;e.parse(t,!1,!0),t=e}for(var a=new ft,n=Object.keys(this),r=0;r<n.length;r++){var s=n[r];a[s]=this[s]}if(a.hash=t.hash,t.href==="")return a.href=a.format(),a;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),o=0;o<l.length;o++){var h=l[o];h!=="protocol"&&(a[h]=t[h])}return rr[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}var y;if(t.protocol&&t.protocol!==a.protocol){if(!rr[t.protocol]){for(var m=Object.keys(t),d=0;d<m.length;d++){var v=m[d];a[v]=t[v]}return a.href=a.format(),a}if(a.protocol=t.protocol,!t.host&&!un[t.protocol]){for(y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),a.pathname=y.join("/")}else a.pathname=t.pathname;if(a.search=t.search,a.query=t.query,a.host=t.host||"",a.auth=t.auth,a.hostname=t.hostname||t.host,a.port=t.port,a.pathname||a.search){var p=a.pathname||"",c=a.search||"";a.path=p+c}return a.slashes=a.slashes||t.slashes,a.href=a.format(),a}var _=a.pathname&&a.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=w||_||a.host&&t.pathname,C=x,$=a.pathname&&a.pathname.split("/")||[],R=a.protocol&&!rr[a.protocol];y=t.pathname&&t.pathname.split("/")||[],R&&(a.hostname="",a.port=null,a.host&&($[0]===""?$[0]=a.host:$.unshift(a.host)),a.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),x=x&&(y[0]===""||$[0]===""));var T;if(w)a.host=t.host||t.host===""?t.host:a.host,a.hostname=t.hostname||t.hostname===""?t.hostname:a.hostname,a.search=t.search,a.query=t.query,$=y;else if(y.length)$||($=[]),$.pop(),$=$.concat(y),a.search=t.search,a.query=t.query;else if(!jn(t.search))return R&&(a.hostname=a.host=$.shift(),T=a.host&&a.host.indexOf("@")>0?a.host.split("@"):!1,T&&(a.auth=T.shift(),a.host=a.hostname=T.shift())),a.search=t.search,a.query=t.query,(!jt(a.pathname)||!jt(a.search))&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a;if(!$.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var I=$.slice(-1)[0],L=(a.host||t.host||$.length>1)&&(I==="."||I==="..")||I==="",V=0,z=$.length;z>=0;z--)I=$[z],I==="."?$.splice(z,1):I===".."?($.splice(z,1),V++):V&&($.splice(z,1),V--);if(!x&&!C)for(;V--;V)$.unshift("..");x&&$[0]!==""&&(!$[0]||$[0].charAt(0)!=="/")&&$.unshift(""),L&&$.join("/").substr(-1)!=="/"&&$.push("");var H=$[0]===""||$[0]&&$[0].charAt(0)==="/";return R&&(a.hostname=a.host=H?"":$.length?$.shift():"",T=a.host&&a.host.indexOf("@")>0?a.host.split("@"):!1,T&&(a.auth=T.shift(),a.host=a.hostname=T.shift())),x=x||a.host&&$.length,x&&!H&&$.unshift(""),$.length?a.pathname=$.join("/"):(a.pathname=null,a.path=null),(!jt(a.pathname)||!jt(a.search))&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=t.auth||a.auth,a.slashes=a.slashes||t.slashes,a.href=a.format(),a};ft.prototype.parseHost=function(){return fi(this)};function fi(t){var e=t.host,a=Od.exec(e);a&&(a=a[0],a!==":"&&(t.port=a.substr(1)),e=e.substr(0,e.length-a.length)),e&&(t.hostname=e)}const qd=Object.freeze(Object.defineProperty({__proto__:null,Url:ft,default:Pd,format:li,parse:Rr,resolve:ui,resolveObject:ci},Symbol.toStringTag,{value:"Module"})),Ad=oa(qd);var Ke={},cn={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(a,n){n(e)})(So,function(a){function n(){for(var P=arguments.length,E=Array(P),O=0;O<P;O++)E[O]=arguments[O];if(E.length>1){E[0]=E[0].slice(0,-1);for(var A=E.length-1,q=1;q<A;++q)E[q]=E[q].slice(1,-1);return E[A]=E[A].slice(1),E.join("")}else return E[0]}function r(P){return"(?:"+P+")"}function s(P){return P===void 0?"undefined":P===null?"null":Object.prototype.toString.call(P).split(" ").pop().split("]").shift().toLowerCase()}function l(P){return P.toUpperCase()}function o(P){return P!=null?P instanceof Array?P:typeof P.length!="number"||P.split||P.setInterval||P.call?[P]:Array.prototype.slice.call(P):[]}function h(P,E){var O=P;if(E)for(var A in E)O[A]=E[A];return O}function y(P){var E="[A-Za-z]",O="[0-9]",A=n(O,"[A-Fa-f]"),q=r(r("%[EFef]"+A+"%"+A+A+"%"+A+A)+"|"+r("%[89A-Fa-f]"+A+"%"+A+A)+"|"+r("%"+A+A)),ce="[\\:\\/\\?\\#\\[\\]\\@]",fe="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Se=n(ce,fe),qe=P?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Be=P?"[\\uE000-\\uF8FF]":"[]",Ee=n(E,O,"[\\-\\.\\_\\~]",qe);r(E+n(E,O,"[\\+\\-\\.]")+"*"),r(r(q+"|"+n(Ee,fe,"[\\:]"))+"*");var Ie=r(r("25[0-5]")+"|"+r("2[0-4]"+O)+"|"+r("1"+O+O)+"|"+r("0?[1-9]"+O)+"|0?0?"+O),Me=r(Ie+"\\."+Ie+"\\."+Ie+"\\."+Ie),be=r(A+"{1,4}"),Ae=r(r(be+"\\:"+be)+"|"+Me),Je=r(r(be+"\\:")+"{6}"+Ae),Fe=r("\\:\\:"+r(be+"\\:")+"{5}"+Ae),Rt=r(r(be)+"?\\:\\:"+r(be+"\\:")+"{4}"+Ae),dt=r(r(r(be+"\\:")+"{0,1}"+be)+"?\\:\\:"+r(be+"\\:")+"{3}"+Ae),ht=r(r(r(be+"\\:")+"{0,2}"+be)+"?\\:\\:"+r(be+"\\:")+"{2}"+Ae),Kt=r(r(r(be+"\\:")+"{0,3}"+be)+"?\\:\\:"+be+"\\:"+Ae),Lt=r(r(r(be+"\\:")+"{0,4}"+be)+"?\\:\\:"+Ae),ut=r(r(r(be+"\\:")+"{0,5}"+be)+"?\\:\\:"+be),mt=r(r(r(be+"\\:")+"{0,6}"+be)+"?\\:\\:"),Ut=r([Je,Fe,Rt,dt,ht,Kt,Lt,ut,mt].join("|")),$t=r(r(Ee+"|"+q)+"+");r("[vV]"+A+"+\\."+n(Ee,fe,"[\\:]")+"+"),r(r(q+"|"+n(Ee,fe))+"*");var pr=r(q+"|"+n(Ee,fe,"[\\:\\@]"));return r(r(q+"|"+n(Ee,fe,"[\\@]"))+"+"),r(r(pr+"|"+n("[\\/\\?]",Be))+"*"),{NOT_SCHEME:new RegExp(n("[^]",E,O,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Ee,fe),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Ee,fe),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Ee,fe),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Ee,fe),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Ee,fe,"[\\:\\@\\/\\?]",Be),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Ee,fe,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Ee,fe),"g"),UNRESERVED:new RegExp(Ee,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Ee,Se),"g"),PCT_ENCODED:new RegExp(q,"g"),IPV4ADDRESS:new RegExp("^("+Me+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ut+")"+r(r("\\%25|\\%(?!"+A+"{2})")+"("+$t+")")+"?\\]?$")}}var m=y(!1),d=y(!0),v=function(){function P(E,O){var A=[],q=!0,ce=!1,fe=void 0;try{for(var Se=E[Symbol.iterator](),qe;!(q=(qe=Se.next()).done)&&(A.push(qe.value),!(O&&A.length===O));q=!0);}catch(Be){ce=!0,fe=Be}finally{try{!q&&Se.return&&Se.return()}finally{if(ce)throw fe}}return A}return function(E,O){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return P(E,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(P){if(Array.isArray(P)){for(var E=0,O=Array(P.length);E<P.length;E++)O[E]=P[E];return O}else return Array.from(P)},c=2147483647,_=36,w=1,x=26,C=38,$=700,R=72,T=128,I="-",L=/^xn--/,V=/[^\0-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z=_-w,Q=Math.floor,M=String.fromCharCode;function D(P){throw new RangeError(H[P])}function K(P,E){for(var O=[],A=P.length;A--;)O[A]=E(P[A]);return O}function G(P,E){var O=P.split("@"),A="";O.length>1&&(A=O[0]+"@",P=O[1]),P=P.replace(z,".");var q=P.split("."),ce=K(q,E).join(".");return A+ce}function ne(P){for(var E=[],O=0,A=P.length;O<A;){var q=P.charCodeAt(O++);if(q>=55296&&q<=56319&&O<A){var ce=P.charCodeAt(O++);(ce&64512)==56320?E.push(((q&1023)<<10)+(ce&1023)+65536):(E.push(q),O--)}else E.push(q)}return E}var X=function(E){return String.fromCodePoint.apply(String,p(E))},le=function(E){return E-48<10?E-22:E-65<26?E-65:E-97<26?E-97:_},te=function(E,O){return E+22+75*(E<26)-((O!=0)<<5)},ue=function(E,O,A){var q=0;for(E=A?Q(E/$):E>>1,E+=Q(E/O);E>Z*x>>1;q+=_)E=Q(E/Z);return Q(q+(Z+1)*E/(E+C))},ge=function(E){var O=[],A=E.length,q=0,ce=T,fe=R,Se=E.lastIndexOf(I);Se<0&&(Se=0);for(var qe=0;qe<Se;++qe)E.charCodeAt(qe)>=128&&D("not-basic"),O.push(E.charCodeAt(qe));for(var Be=Se>0?Se+1:0;Be<A;){for(var Ee=q,Ie=1,Me=_;;Me+=_){Be>=A&&D("invalid-input");var be=le(E.charCodeAt(Be++));(be>=_||be>Q((c-q)/Ie))&&D("overflow"),q+=be*Ie;var Ae=Me<=fe?w:Me>=fe+x?x:Me-fe;if(be<Ae)break;var Je=_-Ae;Ie>Q(c/Je)&&D("overflow"),Ie*=Je}var Fe=O.length+1;fe=ue(q-Ee,Fe,Ee==0),Q(q/Fe)>c-ce&&D("overflow"),ce+=Q(q/Fe),q%=Fe,O.splice(q++,0,ce)}return String.fromCodePoint.apply(String,O)},Ce=function(E){var O=[];E=ne(E);var A=E.length,q=T,ce=0,fe=R,Se=!0,qe=!1,Be=void 0;try{for(var Ee=E[Symbol.iterator](),Ie;!(Se=(Ie=Ee.next()).done);Se=!0){var Me=Ie.value;Me<128&&O.push(M(Me))}}catch(dr){qe=!0,Be=dr}finally{try{!Se&&Ee.return&&Ee.return()}finally{if(qe)throw Be}}var be=O.length,Ae=be;for(be&&O.push(I);Ae<A;){var Je=c,Fe=!0,Rt=!1,dt=void 0;try{for(var ht=E[Symbol.iterator](),Kt;!(Fe=(Kt=ht.next()).done);Fe=!0){var Lt=Kt.value;Lt>=q&&Lt<Je&&(Je=Lt)}}catch(dr){Rt=!0,dt=dr}finally{try{!Fe&&ht.return&&ht.return()}finally{if(Rt)throw dt}}var ut=Ae+1;Je-q>Q((c-ce)/ut)&&D("overflow"),ce+=(Je-q)*ut,q=Je;var mt=!0,Ut=!1,$t=void 0;try{for(var pr=E[Symbol.iterator](),Ts;!(mt=(Ts=pr.next()).done);mt=!0){var Cs=Ts.value;if(Cs<q&&++ce>c&&D("overflow"),Cs==q){for(var qr=ce,Ar=_;;Ar+=_){var Fr=Ar<=fe?w:Ar>=fe+x?x:Ar-fe;if(qr<Fr)break;var Rs=qr-Fr,Is=_-Fr;O.push(M(te(Fr+Rs%Is,0))),qr=Q(Rs/Is)}O.push(M(te(qr,0))),fe=ue(ce,ut,Ae==be),ce=0,++Ae}}}catch(dr){Ut=!0,$t=dr}finally{try{!mt&&pr.return&&pr.return()}finally{if(Ut)throw $t}}++ce,++q}return O.join("")},we=function(E){return G(E,function(O){return L.test(O)?ge(O.slice(4).toLowerCase()):O})},pe=function(E){return G(E,function(O){return V.test(O)?"xn--"+Ce(O):O})},W={version:"2.1.0",ucs2:{decode:ne,encode:X},decode:ge,encode:Ce,toASCII:pe,toUnicode:we},J={};function de(P){var E=P.charCodeAt(0),O=void 0;return E<16?O="%0"+E.toString(16).toUpperCase():E<128?O="%"+E.toString(16).toUpperCase():E<2048?O="%"+(E>>6|192).toString(16).toUpperCase()+"%"+(E&63|128).toString(16).toUpperCase():O="%"+(E>>12|224).toString(16).toUpperCase()+"%"+(E>>6&63|128).toString(16).toUpperCase()+"%"+(E&63|128).toString(16).toUpperCase(),O}function xe(P){for(var E="",O=0,A=P.length;O<A;){var q=parseInt(P.substr(O+1,2),16);if(q<128)E+=String.fromCharCode(q),O+=3;else if(q>=194&&q<224){if(A-O>=6){var ce=parseInt(P.substr(O+4,2),16);E+=String.fromCharCode((q&31)<<6|ce&63)}else E+=P.substr(O,6);O+=6}else if(q>=224){if(A-O>=9){var fe=parseInt(P.substr(O+4,2),16),Se=parseInt(P.substr(O+7,2),16);E+=String.fromCharCode((q&15)<<12|(fe&63)<<6|Se&63)}else E+=P.substr(O,9);O+=9}else E+=P.substr(O,3),O+=3}return E}function je(P,E){function O(A){var q=xe(A);return q.match(E.UNRESERVED)?q:A}return P.scheme&&(P.scheme=String(P.scheme).replace(E.PCT_ENCODED,O).toLowerCase().replace(E.NOT_SCHEME,"")),P.userinfo!==void 0&&(P.userinfo=String(P.userinfo).replace(E.PCT_ENCODED,O).replace(E.NOT_USERINFO,de).replace(E.PCT_ENCODED,l)),P.host!==void 0&&(P.host=String(P.host).replace(E.PCT_ENCODED,O).toLowerCase().replace(E.NOT_HOST,de).replace(E.PCT_ENCODED,l)),P.path!==void 0&&(P.path=String(P.path).replace(E.PCT_ENCODED,O).replace(P.scheme?E.NOT_PATH:E.NOT_PATH_NOSCHEME,de).replace(E.PCT_ENCODED,l)),P.query!==void 0&&(P.query=String(P.query).replace(E.PCT_ENCODED,O).replace(E.NOT_QUERY,de).replace(E.PCT_ENCODED,l)),P.fragment!==void 0&&(P.fragment=String(P.fragment).replace(E.PCT_ENCODED,O).replace(E.NOT_FRAGMENT,de).replace(E.PCT_ENCODED,l)),P}function $e(P){return P.replace(/^0*(.*)/,"$1")||"0"}function De(P,E){var O=P.match(E.IPV4ADDRESS)||[],A=v(O,2),q=A[1];return q?q.split(".").map($e).join("."):P}function ke(P,E){var O=P.match(E.IPV6ADDRESS)||[],A=v(O,3),q=A[1],ce=A[2];if(q){for(var fe=q.toLowerCase().split("::").reverse(),Se=v(fe,2),qe=Se[0],Be=Se[1],Ee=Be?Be.split(":").map($e):[],Ie=qe.split(":").map($e),Me=E.IPV4ADDRESS.test(Ie[Ie.length-1]),be=Me?7:8,Ae=Ie.length-be,Je=Array(be),Fe=0;Fe<be;++Fe)Je[Fe]=Ee[Fe]||Ie[Ae+Fe]||"";Me&&(Je[be-1]=De(Je[be-1],E));var Rt=Je.reduce(function(ut,mt,Ut){if(!mt||mt==="0"){var $t=ut[ut.length-1];$t&&$t.index+$t.length===Ut?$t.length++:ut.push({index:Ut,length:1})}return ut},[]),dt=Rt.sort(function(ut,mt){return mt.length-ut.length})[0],ht=void 0;if(dt&&dt.length>1){var Kt=Je.slice(0,dt.index),Lt=Je.slice(dt.index+dt.length);ht=Kt.join(":")+"::"+Lt.join(":")}else ht=Je.join(":");return ce&&(ht+="%"+ce),ht}else return P}var Te=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,at="".match(/(){0}/)[1]===void 0;function b(P){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O={},A=E.iri!==!1?d:m;E.reference==="suffix"&&(P=(E.scheme?E.scheme+":":"")+"//"+P);var q=P.match(Te);if(q){at?(O.scheme=q[1],O.userinfo=q[3],O.host=q[4],O.port=parseInt(q[5],10),O.path=q[6]||"",O.query=q[7],O.fragment=q[8],isNaN(O.port)&&(O.port=q[5])):(O.scheme=q[1]||void 0,O.userinfo=P.indexOf("@")!==-1?q[3]:void 0,O.host=P.indexOf("//")!==-1?q[4]:void 0,O.port=parseInt(q[5],10),O.path=q[6]||"",O.query=P.indexOf("?")!==-1?q[7]:void 0,O.fragment=P.indexOf("#")!==-1?q[8]:void 0,isNaN(O.port)&&(O.port=P.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?q[4]:void 0)),O.host&&(O.host=ke(De(O.host,A),A)),O.scheme===void 0&&O.userinfo===void 0&&O.host===void 0&&O.port===void 0&&!O.path&&O.query===void 0?O.reference="same-document":O.scheme===void 0?O.reference="relative":O.fragment===void 0?O.reference="absolute":O.reference="uri",E.reference&&E.reference!=="suffix"&&E.reference!==O.reference&&(O.error=O.error||"URI is not a "+E.reference+" reference.");var ce=J[(E.scheme||O.scheme||"").toLowerCase()];if(!E.unicodeSupport&&(!ce||!ce.unicodeSupport)){if(O.host&&(E.domainHost||ce&&ce.domainHost))try{O.host=W.toASCII(O.host.replace(A.PCT_ENCODED,xe).toLowerCase())}catch(fe){O.error=O.error||"Host's domain name can not be converted to ASCII via punycode: "+fe}je(O,m)}else je(O,A);ce&&ce.parse&&ce.parse(O,E)}else O.error=O.error||"URI can not be parsed.";return O}function u(P,E){var O=E.iri!==!1?d:m,A=[];return P.userinfo!==void 0&&(A.push(P.userinfo),A.push("@")),P.host!==void 0&&A.push(ke(De(String(P.host),O),O).replace(O.IPV6ADDRESS,function(q,ce,fe){return"["+ce+(fe?"%25"+fe:"")+"]"})),(typeof P.port=="number"||typeof P.port=="string")&&(A.push(":"),A.push(String(P.port))),A.length?A.join(""):void 0}var f=/^\.\.?\//,i=/^\/\.(\/|$)/,g=/^\/\.\.(\/|$)/,k=/^\/?(?:.|\n)*?(?=\/|$)/;function j(P){for(var E=[];P.length;)if(P.match(f))P=P.replace(f,"");else if(P.match(i))P=P.replace(i,"/");else if(P.match(g))P=P.replace(g,"/"),E.pop();else if(P==="."||P==="..")P="";else{var O=P.match(k);if(O){var A=O[0];P=P.slice(A.length),E.push(A)}else throw new Error("Unexpected dot segment condition")}return E.join("")}function Y(P){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=E.iri?d:m,A=[],q=J[(E.scheme||P.scheme||"").toLowerCase()];if(q&&q.serialize&&q.serialize(P,E),P.host&&!O.IPV6ADDRESS.test(P.host)){if(E.domainHost||q&&q.domainHost)try{P.host=E.iri?W.toUnicode(P.host):W.toASCII(P.host.replace(O.PCT_ENCODED,xe).toLowerCase())}catch(Se){P.error=P.error||"Host's domain name can not be converted to "+(E.iri?"Unicode":"ASCII")+" via punycode: "+Se}}je(P,O),E.reference!=="suffix"&&P.scheme&&(A.push(P.scheme),A.push(":"));var ce=u(P,E);if(ce!==void 0&&(E.reference!=="suffix"&&A.push("//"),A.push(ce),P.path&&P.path.charAt(0)!=="/"&&A.push("/")),P.path!==void 0){var fe=P.path;!E.absolutePath&&(!q||!q.absolutePath)&&(fe=j(fe)),ce===void 0&&(fe=fe.replace(/^\/\//,"/%2F")),A.push(fe)}return P.query!==void 0&&(A.push("?"),A.push(P.query)),P.fragment!==void 0&&(A.push("#"),A.push(P.fragment)),A.join("")}function ee(P,E){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=arguments[3],q={};return A||(P=b(Y(P,O),O),E=b(Y(E,O),O)),O=O||{},!O.tolerant&&E.scheme?(q.scheme=E.scheme,q.userinfo=E.userinfo,q.host=E.host,q.port=E.port,q.path=j(E.path||""),q.query=E.query):(E.userinfo!==void 0||E.host!==void 0||E.port!==void 0?(q.userinfo=E.userinfo,q.host=E.host,q.port=E.port,q.path=j(E.path||""),q.query=E.query):(E.path?(E.path.charAt(0)==="/"?q.path=j(E.path):((P.userinfo!==void 0||P.host!==void 0||P.port!==void 0)&&!P.path?q.path="/"+E.path:P.path?q.path=P.path.slice(0,P.path.lastIndexOf("/")+1)+E.path:q.path=E.path,q.path=j(q.path)),q.query=E.query):(q.path=P.path,E.query!==void 0?q.query=E.query:q.query=P.query),q.userinfo=P.userinfo,q.host=P.host,q.port=P.port),q.scheme=P.scheme),q.fragment=E.fragment,q}function ie(P,E,O){var A=h({scheme:"null"},O);return Y(ee(b(P,A),b(E,A),A,!0),A)}function oe(P,E){return typeof P=="string"?P=Y(b(P,E),E):s(P)==="object"&&(P=b(Y(P,E),E)),P}function me(P,E,O){return typeof P=="string"?P=Y(b(P,O),O):s(P)==="object"&&(P=Y(P,O)),typeof E=="string"?E=Y(b(E,O),O):s(E)==="object"&&(E=Y(E,O)),P===E}function He(P,E){return P&&P.toString().replace(!E||!E.iri?m.ESCAPE:d.ESCAPE,de)}function Oe(P,E){return P&&P.toString().replace(!E||!E.iri?m.PCT_ENCODED:d.PCT_ENCODED,xe)}var tt={scheme:"http",domainHost:!0,parse:function(E,O){return E.host||(E.error=E.error||"HTTP URIs must have a host."),E},serialize:function(E,O){var A=String(E.scheme).toLowerCase()==="https";return(E.port===(A?443:80)||E.port==="")&&(E.port=void 0),E.path||(E.path="/"),E}},pt={scheme:"https",domainHost:tt.domainHost,parse:tt.parse,serialize:tt.serialize};function Ye(P){return typeof P.secure=="boolean"?P.secure:String(P.scheme).toLowerCase()==="wss"}var it={scheme:"ws",domainHost:!0,parse:function(E,O){var A=E;return A.secure=Ye(A),A.resourceName=(A.path||"/")+(A.query?"?"+A.query:""),A.path=void 0,A.query=void 0,A},serialize:function(E,O){if((E.port===(Ye(E)?443:80)||E.port==="")&&(E.port=void 0),typeof E.secure=="boolean"&&(E.scheme=E.secure?"wss":"ws",E.secure=void 0),E.resourceName){var A=E.resourceName.split("?"),q=v(A,2),ce=q[0],fe=q[1];E.path=ce&&ce!=="/"?ce:void 0,E.query=fe,E.resourceName=void 0}return E.fragment=void 0,E}},ae={scheme:"wss",domainHost:it.domainHost,parse:it.parse,serialize:it.serialize},nt={},se="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",lt="[0-9A-Fa-f]",Qe=r(r("%[EFef]"+lt+"%"+lt+lt+"%"+lt+lt)+"|"+r("%[89A-Fa-f]"+lt+"%"+lt+lt)+"|"+r("%"+lt+lt)),Bi="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Mi="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",zi=n(Mi,'[\\"\\\\]'),Vi="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ji=new RegExp(se,"g"),Qt=new RegExp(Qe,"g"),Qi=new RegExp(n("[^]",Bi,"[\\.]",'[\\"]',zi),"g"),ks=new RegExp(n("[^]",se,Vi),"g"),Ki=ks;function _a(P){var E=xe(P);return E.match(Ji)?E:P}var Os={scheme:"mailto",parse:function(E,O){var A=E,q=A.to=A.path?A.path.split(","):[];if(A.path=void 0,A.query){for(var ce=!1,fe={},Se=A.query.split("&"),qe=0,Be=Se.length;qe<Be;++qe){var Ee=Se[qe].split("=");switch(Ee[0]){case"to":for(var Ie=Ee[1].split(","),Me=0,be=Ie.length;Me<be;++Me)q.push(Ie[Me]);break;case"subject":A.subject=Oe(Ee[1],O);break;case"body":A.body=Oe(Ee[1],O);break;default:ce=!0,fe[Oe(Ee[0],O)]=Oe(Ee[1],O);break}}ce&&(A.headers=fe)}A.query=void 0;for(var Ae=0,Je=q.length;Ae<Je;++Ae){var Fe=q[Ae].split("@");if(Fe[0]=Oe(Fe[0]),O.unicodeSupport)Fe[1]=Oe(Fe[1],O).toLowerCase();else try{Fe[1]=W.toASCII(Oe(Fe[1],O).toLowerCase())}catch(Rt){A.error=A.error||"Email address's domain name can not be converted to ASCII via punycode: "+Rt}q[Ae]=Fe.join("@")}return A},serialize:function(E,O){var A=E,q=o(E.to);if(q){for(var ce=0,fe=q.length;ce<fe;++ce){var Se=String(q[ce]),qe=Se.lastIndexOf("@"),Be=Se.slice(0,qe).replace(Qt,_a).replace(Qt,l).replace(Qi,de),Ee=Se.slice(qe+1);try{Ee=O.iri?W.toUnicode(Ee):W.toASCII(Oe(Ee,O).toLowerCase())}catch(Ae){A.error=A.error||"Email address's domain name can not be converted to "+(O.iri?"Unicode":"ASCII")+" via punycode: "+Ae}q[ce]=Be+"@"+Ee}A.path=q.join(",")}var Ie=E.headers=E.headers||{};E.subject&&(Ie.subject=E.subject),E.body&&(Ie.body=E.body);var Me=[];for(var be in Ie)Ie[be]!==nt[be]&&Me.push(be.replace(Qt,_a).replace(Qt,l).replace(ks,de)+"="+Ie[be].replace(Qt,_a).replace(Qt,l).replace(Ki,de));return Me.length&&(A.query=Me.join("&")),A}},Wi=/^([^\:]+)\:(.*)/,js={scheme:"urn",parse:function(E,O){var A=E.path&&E.path.match(Wi),q=E;if(A){var ce=O.scheme||q.scheme||"urn",fe=A[1].toLowerCase(),Se=A[2],qe=ce+":"+(O.nid||fe),Be=J[qe];q.nid=fe,q.nss=Se,q.path=void 0,Be&&(q=Be.parse(q,O))}else q.error=q.error||"URN can not be parsed.";return q},serialize:function(E,O){var A=O.scheme||E.scheme||"urn",q=E.nid,ce=A+":"+(O.nid||q),fe=J[ce];fe&&(E=fe.serialize(E,O));var Se=E,qe=E.nss;return Se.path=(q||O.nid)+":"+qe,Se}},Gi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ds={scheme:"urn:uuid",parse:function(E,O){var A=E;return A.uuid=A.nss,A.nss=void 0,!O.tolerant&&(!A.uuid||!A.uuid.match(Gi))&&(A.error=A.error||"UUID is not valid."),A},serialize:function(E,O){var A=E;return A.nss=(E.uuid||"").toLowerCase(),A}};J[tt.scheme]=tt,J[pt.scheme]=pt,J[it.scheme]=it,J[ae.scheme]=ae,J[Os.scheme]=Os,J[js.scheme]=js,J[Ds.scheme]=Ds,a.SCHEMES=J,a.pctEncChar=de,a.pctDecChars=xe,a.parse=b,a.removeDotSegments=j,a.serialize=Y,a.resolveComponents=ee,a.resolve=ie,a.normalize=oe,a.equal=me,a.escapeComponent=He,a.unescapeComponent=Oe,Object.defineProperty(a,"__esModule",{value:!0})})})(cn,cn.exports);var Fd=cn.exports,vs=function t(e,a){if(e===a)return!0;if(e&&a&&typeof e=="object"&&typeof a=="object"){if(e.constructor!==a.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=a.length)return!1;for(r=n;r--!==0;)if(!t(e[r],a[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(a).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(a,s[r]))return!1;for(r=n;r--!==0;){var l=s[r];if(!t(e[l],a[l]))return!1}return!0}return e!==e&&a!==a},Nd=function(e){for(var a=0,n=e.length,r=0,s;r<n;)a++,s=e.charCodeAt(r++),s>=55296&&s<=56319&&r<n&&(s=e.charCodeAt(r),(s&64512)==56320&&r++);return a},fr={copy:Ld,checkDataType:fn,checkDataTypes:Ud,coerceToTypes:Hd,toHash:ys,getProperty:gs,escapeQuotes:bs,equal:vs,ucs2length:Nd,varOccurences:zd,varReplace:Vd,schemaHasRules:Jd,schemaHasRulesExcept:Qd,schemaUnknownRules:Kd,toQuotedString:pn,getPathExpr:Wd,getPath:Gd,getData:Xd,unescapeFragment:eh,unescapeJsonPointer:ws,escapeFragment:th,escapeJsonPointer:_s};function Ld(t,e){e=e||{};for(var a in t)e[a]=t[a];return e}function fn(t,e,a,n){var r=n?" !== ":" === ",s=n?" || ":" && ",l=n?"!":"",o=n?"":"!";switch(t){case"null":return e+r+"null";case"array":return l+"Array.isArray("+e+")";case"object":return"("+l+e+s+"typeof "+e+r+'"object"'+s+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+s+o+"("+e+" % 1)"+s+e+r+e+(a?s+l+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+t+'"'+(a?s+l+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+t+'"'}}function Ud(t,e,a){switch(t.length){case 1:return fn(t[0],e,a,!0);default:var n="",r=ys(t);r.array&&r.object&&(n=r.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var s in r)n+=(n?" && ":"")+fn(s,e,a,!0);return n}}var no=ys(["string","number","integer","boolean","null"]);function Hd(t,e){if(Array.isArray(e)){for(var a=[],n=0;n<e.length;n++){var r=e[n];(no[r]||t==="array"&&r==="array")&&(a[a.length]=r)}if(a.length)return a}else{if(no[e])return[e];if(t==="array"&&e==="array")return["array"]}}function ys(t){for(var e={},a=0;a<t.length;a++)e[t[a]]=!0;return e}var Bd=/^[a-z$_][a-z$_0-9]*$/i,Md=/'|\\/g;function gs(t){return typeof t=="number"?"["+t+"]":Bd.test(t)?"."+t:"['"+bs(t)+"']"}function bs(t){return t.replace(Md,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function zd(t,e){e+="[^0-9]";var a=t.match(new RegExp(e,"g"));return a?a.length:0}function Vd(t,e,a){return e+="([^0-9])",a=a.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),a+"$1")}function Jd(t,e){if(typeof t=="boolean")return!t;for(var a in t)if(e[a])return!0}function Qd(t,e,a){if(typeof t=="boolean")return!t&&a!="not";for(var n in t)if(n!=a&&e[n])return!0}function Kd(t,e){if(typeof t!="boolean"){for(var a in t)if(!e[a])return a}}function pn(t){return"'"+bs(t)+"'"}function Wd(t,e,a,n){var r=a?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return pi(t,r)}function Gd(t,e,a){var n=pn(a?"/"+_s(e):gs(e));return pi(t,n)}var Yd=/^\/(?:[^~]|~0|~1)*$/,Zd=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xd(t,e,a){var n,r,s,l;if(t==="")return"rootData";if(t[0]=="/"){if(!Yd.test(t))throw new Error("Invalid JSON-pointer: "+t);r=t,s="rootData"}else{if(l=t.match(Zd),!l)throw new Error("Invalid JSON-pointer: "+t);if(n=+l[1],r=l[2],r=="#"){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return a[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(s="data"+(e-n||""),!r)return s}for(var o=s,h=r.split("/"),y=0;y<h.length;y++){var m=h[y];m&&(s+=gs(ws(m)),o+=" && "+s)}return o}function pi(t,e){return t=='""'?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function eh(t){return ws(decodeURIComponent(t))}function th(t){return encodeURIComponent(_s(t))}function _s(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function ws(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}var rh=fr,di=ah;function ah(t){rh.copy(t,this)}var hi={exports:{}},It=hi.exports=function(t,e,a){typeof e=="function"&&(a=e,e={}),a=e.cb||a;var n=typeof a=="function"?a:a.pre||function(){},r=a.post||function(){};Qr(e,n,r,t,"",t)};It.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};It.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};It.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};It.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Qr(t,e,a,n,r,s,l,o,h,y){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,r,s,l,o,h,y);for(var m in n){var d=n[m];if(Array.isArray(d)){if(m in It.arrayKeywords)for(var v=0;v<d.length;v++)Qr(t,e,a,d[v],r+"/"+m+"/"+v,s,r,m,n,v)}else if(m in It.propsKeywords){if(d&&typeof d=="object")for(var p in d)Qr(t,e,a,d[p],r+"/"+m+"/"+nh(p),s,r,m,n,p)}else(m in It.keywords||t.allKeys&&!(m in It.skipKeywords))&&Qr(t,e,a,d,r+"/"+m,s,r,m,n)}a(n,r,s,l,o,h,y)}}function nh(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var sh=hi.exports,Ir=Fd,so=vs,da=fr,Gr=di,oh=sh,xs=Nt;Nt.normalizeId=qt;Nt.fullPath=Yr;Nt.url=Zr;Nt.ids=fh;Nt.inlineRef=dn;Nt.schema=ha;function Nt(t,e,a){var n=this._refs[a];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return Nt.call(this,t,e,n);if(n=n||this._schemas[a],n instanceof Gr)return dn(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var r=ha.call(this,e,a),s,l,o;return r&&(s=r.schema,e=r.root,o=r.baseId),s instanceof Gr?l=s.validate||t.call(this,s.schema,e,void 0,o):s!==void 0&&(l=dn(s,this._opts.inlineRefs)?s:t.call(this,s,e,void 0,o)),l}function ha(t,e){var a=Ir.parse(e),n=vi(a),r=Yr(this._getId(t.schema));if(Object.keys(t.schema).length===0||n!==r){var s=qt(n),l=this._refs[s];if(typeof l=="string")return ih.call(this,t,l,a);if(l instanceof Gr)l.validate||this._compile(l),t=l;else if(l=this._schemas[s],l instanceof Gr){if(l.validate||this._compile(l),s==qt(e))return{schema:l,root:t,baseId:r};t=l}else return;if(!t.schema)return;r=Yr(this._getId(t.schema))}return mi.call(this,a,r,t.schema,t)}function ih(t,e,a){var n=ha.call(this,t,e);if(n){var r=n.schema,s=n.baseId;t=n.root;var l=this._getId(r);return l&&(s=Zr(s,l)),mi.call(this,a,s,r,t)}}var lh=da.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function mi(t,e,a,n){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var r=t.fragment.split("/"),s=1;s<r.length;s++){var l=r[s];if(l){if(l=da.unescapeFragment(l),a=a[l],a===void 0)break;var o;if(!lh[l]&&(o=this._getId(a),o&&(e=Zr(e,o)),a.$ref)){var h=Zr(e,a.$ref),y=ha.call(this,n,h);y&&(a=y.schema,n=y.root,e=y.baseId)}}}if(a!==void 0&&a!==n.schema)return{schema:a,root:n,baseId:e}}}var uh=da.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function dn(t,e){if(e===!1)return!1;if(e===void 0||e===!0)return hn(t);if(e)return mn(t)<=e}function hn(t){var e;if(Array.isArray(t)){for(var a=0;a<t.length;a++)if(e=t[a],typeof e=="object"&&!hn(e))return!1}else for(var n in t)if(n=="$ref"||(e=t[n],typeof e=="object"&&!hn(e)))return!1;return!0}function mn(t){var e=0,a;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(a=t[n],typeof a=="object"&&(e+=mn(a)),e==1/0)return 1/0}else for(var r in t){if(r=="$ref")return 1/0;if(uh[r])e++;else if(a=t[r],typeof a=="object"&&(e+=mn(a)+1),e==1/0)return 1/0}return e}function Yr(t,e){e!==!1&&(t=qt(t));var a=Ir.parse(t);return vi(a)}function vi(t){return Ir.serialize(t).split("#")[0]+"#"}var ch=/#\/?$/;function qt(t){return t?t.replace(ch,""):""}function Zr(t,e){return e=qt(e),Ir.resolve(t,e)}function fh(t){var e=qt(this._getId(t)),a={"":e},n={"":Yr(e,!1)},r={},s=this;return oh(t,{allKeys:!0},function(l,o,h,y,m,d,v){if(o!==""){var p=s._getId(l),c=a[y],_=n[y]+"/"+m;if(v!==void 0&&(_+="/"+(typeof v=="number"?v:da.escapeFragment(v))),typeof p=="string"){p=c=qt(c?Ir.resolve(c,p):p);var w=s._refs[p];if(typeof w=="string"&&(w=s._refs[w]),w&&w.schema){if(!so(l,w.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=qt(_))if(p[0]=="#"){if(r[p]&&!so(l,r[p]))throw new Error('id "'+p+'" resolves to more than one schema');r[p]=l}else s._refs[p]=_}a[o]=c,n[o]=_}}),r}var Ma=xs,Es={Validation:oo(ph),MissingRef:oo($s)};function ph(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}$s.message=function(t,e){return"can't resolve reference "+e+" from id "+t};function $s(t,e,a){this.message=a||$s.message(t,e),this.missingRef=Ma.url(t,e),this.missingSchema=Ma.normalizeId(Ma.fullPath(this.missingRef))}function oo(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var yi=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var a=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(s){return function(l){return function(o,h){var y={key:o,value:l[o]},m={key:h,value:l[h]};return s(y,m)}}}(e.cmp),r=[];return function s(l){if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l!==void 0){if(typeof l=="number")return isFinite(l)?""+l:"null";if(typeof l!="object")return JSON.stringify(l);var o,h;if(Array.isArray(l)){for(h="[",o=0;o<l.length;o++)o&&(h+=","),h+=s(l[o])||"null";return h+"]"}if(l===null)return"null";if(r.indexOf(l)!==-1){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var y=r.push(l)-1,m=Object.keys(l).sort(n&&n(l));for(h="",o=0;o<m.length;o++){var d=m[o],v=s(l[d]);v&&(h&&(h+=","),h+=JSON.stringify(d)+":"+v)}return r.splice(y,1),"{"+h+"}"}}(t)},gi=function(e,a,n){var r="",s=e.schema.$async===!0,l=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var h=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(h){var y="unknown keyword: "+h;if(e.opts.strictKeywords==="log")e.logger.warn(y);else throw new Error(y)}}if(e.isTop&&(r+=" var validate = ",s&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(l||e.schema.$ref)){var a="false schema",m=e.level,d=e.dataLevel,v=e.schema[a],p=e.schemaPath+e.util.getProperty(a),c=e.errSchemaPath+"/"+a,T=!e.opts.allErrors,V,_="data"+(d||""),R="valid"+m;if(e.schema===!1){e.isTop?T=!0:r+=" var "+R+" = false; ";var w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(V||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),r+=" } "):r+=" {} ";var x=r;r=w.pop(),!e.compositeRule&&T?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?s?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+R+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var C=e.isTop,m=e.level=0,d=e.dataLevel=0,_="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var $="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn($);else throw new Error($)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var m=e.level,d=e.dataLevel,_="data"+(d||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),s&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+m+" = errors;"}var R="valid"+m,T=!e.opts.allErrors,I="",L="",V,z=e.schema.type,H=Array.isArray(z);if(z&&e.opts.nullable&&e.schema.nullable===!0&&(H?z.indexOf("null")==-1&&(z=z.concat("null")):z!="null"&&(z=[z,"null"],H=!0)),H&&z.length==1&&(z=z[0],H=!1),e.schema.$ref&&l){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(l=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),z){if(e.opts.coerceTypes)var Z=e.util.coerceToTypes(e.opts.coerceTypes,z);var Q=e.RULES.types[z];if(Z||H||Q===!0||Q&&!i(Q)){var p=e.schemaPath+".type",c=e.errSchemaPath+"/type",p=e.schemaPath+".type",c=e.errSchemaPath+"/type",M=H?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[M](z,_,e.opts.strictNumbers,!0)+") { ",Z){var D="dataType"+m,K="coerced"+m;r+=" var "+D+" = typeof "+_+"; var "+K+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+D+" == 'object' && Array.isArray("+_+") && "+_+".length == 1) { "+_+" = "+_+"[0]; "+D+" = typeof "+_+"; if ("+e.util.checkDataType(e.schema.type,_,e.opts.strictNumbers)+") "+K+" = "+_+"; } "),r+=" if ("+K+" !== undefined) ; ";var G=Z;if(G)for(var ne,X=-1,le=G.length-1;X<le;)ne=G[X+=1],ne=="string"?r+=" else if ("+D+" == 'number' || "+D+" == 'boolean') "+K+" = '' + "+_+"; else if ("+_+" === null) "+K+" = ''; ":ne=="number"||ne=="integer"?(r+=" else if ("+D+" == 'boolean' || "+_+" === null || ("+D+" == 'string' && "+_+" && "+_+" == +"+_+" ",ne=="integer"&&(r+=" && !("+_+" % 1)"),r+=")) "+K+" = +"+_+"; "):ne=="boolean"?r+=" else if ("+_+" === 'false' || "+_+" === 0 || "+_+" === null) "+K+" = false; else if ("+_+" === 'true' || "+_+" === 1) "+K+" = true; ":ne=="null"?r+=" else if ("+_+" === '' || "+_+" === 0 || "+_+" === false) "+K+" = null; ":e.opts.coerceTypes=="array"&&ne=="array"&&(r+=" else if ("+D+" == 'string' || "+D+" == 'number' || "+D+" == 'boolean' || "+_+" == null) "+K+" = ["+_+"]; ");r+=" else {   ";var w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(V||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",H?r+=""+z.join(","):r+=""+z,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",H?r+=""+z.join(","):r+=""+z,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),r+=" } "):r+=" {} ";var x=r;r=w.pop(),!e.compositeRule&&T?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+K+" !== undefined) {  ";var te=d?"data"+(d-1||""):"parentData",ue=d?e.dataPathArr[d]:"parentDataProperty";r+=" "+_+" = "+K+"; ",d||(r+="if ("+te+" !== undefined)"),r+=" "+te+"["+ue+"] = "+K+"; } "}else{var w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(V||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",H?r+=""+z.join(","):r+=""+z,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",H?r+=""+z.join(","):r+=""+z,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),r+=" } "):r+=" {} ";var x=r;r=w.pop(),!e.compositeRule&&T?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!l)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",T&&(r+=" } if (errors === ",C?r+="0":r+="errs_"+m,r+=") { ",L+="}");else{var ge=e.RULES;if(ge){for(var Q,Ce=-1,we=ge.length-1;Ce<we;)if(Q=ge[Ce+=1],i(Q)){if(Q.type&&(r+=" if ("+e.util.checkDataType(Q.type,_,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(Q.type=="object"&&e.schema.properties){var v=e.schema.properties,pe=Object.keys(v),W=pe;if(W)for(var J,de=-1,xe=W.length-1;de<xe;){J=W[de+=1];var je=v[J];if(je.default!==void 0){var $e=_+e.util.getProperty(J);if(e.compositeRule){if(e.opts.strictDefaults){var $="default is ignored for: "+$e;if(e.opts.strictDefaults==="log")e.logger.warn($);else throw new Error($)}}else r+=" if ("+$e+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+$e+" === null || "+$e+" === '' "),r+=" ) "+$e+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(je.default)+" ":r+=" "+JSON.stringify(je.default)+" ",r+="; "}}}else if(Q.type=="array"&&Array.isArray(e.schema.items)){var De=e.schema.items;if(De){for(var je,X=-1,ke=De.length-1;X<ke;)if(je=De[X+=1],je.default!==void 0){var $e=_+"["+X+"]";if(e.compositeRule){if(e.opts.strictDefaults){var $="default is ignored for: "+$e;if(e.opts.strictDefaults==="log")e.logger.warn($);else throw new Error($)}}else r+=" if ("+$e+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+$e+" === null || "+$e+" === '' "),r+=" ) "+$e+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(je.default)+" ":r+=" "+JSON.stringify(je.default)+" ",r+="; "}}}}var Te=Q.rules;if(Te){for(var at,b=-1,u=Te.length-1;b<u;)if(at=Te[b+=1],g(at)){var f=at.code(e,at.keyword,Q.type);f&&(r+=" "+f+" ",T&&(I+="}"))}}if(T&&(r+=" "+I+" ",I=""),Q.type&&(r+=" } ",z&&z===Q.type&&!Z)){r+=" else { ";var p=e.schemaPath+".type",c=e.errSchemaPath+"/type",w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(V||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",H?r+=""+z.join(","):r+=""+z,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",H?r+=""+z.join(","):r+=""+z,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),r+=" } "):r+=" {} ";var x=r;r=w.pop(),!e.compositeRule&&T?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}T&&(r+=" if (errors === ",C?r+="0":r+="errs_"+m,r+=") { ",L+="}")}}}T&&(r+=" "+L+" "),C?(s?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+R+" = errors === errs_"+m+";";function i(j){for(var Y=j.rules,ee=0;ee<Y.length;ee++)if(g(Y[ee]))return!0}function g(j){return e.schema[j.keyword]!==void 0||j.implements&&k(j)}function k(j){for(var Y=j.implements,ee=0;ee<Y.length;ee++)if(e.schema[Y[ee]]!==void 0)return!0}return r},Hr=xs,Xr=fr,bi=Es,dh=yi,io=gi,hh=Xr.ucs2length,mh=vs,vh=bi.Validation,yh=vn;function vn(t,e,a,n){var r=this,s=this._opts,l=[void 0],o={},h=[],y={},m=[],d={},v=[];e=e||{schema:t,refVal:l,refs:o};var p=gh.call(this,t,e,n),c=this._compilations[p.index];if(p.compiling)return c.callValidate=$;var _=this._formats,w=this.RULES;try{var x=R(t,e,a,n);c.validate=x;var C=c.callValidate;return C&&(C.schema=x.schema,C.errors=null,C.refs=x.refs,C.refVal=x.refVal,C.root=x.root,C.$async=x.$async,s.sourceCode&&(C.source=x.source)),x}finally{bh.call(this,t,e,n)}function $(){var M=c.validate,D=M.apply(this,arguments);return $.errors=M.errors,D}function R(M,D,K,G){var ne=!D||D&&D.schema==M;if(D.schema!=e.schema)return vn.call(r,M,D,K,G);var X=M.$async===!0,le=io({isTop:!0,schema:M,isRoot:ne,baseId:G,root:D,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:bi.MissingRef,RULES:w,validate:io,util:Xr,resolve:Hr,resolveRef:T,usePattern:H,useDefault:Z,useCustomRule:Q,opts:s,formats:_,logger:r.logger,self:r});le=Br(l,xh)+Br(h,_h)+Br(m,wh)+Br(v,Eh)+le,s.processCode&&(le=s.processCode(le,M));var te;try{var ue=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",le);te=ue(r,w,_,e,l,m,v,mh,hh,vh),l[0]=te}catch(ge){throw r.logger.error("Error compiling schema, function code:",le),ge}return te.schema=M,te.errors=null,te.refs=o,te.refVal=l,te.root=ne?te:D,X&&(te.$async=!0),s.sourceCode===!0&&(te.source={code:le,patterns:h,defaults:m}),te}function T(M,D,K){D=Hr.url(M,D);var G=o[D],ne,X;if(G!==void 0)return ne=l[G],X="refVal["+G+"]",z(ne,X);if(!K&&e.refs){var le=e.refs[D];if(le!==void 0)return ne=e.refVal[le],X=I(D,ne),z(ne,X)}X=I(D);var te=Hr.call(r,R,e,D);if(te===void 0){var ue=a&&a[D];ue&&(te=Hr.inlineRef(ue,s.inlineRefs)?ue:vn.call(r,ue,e,a,M))}if(te===void 0)L(D);else return V(D,te),z(te,X)}function I(M,D){var K=l.length;return l[K]=D,o[M]=K,"refVal"+K}function L(M){delete o[M]}function V(M,D){var K=o[M];l[K]=D}function z(M,D){return typeof M=="object"||typeof M=="boolean"?{code:D,schema:M,inline:!0}:{code:D,$async:M&&!!M.$async}}function H(M){var D=y[M];return D===void 0&&(D=y[M]=h.length,h[D]=M),"pattern"+D}function Z(M){switch(typeof M){case"boolean":case"number":return""+M;case"string":return Xr.toQuotedString(M);case"object":if(M===null)return"null";var D=dh(M),K=d[D];return K===void 0&&(K=d[D]=m.length,m[K]=M),"default"+K}}function Q(M,D,K,G){if(r._opts.validateSchema!==!1){var ne=M.definition.dependencies;if(ne&&!ne.every(function(W){return Object.prototype.hasOwnProperty.call(K,W)}))throw new Error("parent schema must have all required keywords: "+ne.join(","));var X=M.definition.validateSchema;if(X){var le=X(D);if(!le){var te="keyword schema is invalid: "+r.errorsText(X.errors);if(r._opts.validateSchema=="log")r.logger.error(te);else throw new Error(te)}}}var ue=M.definition.compile,ge=M.definition.inline,Ce=M.definition.macro,we;if(ue)we=ue.call(r,D,K,G);else if(Ce)we=Ce.call(r,D,K,G),s.validateSchema!==!1&&r.validateSchema(we,!0);else if(ge)we=ge.call(r,G,M.keyword,D,K);else if(we=M.definition.validate,!we)return;if(we===void 0)throw new Error('custom keyword "'+M.keyword+'"failed to compile');var pe=v.length;return v[pe]=we,{code:"customRule"+pe,validate:we}}}function gh(t,e,a){var n=_i.call(this,t,e,a);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:t,root:e,baseId:a},{index:n,compiling:!1})}function bh(t,e,a){var n=_i.call(this,t,e,a);n>=0&&this._compilations.splice(n,1)}function _i(t,e,a){for(var n=0;n<this._compilations.length;n++){var r=this._compilations[n];if(r.schema==t&&r.root==e&&r.baseId==a)return n}return-1}function _h(t,e){return"var pattern"+t+" = new RegExp("+Xr.toQuotedString(e[t])+");"}function wh(t){return"var default"+t+" = defaults["+t+"];"}function xh(t,e){return e[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function Eh(t){return"var customRule"+t+" = customRules["+t+"];"}function Br(t,e){if(!t.length)return"";for(var a="",n=0;n<t.length;n++)a+=e(n,t);return a}var wi={exports:{}},ma=wi.exports=function(){this._cache={}};ma.prototype.put=function(e,a){this._cache[e]=a};ma.prototype.get=function(e){return this._cache[e]};ma.prototype.del=function(e){delete this._cache[e]};ma.prototype.clear=function(){this._cache={}};var $h=wi.exports,Sh=fr,Ph=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,kh=[0,31,28,31,30,31,30,31,31,30,31,30,31],Oh=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,xi=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,jh=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Dh=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Ei=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,$i=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Si=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Pi=/^(?:\/(?:[^~/]|~0|~1)*)*$/,ki=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Oi=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Th=va;function va(t){return t=t=="full"?"full":"fast",Sh.copy(va[t])}va.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Ei,url:$i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:xi,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Ti,uuid:Si,"json-pointer":Pi,"json-pointer-uri-fragment":ki,"relative-json-pointer":Oi};va.full={date:ji,time:Di,"date-time":Ih,uri:Ah,"uri-reference":Dh,"uri-template":Ei,url:$i,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:xi,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Ti,uuid:Si,"json-pointer":Pi,"json-pointer-uri-fragment":ki,"relative-json-pointer":Oi};function Ch(t){return t%4===0&&(t%100!==0||t%400===0)}function ji(t){var e=t.match(Ph);if(!e)return!1;var a=+e[1],n=+e[2],r=+e[3];return n>=1&&n<=12&&r>=1&&r<=(n==2&&Ch(a)?29:kh[n])}function Di(t,e){var a=t.match(Oh);if(!a)return!1;var n=a[1],r=a[2],s=a[3],l=a[5];return(n<=23&&r<=59&&s<=59||n==23&&r==59&&s==60)&&(!e||l)}var Rh=/t|\s/i;function Ih(t){var e=t.split(Rh);return e.length==2&&ji(e[0])&&Di(e[1],!0)}var qh=/\/|:/;function Ah(t){return qh.test(t)&&jh.test(t)}var Fh=/[^\\]\\Z/;function Ti(t){if(Fh.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}var Nh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.errSchemaPath+"/"+a,y=!e.opts.allErrors,m="data"+(l||""),d="valid"+s,v,p;if(o=="#"||o=="#/")e.isRoot?(v=e.async,p="validate"):(v=e.root.schema.$async===!0,p="root.refVal[0]");else{var c=e.resolveRef(e.baseId,o,e.isRoot);if(c===void 0){var _=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(_);var w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var x=r;r=w.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",y&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(_),y&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,_)}else if(c.inline){var C=e.util.copy(e);C.level++;var $="valid"+C.level;C.schema=c.schema,C.schemaPath="",C.errSchemaPath=o;var R=e.validate(C).replace(/validate\.schema/g,c.code);r+=" "+R+" ",y&&(r+=" if ("+$+") { ")}else v=c.$async===!0||e.async&&c.$async!==!1,p=c.code}if(p){var w=w||[];w.push(r),r="",e.opts.passContext?r+=" "+p+".call(this, ":r+=" "+p+"( ",r+=" "+m+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var T=l?"data"+(l-1||""):"parentData",I=l?e.dataPathArr[l]:"parentDataProperty";r+=" , "+T+" , "+I+", rootData)  ";var L=r;if(r=w.pop(),v){if(!e.async)throw new Error("async schema referenced by sync schema");y&&(r+=" var "+d+"; "),r+=" try { await "+L+"; ",y&&(r+=" "+d+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",y&&(r+=" "+d+" = false; "),r+=" } ",y&&(r+=" if ("+d+") { ")}else r+=" if (!"+L+") { if (vErrors === null) vErrors = "+p+".errors; else vErrors = vErrors.concat("+p+".errors); errors = vErrors.length; } ",y&&(r+=" else { ")}return r},Lh=function(e,a,n){var r=" ",s=e.schema[a],l=e.schemaPath+e.util.getProperty(a),o=e.errSchemaPath+"/"+a,h=!e.opts.allErrors,y=e.util.copy(e),m="";y.level++;var d="valid"+y.level,v=y.baseId,p=!0,c=s;if(c)for(var _,w=-1,x=c.length-1;w<x;)_=c[w+=1],(e.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:e.util.schemaHasRules(_,e.RULES.all))&&(p=!1,y.schema=_,y.schemaPath=l+"["+w+"]",y.errSchemaPath=o+"/"+w,r+="  "+e.validate(y)+" ",y.baseId=v,h&&(r+=" if ("+d+") { ",m+="}"));return h&&(p?r+=" if (true) { ":r+=" "+m.slice(0,-1)+" "),r},Uh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="valid"+s,p="errs__"+s,c=e.util.copy(e),_="";c.level++;var w="valid"+c.level,x=o.every(function(V){return e.opts.strictKeywords?typeof V=="object"&&Object.keys(V).length>0||V===!1:e.util.schemaHasRules(V,e.RULES.all)});if(x){var C=c.baseId;r+=" var "+p+" = errors; var "+v+" = false;  ";var $=e.compositeRule;e.compositeRule=c.compositeRule=!0;var R=o;if(R)for(var T,I=-1,L=R.length-1;I<L;)T=R[I+=1],c.schema=T,c.schemaPath=h+"["+I+"]",c.errSchemaPath=y+"/"+I,r+="  "+e.validate(c)+" ",c.baseId=C,r+=" "+v+" = "+v+" || "+w+"; if (!"+v+") { ",_+="}";e.compositeRule=c.compositeRule=$,r+=" "+_+" if (!"+v+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else m&&(r+=" if (true) { ");return r},Hh=function(e,a,n){var r=" ",s=e.schema[a],l=e.errSchemaPath+"/"+a;e.opts.allErrors;var o=e.util.toQuotedString(s);return e.opts.$comment===!0?r+=" console.log("+o+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+o+", "+e.util.toQuotedString(l)+", validate.root.schema);"),r},Bh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="valid"+s,p=e.opts.$data&&o&&o.$data;p&&(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; "),p||(r+=" var schema"+s+" = validate.schema"+h+";"),r+="var "+v+" = equal("+d+", schema"+s+"); if (!"+v+") {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { allowedValue: schema"+s+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var _=r;return r=c.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",m&&(r+=" else { "),r},Mh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="valid"+s,p="errs__"+s,c=e.util.copy(e),_="";c.level++;var w="valid"+c.level,x="i"+s,C=c.dataLevel=e.dataLevel+1,$="data"+C,R=e.baseId,T=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+p+" = errors;var "+v+";",T){var I=e.compositeRule;e.compositeRule=c.compositeRule=!0,c.schema=o,c.schemaPath=h,c.errSchemaPath=y,r+=" var "+w+" = false; for (var "+x+" = 0; "+x+" < "+d+".length; "+x+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,x,e.opts.jsonPointers,!0);var L=d+"["+x+"]";c.dataPathArr[C]=x;var V=e.validate(c);c.baseId=R,e.util.varOccurences(V,$)<2?r+=" "+e.util.varReplace(V,$,L)+" ":r+=" var "+$+" = "+L+"; "+V+" ",r+=" if ("+w+") break; }  ",e.compositeRule=c.compositeRule=I,r+=" "+_+" if (!"+w+") {"}else r+=" if ("+d+".length == 0) {";var z=z||[];z.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var H=r;return r=z.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+H+"]); ":r+=" validate.errors = ["+H+"]; return false; ":r+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",T&&(r+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},zh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="errs__"+s,p=e.util.copy(e),c="";p.level++;var _="valid"+p.level,w={},x={},C=e.opts.ownProperties;for(I in o)if(I!="__proto__"){var $=o[I],R=Array.isArray($)?x:w;R[I]=$}r+="var "+v+" = errors;";var T=e.errorPath;r+="var missing"+s+";";for(var I in x)if(R=x[I],R.length){if(r+=" if ( "+d+e.util.getProperty(I)+" !== undefined ",C&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(I)+"') "),m){r+=" && ( ";var L=R;if(L)for(var V,z=-1,H=L.length-1;z<H;){V=L[z+=1],z&&(r+=" || ");var Z=e.util.getProperty(V),Q=d+Z;r+=" ( ( "+Q+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(V)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?V:Z)+") ) "}r+=")) {  ";var M="missing"+s,D="' + "+M+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(T,M,!0):T+" + "+M);var K=K||[];K.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { property: '"+e.util.escapeQuotes(I)+"', missingProperty: '"+D+"', depsCount: "+R.length+", deps: '"+e.util.escapeQuotes(R.length==1?R[0]:R.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",R.length==1?r+="property "+e.util.escapeQuotes(R[0]):r+="properties "+e.util.escapeQuotes(R.join(", ")),r+=" when property "+e.util.escapeQuotes(I)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var G=r;r=K.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+G+"]); ":r+=" validate.errors = ["+G+"]; return false; ":r+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var ne=R;if(ne)for(var V,X=-1,le=ne.length-1;X<le;){V=ne[X+=1];var Z=e.util.getProperty(V),D=e.util.escapeQuotes(V),Q=d+Z;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(T,V,e.opts.jsonPointers)),r+=" if ( "+Q+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(V)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { property: '"+e.util.escapeQuotes(I)+"', missingProperty: '"+D+"', depsCount: "+R.length+", deps: '"+e.util.escapeQuotes(R.length==1?R[0]:R.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",R.length==1?r+="property "+e.util.escapeQuotes(R[0]):r+="properties "+e.util.escapeQuotes(R.join(", ")),r+=" when property "+e.util.escapeQuotes(I)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",m&&(c+="}",r+=" else { ")}e.errorPath=T;var te=p.baseId;for(var I in w){var $=w[I];(e.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:e.util.schemaHasRules($,e.RULES.all))&&(r+=" "+_+" = true; if ( "+d+e.util.getProperty(I)+" !== undefined ",C&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(I)+"') "),r+=") { ",p.schema=$,p.schemaPath=h+e.util.getProperty(I),p.errSchemaPath=y+"/"+e.util.escapeFragment(I),r+="  "+e.validate(p)+" ",p.baseId=te,r+=" }  ",m&&(r+=" if ("+_+") { ",c+="}"))}return m&&(r+="   "+c+" if ("+v+" == errors) {"),r},Vh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="valid"+s,p=e.opts.$data&&o&&o.$data;p&&(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ");var c="i"+s,_="schema"+s;p||(r+=" var "+_+" = validate.schema"+h+";"),r+="var "+v+";",p&&(r+=" if (schema"+s+" === undefined) "+v+" = true; else if (!Array.isArray(schema"+s+")) "+v+" = false; else {"),r+=""+v+" = false;for (var "+c+"=0; "+c+"<"+_+".length; "+c+"++) if (equal("+d+", "+_+"["+c+"])) { "+v+" = true; break; }",p&&(r+="  }  "),r+=" if (!"+v+") {   ";var w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { allowedValues: schema"+s+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;return r=w.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",m&&(r+=" else { "),r},Jh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||"");if(e.opts.format===!1)return m&&(r+=" if (true) { "),r;var v=e.opts.$data&&o&&o.$data,p;v?(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",p="schema"+s):p=o;var c=e.opts.unknownFormats,_=Array.isArray(c);if(v){var w="format"+s,x="isObject"+s,C="formatType"+s;r+=" var "+w+" = formats["+p+"]; var "+x+" = typeof "+w+" == 'object' && !("+w+" instanceof RegExp) && "+w+".validate; var "+C+" = "+x+" && "+w+".type || 'string'; if ("+x+") { ",e.async&&(r+=" var async"+s+" = "+w+".async; "),r+=" "+w+" = "+w+".validate; } if (  ",v&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),r+=" (",c!="ignore"&&(r+=" ("+p+" && !"+w+" ",_&&(r+=" && self._opts.unknownFormats.indexOf("+p+") == -1 "),r+=") || "),r+=" ("+w+" && "+C+" == '"+n+"' && !(typeof "+w+" == 'function' ? ",e.async?r+=" (async"+s+" ? await "+w+"("+d+") : "+w+"("+d+")) ":r+=" "+w+"("+d+") ",r+=" : "+w+".test("+d+"))))) {"}else{var w=e.formats[o];if(!w){if(c=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),m&&(r+=" if (true) { "),r;if(_&&c.indexOf(o)>=0)return m&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var x=typeof w=="object"&&!(w instanceof RegExp)&&w.validate,C=x&&w.type||"string";if(x){var $=w.async===!0;w=w.validate}if(C!=n)return m&&(r+=" if (true) { "),r;if($){if(!e.async)throw new Error("async format in sync schema");var R="formats"+e.util.getProperty(o)+".validate";r+=" if (!(await "+R+"("+d+"))) { "}else{r+=" if (! ";var R="formats"+e.util.getProperty(o);x&&(R+=".validate"),typeof w=="function"?r+=" "+R+"("+d+") ":r+=" "+R+".test("+d+") ",r+=") { "}}var T=T||[];T.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { format:  ",v?r+=""+p:r+=""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,v?r+="' + "+p+" + '":r+=""+e.util.escapeQuotes(o),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+h:r+=""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var I=r;return r=T.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m&&(r+=" else { "),r},Qh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="valid"+s,p="errs__"+s,c=e.util.copy(e);c.level++;var _="valid"+c.level,w=e.schema.then,x=e.schema.else,C=w!==void 0&&(e.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:e.util.schemaHasRules(w,e.RULES.all)),$=x!==void 0&&(e.opts.strictKeywords?typeof x=="object"&&Object.keys(x).length>0||x===!1:e.util.schemaHasRules(x,e.RULES.all)),R=c.baseId;if(C||$){var T;c.createErrors=!1,c.schema=o,c.schemaPath=h,c.errSchemaPath=y,r+=" var "+p+" = errors; var "+v+" = true;  ";var I=e.compositeRule;e.compositeRule=c.compositeRule=!0,r+="  "+e.validate(c)+" ",c.baseId=R,c.createErrors=!0,r+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }  ",e.compositeRule=c.compositeRule=I,C?(r+=" if ("+_+") {  ",c.schema=e.schema.then,c.schemaPath=e.schemaPath+".then",c.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(c)+" ",c.baseId=R,r+=" "+v+" = "+_+"; ",C&&$?(T="ifClause"+s,r+=" var "+T+" = 'then'; "):T="'then'",r+=" } ",$&&(r+=" else { ")):r+=" if (!"+_+") { ",$&&(c.schema=e.schema.else,c.schemaPath=e.schemaPath+".else",c.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(c)+" ",c.baseId=R,r+=" "+v+" = "+_+"; ",C&&$?(T="ifClause"+s,r+=" var "+T+" = 'else'; "):T="'else'",r+=" } "),r+=" if (!"+v+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { failingKeyword: "+T+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+T+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",m&&(r+=" else { ")}else m&&(r+=" if (true) { ");return r},Kh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="valid"+s,p="errs__"+s,c=e.util.copy(e),_="";c.level++;var w="valid"+c.level,x="i"+s,C=c.dataLevel=e.dataLevel+1,$="data"+C,R=e.baseId;if(r+="var "+p+" = errors;var "+v+";",Array.isArray(o)){var T=e.schema.additionalItems;if(T===!1){r+=" "+v+" = "+d+".length <= "+o.length+"; ";var I=y;y=e.errSchemaPath+"/additionalItems",r+="  if (!"+v+") {   ";var L=L||[];L.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var V=r;r=L.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",y=I,m&&(_+="}",r+=" else { ")}var z=o;if(z){for(var H,Z=-1,Q=z.length-1;Z<Q;)if(H=z[Z+=1],e.opts.strictKeywords?typeof H=="object"&&Object.keys(H).length>0||H===!1:e.util.schemaHasRules(H,e.RULES.all)){r+=" "+w+" = true; if ("+d+".length > "+Z+") { ";var M=d+"["+Z+"]";c.schema=H,c.schemaPath=h+"["+Z+"]",c.errSchemaPath=y+"/"+Z,c.errorPath=e.util.getPathExpr(e.errorPath,Z,e.opts.jsonPointers,!0),c.dataPathArr[C]=Z;var D=e.validate(c);c.baseId=R,e.util.varOccurences(D,$)<2?r+=" "+e.util.varReplace(D,$,M)+" ":r+=" var "+$+" = "+M+"; "+D+" ",r+=" }  ",m&&(r+=" if ("+w+") { ",_+="}")}}if(typeof T=="object"&&(e.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:e.util.schemaHasRules(T,e.RULES.all))){c.schema=T,c.schemaPath=e.schemaPath+".additionalItems",c.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+w+" = true; if ("+d+".length > "+o.length+") {  for (var "+x+" = "+o.length+"; "+x+" < "+d+".length; "+x+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,x,e.opts.jsonPointers,!0);var M=d+"["+x+"]";c.dataPathArr[C]=x;var D=e.validate(c);c.baseId=R,e.util.varOccurences(D,$)<2?r+=" "+e.util.varReplace(D,$,M)+" ":r+=" var "+$+" = "+M+"; "+D+" ",m&&(r+=" if (!"+w+") break; "),r+=" } }  ",m&&(r+=" if ("+w+") { ",_+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){c.schema=o,c.schemaPath=h,c.errSchemaPath=y,r+="  for (var "+x+" = 0; "+x+" < "+d+".length; "+x+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,x,e.opts.jsonPointers,!0);var M=d+"["+x+"]";c.dataPathArr[C]=x;var D=e.validate(c);c.baseId=R,e.util.varOccurences(D,$)<2?r+=" "+e.util.varReplace(D,$,M)+" ":r+=" var "+$+" = "+M+"; "+D+" ",m&&(r+=" if (!"+w+") break; "),r+=" }"}return m&&(r+=" "+_+" if ("+p+" == errors) {"),r},lo=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,R,d="data"+(l||""),v=e.opts.$data&&o&&o.$data,p;v?(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",p="schema"+s):p=o;var c=a=="maximum",_=c?"exclusiveMaximum":"exclusiveMinimum",w=e.schema[_],x=e.opts.$data&&w&&w.$data,C=c?"<":">",$=c?">":"<",R=void 0;if(!(v||typeof o=="number"||o===void 0))throw new Error(a+" must be number");if(!(x||w===void 0||typeof w=="number"||typeof w=="boolean"))throw new Error(_+" must be number or boolean");if(x){var T=e.util.getData(w.$data,l,e.dataPathArr),I="exclusive"+s,L="exclType"+s,V="exclIsNumber"+s,z="op"+s,H="' + "+z+" + '";r+=" var schemaExcl"+s+" = "+T+"; ",T="schemaExcl"+s,r+=" var "+I+"; var "+L+" = typeof "+T+"; if ("+L+" != 'boolean' && "+L+" != 'undefined' && "+L+" != 'number') { ";var R=_,Z=Z||[];Z.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(R||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+_+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var Q=r;r=Z.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+Q+"]); ":r+=" validate.errors = ["+Q+"]; return false; ":r+=" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",v&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),r+=" "+L+" == 'number' ? ( ("+I+" = "+p+" === undefined || "+T+" "+C+"= "+p+") ? "+d+" "+$+"= "+T+" : "+d+" "+$+" "+p+" ) : ( ("+I+" = "+T+" === true) ? "+d+" "+$+"= "+p+" : "+d+" "+$+" "+p+" ) || "+d+" !== "+d+") { var op"+s+" = "+I+" ? '"+C+"' : '"+C+"='; ",o===void 0&&(R=_,y=e.errSchemaPath+"/"+_,p=T,v=x)}else{var V=typeof w=="number",H=C;if(V&&v){var z="'"+H+"'";r+=" if ( ",v&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),r+=" ( "+p+" === undefined || "+w+" "+C+"= "+p+" ? "+d+" "+$+"= "+w+" : "+d+" "+$+" "+p+" ) || "+d+" !== "+d+") { "}else{V&&o===void 0?(I=!0,R=_,y=e.errSchemaPath+"/"+_,p=w,$+="="):(V&&(p=Math[c?"min":"max"](w,o)),w===(V?p:!0)?(I=!0,R=_,y=e.errSchemaPath+"/"+_,$+="="):(I=!1,H+="="));var z="'"+H+"'";r+=" if ( ",v&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),r+=" "+d+" "+$+" "+p+" || "+d+" !== "+d+") { "}}R=R||a;var Z=Z||[];Z.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(R||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { comparison: "+z+", limit: "+p+", exclusive: "+I+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+H+" ",v?r+="' + "+p:r+=""+p+"'"),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var Q=r;return r=Z.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+Q+"]); ":r+=" validate.errors = ["+Q+"]; return false; ":r+=" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m&&(r+=" else { "),r},uo=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,_,d="data"+(l||""),v=e.opts.$data&&o&&o.$data,p;if(v?(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",p="schema"+s):p=o,!(v||typeof o=="number"))throw new Error(a+" must be number");var c=a=="maxItems"?">":"<";r+="if ( ",v&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),r+=" "+d+".length "+c+" "+p+") { ";var _=a,w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(_||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { limit: "+p+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",a=="maxItems"?r+="more":r+="fewer",r+=" than ",v?r+="' + "+p+" + '":r+=""+o,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;return r=w.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},co=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,_,d="data"+(l||""),v=e.opts.$data&&o&&o.$data,p;if(v?(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",p="schema"+s):p=o,!(v||typeof o=="number"))throw new Error(a+" must be number");var c=a=="maxLength"?">":"<";r+="if ( ",v&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),e.opts.unicode===!1?r+=" "+d+".length ":r+=" ucs2length("+d+") ",r+=" "+c+" "+p+") { ";var _=a,w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(_||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { limit: "+p+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",a=="maxLength"?r+="longer":r+="shorter",r+=" than ",v?r+="' + "+p+" + '":r+=""+o,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;return r=w.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},fo=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,_,d="data"+(l||""),v=e.opts.$data&&o&&o.$data,p;if(v?(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",p="schema"+s):p=o,!(v||typeof o=="number"))throw new Error(a+" must be number");var c=a=="maxProperties"?">":"<";r+="if ( ",v&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),r+=" Object.keys("+d+").length "+c+" "+p+") { ";var _=a,w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(_||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { limit: "+p+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",a=="maxProperties"?r+="more":r+="fewer",r+=" than ",v?r+="' + "+p+" + '":r+=""+o,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;return r=w.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},Wh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v=e.opts.$data&&o&&o.$data,p;if(v?(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",p="schema"+s):p=o,!(v||typeof o=="number"))throw new Error(a+" must be number");r+="var division"+s+";if (",v&&(r+=" "+p+" !== undefined && ( typeof "+p+" != 'number' || "),r+=" (division"+s+" = "+d+" / "+p+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+s+" !== parseInt(division"+s+") ",r+=" ) ",v&&(r+="  )  "),r+=" ) {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { multipleOf: "+p+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",v?r+="' + "+p:r+=""+p+"'"),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var _=r;return r=c.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},Gh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="errs__"+s,p=e.util.copy(e);p.level++;var c="valid"+p.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=h,p.errSchemaPath=y,r+=" var "+v+" = errors;  ";var _=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.createErrors=!1;var w;p.opts.allErrors&&(w=p.opts.allErrors,p.opts.allErrors=!1),r+=" "+e.validate(p)+" ",p.createErrors=!0,w&&(p.opts.allErrors=w),e.compositeRule=p.compositeRule=_,r+=" if ("+c+") {   ";var x=x||[];x.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var C=r;r=x.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m&&(r+=" if (false) { ");return r},Yh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="valid"+s,p="errs__"+s,c=e.util.copy(e),_="";c.level++;var w="valid"+c.level,x=c.baseId,C="prevValid"+s,$="passingSchemas"+s;r+="var "+p+" = errors , "+C+" = false , "+v+" = false , "+$+" = null; ";var R=e.compositeRule;e.compositeRule=c.compositeRule=!0;var T=o;if(T)for(var I,L=-1,V=T.length-1;L<V;)I=T[L+=1],(e.opts.strictKeywords?typeof I=="object"&&Object.keys(I).length>0||I===!1:e.util.schemaHasRules(I,e.RULES.all))?(c.schema=I,c.schemaPath=h+"["+L+"]",c.errSchemaPath=y+"/"+L,r+="  "+e.validate(c)+" ",c.baseId=x):r+=" var "+w+" = true; ",L&&(r+=" if ("+w+" && "+C+") { "+v+" = false; "+$+" = ["+$+", "+L+"]; } else { ",_+="}"),r+=" if ("+w+") { "+v+" = "+C+" = true; "+$+" = "+L+"; }";return e.compositeRule=c.compositeRule=R,r+=""+_+"if (!"+v+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { passingSchemas: "+$+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},Zh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v=e.opts.$data&&o&&o.$data,p;v?(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",p="schema"+s):p=o;var c=v?"(new RegExp("+p+"))":e.usePattern(o);r+="if ( ",v&&(r+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),r+=" !"+c+".test("+d+") ) {   ";var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { pattern:  ",v?r+=""+p:r+=""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,v?r+="' + "+p+" + '":r+=""+e.util.escapeQuotes(o),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+h:r+=""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var w=r;return r=_.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},Xh=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="errs__"+s,p=e.util.copy(e),c="";p.level++;var _="valid"+p.level,w="key"+s,x="idx"+s,C=p.dataLevel=e.dataLevel+1,$="data"+C,R="dataProperties"+s,T=Object.keys(o||{}).filter(X),I=e.schema.patternProperties||{},L=Object.keys(I).filter(X),V=e.schema.additionalProperties,z=T.length||L.length,H=V===!1,Z=typeof V=="object"&&Object.keys(V).length,Q=e.opts.removeAdditional,M=H||Z||Q,D=e.opts.ownProperties,K=e.baseId,G=e.schema.required;if(G&&!(e.opts.$data&&G.$data)&&G.length<e.opts.loopRequired)var ne=e.util.toHash(G);function X(me){return me!=="__proto__"}if(r+="var "+v+" = errors;var "+_+" = true;",D&&(r+=" var "+R+" = undefined;"),M){if(D?r+=" "+R+" = "+R+" || Object.keys("+d+"); for (var "+x+"=0; "+x+"<"+R+".length; "+x+"++) { var "+w+" = "+R+"["+x+"]; ":r+=" for (var "+w+" in "+d+") { ",z){if(r+=" var isAdditional"+s+" = !(false ",T.length)if(T.length>8)r+=" || validate.schema"+h+".hasOwnProperty("+w+") ";else{var le=T;if(le)for(var te,ue=-1,ge=le.length-1;ue<ge;)te=le[ue+=1],r+=" || "+w+" == "+e.util.toQuotedString(te)+" "}if(L.length){var Ce=L;if(Ce)for(var we,pe=-1,W=Ce.length-1;pe<W;)we=Ce[pe+=1],r+=" || "+e.usePattern(we)+".test("+w+") "}r+=" ); if (isAdditional"+s+") { "}if(Q=="all")r+=" delete "+d+"["+w+"]; ";else{var J=e.errorPath,de="' + "+w+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,w,e.opts.jsonPointers)),H)if(Q)r+=" delete "+d+"["+w+"]; ";else{r+=" "+_+" = false; ";var xe=y;y=e.errSchemaPath+"/additionalProperties";var je=je||[];je.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { additionalProperty: '"+de+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var $e=r;r=je.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+$e+"]); ":r+=" validate.errors = ["+$e+"]; return false; ":r+=" var err = "+$e+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",y=xe,m&&(r+=" break; ")}else if(Z)if(Q=="failing"){r+=" var "+v+" = errors;  ";var De=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=V,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,w,e.opts.jsonPointers);var ke=d+"["+w+"]";p.dataPathArr[C]=w;var Te=e.validate(p);p.baseId=K,e.util.varOccurences(Te,$)<2?r+=" "+e.util.varReplace(Te,$,ke)+" ":r+=" var "+$+" = "+ke+"; "+Te+" ",r+=" if (!"+_+") { errors = "+v+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+w+"]; }  ",e.compositeRule=p.compositeRule=De}else{p.schema=V,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,w,e.opts.jsonPointers);var ke=d+"["+w+"]";p.dataPathArr[C]=w;var Te=e.validate(p);p.baseId=K,e.util.varOccurences(Te,$)<2?r+=" "+e.util.varReplace(Te,$,ke)+" ":r+=" var "+$+" = "+ke+"; "+Te+" ",m&&(r+=" if (!"+_+") break; ")}e.errorPath=J}z&&(r+=" } "),r+=" }  ",m&&(r+=" if ("+_+") { ",c+="}")}var at=e.opts.useDefaults&&!e.compositeRule;if(T.length){var b=T;if(b)for(var te,u=-1,f=b.length-1;u<f;){te=b[u+=1];var i=o[te];if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){var g=e.util.getProperty(te),ke=d+g,k=at&&i.default!==void 0;p.schema=i,p.schemaPath=h+g,p.errSchemaPath=y+"/"+e.util.escapeFragment(te),p.errorPath=e.util.getPath(e.errorPath,te,e.opts.jsonPointers),p.dataPathArr[C]=e.util.toQuotedString(te);var Te=e.validate(p);if(p.baseId=K,e.util.varOccurences(Te,$)<2){Te=e.util.varReplace(Te,$,ke);var j=ke}else{var j=$;r+=" var "+$+" = "+ke+"; "}if(k)r+=" "+Te+" ";else{if(ne&&ne[te]){r+=" if ( "+j+" === undefined ",D&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(te)+"') "),r+=") { "+_+" = false; ";var J=e.errorPath,xe=y,Y=e.util.escapeQuotes(te);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(J,te,e.opts.jsonPointers)),y=e.errSchemaPath+"/required";var je=je||[];je.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+Y+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+Y+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var $e=r;r=je.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+$e+"]); ":r+=" validate.errors = ["+$e+"]; return false; ":r+=" var err = "+$e+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",y=xe,e.errorPath=J,r+=" } else { "}else m?(r+=" if ( "+j+" === undefined ",D&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(te)+"') "),r+=") { "+_+" = true; } else { "):(r+=" if ("+j+" !== undefined ",D&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(te)+"') "),r+=" ) { ");r+=" "+Te+" } "}}m&&(r+=" if ("+_+") { ",c+="}")}}if(L.length){var ee=L;if(ee)for(var we,ie=-1,oe=ee.length-1;ie<oe;){we=ee[ie+=1];var i=I[we];if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){p.schema=i,p.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(we),p.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(we),D?r+=" "+R+" = "+R+" || Object.keys("+d+"); for (var "+x+"=0; "+x+"<"+R+".length; "+x+"++) { var "+w+" = "+R+"["+x+"]; ":r+=" for (var "+w+" in "+d+") { ",r+=" if ("+e.usePattern(we)+".test("+w+")) { ",p.errorPath=e.util.getPathExpr(e.errorPath,w,e.opts.jsonPointers);var ke=d+"["+w+"]";p.dataPathArr[C]=w;var Te=e.validate(p);p.baseId=K,e.util.varOccurences(Te,$)<2?r+=" "+e.util.varReplace(Te,$,ke)+" ":r+=" var "+$+" = "+ke+"; "+Te+" ",m&&(r+=" if (!"+_+") break; "),r+=" } ",m&&(r+=" else "+_+" = true; "),r+=" }  ",m&&(r+=" if ("+_+") { ",c+="}")}}}return m&&(r+=" "+c+" if ("+v+" == errors) {"),r},em=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="errs__"+s,p=e.util.copy(e),c="";p.level++;var _="valid"+p.level;if(r+="var "+v+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=h,p.errSchemaPath=y;var w="key"+s,x="idx"+s,C="i"+s,$="' + "+w+" + '",R=p.dataLevel=e.dataLevel+1,T="data"+R,I="dataProperties"+s,L=e.opts.ownProperties,V=e.baseId;L&&(r+=" var "+I+" = undefined; "),L?r+=" "+I+" = "+I+" || Object.keys("+d+"); for (var "+x+"=0; "+x+"<"+I+".length; "+x+"++) { var "+w+" = "+I+"["+x+"]; ":r+=" for (var "+w+" in "+d+") { ",r+=" var startErrs"+s+" = errors; ";var z=w,H=e.compositeRule;e.compositeRule=p.compositeRule=!0;var Z=e.validate(p);p.baseId=V,e.util.varOccurences(Z,T)<2?r+=" "+e.util.varReplace(Z,T,z)+" ":r+=" var "+T+" = "+z+"; "+Z+" ",e.compositeRule=p.compositeRule=H,r+=" if (!"+_+") { for (var "+C+"=startErrs"+s+"; "+C+"<errors; "+C+"++) { vErrors["+C+"].propertyName = "+w+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { propertyName: '"+$+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+$+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),m&&(r+=" break; "),r+=" } }"}return m&&(r+=" "+c+" if ("+v+" == errors) {"),r},tm=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="valid"+s,p=e.opts.$data&&o&&o.$data;p&&(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ");var c="schema"+s;if(!p)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var _=[],w=o;if(w)for(var x,C=-1,$=w.length-1;C<$;){x=w[C+=1];var R=e.schema.properties[x];R&&(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all))||(_[_.length]=x)}}else var _=o;if(p||_.length){var T=e.errorPath,I=p||_.length>=e.opts.loopRequired,L=e.opts.ownProperties;if(m)if(r+=" var missing"+s+"; ",I){p||(r+=" var "+c+" = validate.schema"+h+"; ");var V="i"+s,z="schema"+s+"["+V+"]",H="' + "+z+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(T,z,e.opts.jsonPointers)),r+=" var "+v+" = true; ",p&&(r+=" if (schema"+s+" === undefined) "+v+" = true; else if (!Array.isArray(schema"+s+")) "+v+" = false; else {"),r+=" for (var "+V+" = 0; "+V+" < "+c+".length; "+V+"++) { "+v+" = "+d+"["+c+"["+V+"]] !== undefined ",L&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+c+"["+V+"]) "),r+="; if (!"+v+") break; } ",p&&(r+="  }  "),r+="  if (!"+v+") {   ";var Z=Z||[];Z.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+H+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+H+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var Q=r;r=Z.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+Q+"]); ":r+=" validate.errors = ["+Q+"]; return false; ":r+=" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var M=_;if(M)for(var D,V=-1,K=M.length-1;V<K;){D=M[V+=1],V&&(r+=" || ");var G=e.util.getProperty(D),ne=d+G;r+=" ( ( "+ne+" === undefined ",L&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(D)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?D:G)+") ) "}r+=") {  ";var z="missing"+s,H="' + "+z+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(T,z,!0):T+" + "+z);var Z=Z||[];Z.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+H+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+H+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var Q=r;r=Z.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+Q+"]); ":r+=" validate.errors = ["+Q+"]; return false; ":r+=" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(I){p||(r+=" var "+c+" = validate.schema"+h+"; ");var V="i"+s,z="schema"+s+"["+V+"]",H="' + "+z+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(T,z,e.opts.jsonPointers)),p&&(r+=" if ("+c+" && !Array.isArray("+c+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+H+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+H+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+c+" !== undefined) { "),r+=" for (var "+V+" = 0; "+V+" < "+c+".length; "+V+"++) { if ("+d+"["+c+"["+V+"]] === undefined ",L&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+c+"["+V+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+H+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+H+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",p&&(r+="  }  ")}else{var X=_;if(X)for(var D,le=-1,te=X.length-1;le<te;){D=X[le+=1];var G=e.util.getProperty(D),H=e.util.escapeQuotes(D),ne=d+G;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(T,D,e.opts.jsonPointers)),r+=" if ( "+ne+" === undefined ",L&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(D)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+H+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+H+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=T}else m&&(r+=" if (true) {");return r},rm=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d="data"+(l||""),v="valid"+s,p=e.opts.$data&&o&&o.$data,c;if(p?(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",c="schema"+s):c=o,(o||p)&&e.opts.uniqueItems!==!1){p&&(r+=" var "+v+"; if ("+c+" === false || "+c+" === undefined) "+v+" = true; else if (typeof "+c+" != 'boolean') "+v+" = false; else { "),r+=" var i = "+d+".length , "+v+" = true , j; if (i > 1) { ";var _=e.schema.items&&e.schema.items.type,w=Array.isArray(_);if(!_||_=="object"||_=="array"||w&&(_.indexOf("object")>=0||_.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+v+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var x="checkDataType"+(w?"s":"");r+=" if ("+e.util[x](_,"item",e.opts.strictNumbers,!0)+") continue; ",w&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+v+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",p&&(r+="  }  "),r+=" if (!"+v+") {   ";var C=C||[];C.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var $=r;r=C.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+$+"]); ":r+=" validate.errors = ["+$+"]; return false; ":r+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m&&(r+=" else { ")}else m&&(r+=" if (true) { ");return r},am={$ref:Nh,allOf:Lh,anyOf:Uh,$comment:Hh,const:Bh,contains:Mh,dependencies:zh,enum:Vh,format:Jh,if:Qh,items:Kh,maximum:lo,minimum:lo,maxItems:uo,minItems:uo,maxLength:co,minLength:co,maxProperties:fo,minProperties:fo,multipleOf:Wh,not:Gh,oneOf:Yh,pattern:Zh,properties:Xh,propertyNames:em,required:tm,uniqueItems:rm,validate:gi},po=am,za=fr.toHash,nm=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],a=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=za(a),e.types=za(r),e.forEach(function(s){s.rules=s.rules.map(function(l){var o;if(typeof l=="object"){var h=Object.keys(l)[0];o=l[h],l=h,o.forEach(function(m){a.push(m),e.all[m]=!0})}a.push(l);var y=e.all[l]={keyword:l,code:po[l],implements:o};return y}),e.all.$comment={keyword:"$comment",code:po.$comment},s.type&&(e.types[s.type]=s)}),e.keywords=za(a.concat(n)),e.custom={},e},ho=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],sm=function(t,e){for(var a=0;a<e.length;a++){t=JSON.parse(JSON.stringify(t));var n=e[a].split("/"),r=t,s;for(s=1;s<n.length;s++)r=r[n[s]];for(s=0;s<ho.length;s++){var l=ho[s],o=r[l];o&&(r[l]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t},om=Es.MissingRef,im=Ci;function Ci(t,e,a){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(a=e,e=void 0);var r=s(t).then(function(){var o=n._addSchema(t,void 0,e);return o.validate||l(o)});return a&&r.then(function(o){a(null,o)},a),r;function s(o){var h=o.$schema;return h&&!n.getSchema(h)?Ci.call(n,{$ref:h},!0):Promise.resolve()}function l(o){try{return n._compile(o)}catch(y){if(y instanceof om)return h(y);throw y}function h(y){var m=y.missingSchema;if(p(m))throw new Error("Schema "+m+" is loaded but "+y.missingRef+" cannot be resolved");var d=n._loadingSchemas[m];return d||(d=n._loadingSchemas[m]=n._opts.loadSchema(m),d.then(v,v)),d.then(function(c){if(!p(m))return s(c).then(function(){p(m)||n.addSchema(c,m,void 0,e)})}).then(function(){return l(o)});function v(){delete n._loadingSchemas[m]}function p(c){return n._refs[c]||n._schemas[c]}}}}var lm=function(e,a,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,m=!e.opts.allErrors,d,v="data"+(l||""),p="valid"+s,c="errs__"+s,_=e.opts.$data&&o&&o.$data,w;_?(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",w="schema"+s):w=o;var x=this,C="definition"+s,$=x.definition,R="",T,I,L,V,z;if(_&&$.$data){z="keywordValidate"+s;var H=$.validateSchema;r+=" var "+C+" = RULES.custom['"+a+"'].definition; var "+z+" = "+C+".validate;"}else{if(V=e.useCustomRule(x,o,e.schema,e),!V)return;w="validate.schema"+h,z=V.code,T=$.compile,I=$.inline,L=$.macro}var Z=z+".errors",Q="i"+s,M="ruleErr"+s,D=$.async;if(D&&!e.async)throw new Error("async keyword in sync schema");if(I||L||(r+=""+Z+" = null;"),r+="var "+c+" = errors;var "+p+";",_&&$.$data&&(R+="}",r+=" if ("+w+" === undefined) { "+p+" = true; } else { ",H&&(R+="}",r+=" "+p+" = "+C+".validateSchema("+w+"); if ("+p+") { ")),I)$.statements?r+=" "+V.validate+" ":r+=" "+p+" = "+V.validate+"; ";else if(L){var K=e.util.copy(e),R="";K.level++;var G="valid"+K.level;K.schema=V.validate,K.schemaPath="";var ne=e.compositeRule;e.compositeRule=K.compositeRule=!0;var X=e.validate(K).replace(/validate\.schema/g,z);e.compositeRule=K.compositeRule=ne,r+=" "+X}else{var le=le||[];le.push(r),r="",r+="  "+z+".call( ",e.opts.passContext?r+="this":r+="self",T||$.schema===!1?r+=" , "+v+" ":r+=" , "+w+" , "+v+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var te=l?"data"+(l-1||""):"parentData",ue=l?e.dataPathArr[l]:"parentDataProperty";r+=" , "+te+" , "+ue+" , rootData )  ";var ge=r;r=le.pop(),$.errors===!1?(r+=" "+p+" = ",D&&(r+="await "),r+=""+ge+"; "):D?(Z="customErrors"+s,r+=" var "+Z+" = null; try { "+p+" = await "+ge+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+Z+" = e.errors; else throw e; } "):r+=" "+Z+" = null; "+p+" = "+ge+"; "}if($.modifying&&(r+=" if ("+te+") "+v+" = "+te+"["+ue+"];"),r+=""+R,$.valid)m&&(r+=" if (true) { ");else{r+=" if ( ",$.valid===void 0?(r+=" !",L?r+=""+G:r+=""+p):r+=" "+!$.valid+" ",r+=") { ",d=x.keyword;var le=le||[];le.push(r),r="";var le=le||[];le.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { keyword: '"+x.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+x.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var Ce=r;r=le.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+Ce+"]); ":r+=" validate.errors = ["+Ce+"]; return false; ":r+=" var err = "+Ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var we=r;r=le.pop(),I?$.errors?$.errors!="full"&&(r+="  for (var "+Q+"="+c+"; "+Q+"<errors; "+Q+"++) { var "+M+" = vErrors["+Q+"]; if ("+M+".dataPath === undefined) "+M+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+M+".schemaPath === undefined) { "+M+'.schemaPath = "'+y+'"; } ',e.opts.verbose&&(r+=" "+M+".schema = "+w+"; "+M+".data = "+v+"; "),r+=" } "):$.errors===!1?r+=" "+we+" ":(r+=" if ("+c+" == errors) { "+we+" } else {  for (var "+Q+"="+c+"; "+Q+"<errors; "+Q+"++) { var "+M+" = vErrors["+Q+"]; if ("+M+".dataPath === undefined) "+M+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+M+".schemaPath === undefined) { "+M+'.schemaPath = "'+y+'"; } ',e.opts.verbose&&(r+=" "+M+".schema = "+w+"; "+M+".data = "+v+"; "),r+=" } } "):L?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { keyword: '"+x.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+x.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):$.errors===!1?r+=" "+we+" ":(r+=" if (Array.isArray("+Z+")) { if (vErrors === null) vErrors = "+Z+"; else vErrors = vErrors.concat("+Z+"); errors = vErrors.length;  for (var "+Q+"="+c+"; "+Q+"<errors; "+Q+"++) { var "+M+" = vErrors["+Q+"]; if ("+M+".dataPath === undefined) "+M+".dataPath = (dataPath || '') + "+e.errorPath+";  "+M+'.schemaPath = "'+y+'";  ',e.opts.verbose&&(r+=" "+M+".schema = "+w+"; "+M+".data = "+v+"; "),r+=" } } else { "+we+" } "),r+=" } ",m&&(r+=" else { ")}return r};const um="http://json-schema.org/draft-07/schema#",cm="http://json-schema.org/draft-07/schema#",fm="Core schema meta-schema",pm={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},dm=["object","boolean"],hm={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Ri={$schema:um,$id:cm,title:fm,definitions:pm,type:dm,properties:hm,default:!0};var mo=Ri,mm={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:mo.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:mo.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},vm=/^[a-z_$][a-z0-9_$-]*$/i,ym=lm,gm=mm,bm={add:_m,get:wm,remove:xm,validate:yn};function _m(t,e){var a=this.RULES;if(a.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!vm.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var n=e.type;if(Array.isArray(n))for(var r=0;r<n.length;r++)l(t,n[r],e);else l(t,n,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}a.keywords[t]=a.all[t]=!0;function l(o,h,y){for(var m,d=0;d<a.length;d++){var v=a[d];if(v.type==h){m=v;break}}m||(m={type:h,rules:[]},a.push(m));var p={keyword:o,definition:y,custom:!0,code:ym,implements:y.implements};m.rules.push(p),a.custom[o]=p}return this}function wm(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function xm(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var a=0;a<e.length;a++)for(var n=e[a].rules,r=0;r<n.length;r++)if(n[r].keyword==t){n.splice(r,1);break}return this}function yn(t,e){yn.errors=null;var a=this._validateKeyword=this._validateKeyword||this.compile(gm,!0);if(a(t))return!0;if(yn.errors=a.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(a.errors));return!1}const Em="http://json-schema.org/draft-07/schema#",$m="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Sm="Meta-schema for $data reference (JSON Schema extension proposal)",Pm="object",km=["$data"],Om={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},jm=!1,Dm={$schema:Em,$id:$m,description:Sm,type:Pm,required:km,properties:Om,additionalProperties:jm};var Ii=yh,Vt=xs,Tm=$h,qi=di,Cm=yi,Rm=Th,Im=nm,Ai=sm,Fi=fr,qm=Ue;Ue.prototype.validate=Fm;Ue.prototype.compile=Nm;Ue.prototype.addSchema=Lm;Ue.prototype.addMetaSchema=Um;Ue.prototype.validateSchema=Hm;Ue.prototype.getSchema=Mm;Ue.prototype.removeSchema=Vm;Ue.prototype.addFormat=Xm;Ue.prototype.errorsText=Zm;Ue.prototype._addSchema=Jm;Ue.prototype._compile=Qm;Ue.prototype.compileAsync=im;var ya=bm;Ue.prototype.addKeyword=ya.add;Ue.prototype.getKeyword=ya.get;Ue.prototype.removeKeyword=ya.remove;Ue.prototype.validateKeyword=ya.validate;var Ni=Es;Ue.ValidationError=Ni.Validation;Ue.MissingRefError=Ni.MissingRef;Ue.$dataMetaSchema=Ai;var ea="http://json-schema.org/draft-07/schema",vo=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Am=["/properties"];function Ue(t){if(!(this instanceof Ue))return new Ue(t);t=this._opts=Fi.copy(t)||{},sv(this),this._schemas={},this._refs={},this._fragments={},this._formats=Rm(t.format),this._cache=t.cache||new Tm,this._loadingSchemas={},this._compilations=[],this.RULES=Im(),this._getId=Km(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=Cm),this._metaOpts=nv(this),t.formats&&rv(this),t.keywords&&av(this),ev(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),tv(this)}function Fm(t,e){var a;if(typeof t=="string"){if(a=this.getSchema(t),!a)throw new Error('no schema with key or ref "'+t+'"')}else{var n=this._addSchema(t);a=n.validate||this._compile(n)}var r=a(e);return a.$async!==!0&&(this.errors=a.errors),r}function Nm(t,e){var a=this._addSchema(t,void 0,e);return a.validate||this._compile(a)}function Lm(t,e,a,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++)this.addSchema(t[r],void 0,a,n);return this}var s=this._getId(t);if(s!==void 0&&typeof s!="string")throw new Error("schema id must be string");return e=Vt.normalizeId(e||s),Ui(this,e),this._schemas[e]=this._addSchema(t,a,n,!0),this}function Um(t,e,a){return this.addSchema(t,e,a,!0),this}function Hm(t,e){var a=t.$schema;if(a!==void 0&&typeof a!="string")throw new Error("$schema must be a string");if(a=a||this._opts.defaultMeta||Bm(this),!a)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(a,t);if(!n&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return n}function Bm(t){var e=t._opts.meta;return t._opts.defaultMeta=typeof e=="object"?t._getId(e)||e:t.getSchema(ea)?ea:void 0,t._opts.defaultMeta}function Mm(t){var e=Li(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return zm(this,t)}}function zm(t,e){var a=Vt.schema.call(t,{schema:{}},e);if(a){var n=a.schema,r=a.root,s=a.baseId,l=Ii.call(t,n,r,void 0,s);return t._fragments[e]=new qi({ref:e,fragment:!0,schema:n,root:r,baseId:s,validate:l}),l}}function Li(t,e){return e=Vt.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function Vm(t){if(t instanceof RegExp)return Mr(this,this._schemas,t),Mr(this,this._refs,t),this;switch(typeof t){case"undefined":return Mr(this,this._schemas),Mr(this,this._refs),this._cache.clear(),this;case"string":var e=Li(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var a=this._opts.serialize,n=a?a(t):t;this._cache.del(n);var r=this._getId(t);r&&(r=Vt.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function Mr(t,e,a){for(var n in e){var r=e[n];!r.meta&&(!a||a.test(n))&&(t._cache.del(r.cacheKey),delete e[n])}}function Jm(t,e,a,n){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,s=r?r(t):t,l=this._cache.get(s);if(l)return l;n=n||this._opts.addUsedSchema!==!1;var o=Vt.normalizeId(this._getId(t));o&&n&&Ui(this,o);var h=this._opts.validateSchema!==!1&&!e,y;h&&!(y=o&&o==Vt.normalizeId(t.$schema))&&this.validateSchema(t,!0);var m=Vt.ids.call(this,t),d=new qi({id:o,schema:t,localRefs:m,cacheKey:s,meta:a});return o[0]!="#"&&n&&(this._refs[o]=d),this._cache.put(s,d),h&&y&&this.validateSchema(t,!0),d}function Qm(t,e){if(t.compiling)return t.validate=r,r.schema=t.schema,r.errors=null,r.root=e||r,t.schema.$async===!0&&(r.$async=!0),r;t.compiling=!0;var a;t.meta&&(a=this._opts,this._opts=this._metaOpts);var n;try{n=Ii.call(this,t.schema,e,t.localRefs)}catch(s){throw delete t.validate,s}finally{t.compiling=!1,t.meta&&(this._opts=a)}return t.validate=n,t.refs=n.refs,t.refVal=n.refVal,t.root=n.root,n;function r(){var s=t.validate,l=s.apply(this,arguments);return r.errors=s.errors,l}}function Km(t){switch(t.schemaId){case"auto":return Ym;case"id":return Wm;default:return Gm}}function Wm(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function Gm(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function Ym(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function Zm(t,e){if(t=t||this.errors,!t)return"No errors";e=e||{};for(var a=e.separator===void 0?", ":e.separator,n=e.dataVar===void 0?"data":e.dataVar,r="",s=0;s<t.length;s++){var l=t[s];l&&(r+=n+l.dataPath+" "+l.message+a)}return r.slice(0,-a.length)}function Xm(t,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[t]=e,this}function ev(t){var e;if(t._opts.$data&&(e=Dm,t.addMetaSchema(e,e.$id,!0)),t._opts.meta!==!1){var a=Ri;t._opts.$data&&(a=Ai(a,Am)),t.addMetaSchema(a,ea,!0),t._refs["http://json-schema.org/schema"]=ea}}function tv(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var a in e)t.addSchema(e[a],a)}function rv(t){for(var e in t._opts.formats){var a=t._opts.formats[e];t.addFormat(e,a)}}function av(t){for(var e in t._opts.keywords){var a=t._opts.keywords[e];t.addKeyword(e,a)}}function Ui(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function nv(t){for(var e=Fi.copy(t._opts),a=0;a<vo.length;a++)delete e[vo[a]];return e}function sv(t){var e=t._opts.logger;if(e===!1)t.logger={log:Va,warn:Va,error:Va};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function Va(){}function Hi(t){var e="validation failed";this.name="HARError",this.message=e,this.errors=t,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}Hi.prototype=Error.prototype;var ov=Hi;const iv="afterRequest.json#",lv="http://json-schema.org/draft-06/schema#",uv="object",cv=!0,fv=["lastAccess","eTag","hitCount"],pv={expires:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},lastAccess:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},eTag:{type:"string"},hitCount:{type:"integer"},comment:{type:"string"}},dv={$id:iv,$schema:lv,type:uv,optional:cv,required:fv,properties:pv},hv="beforeRequest.json#",mv="http://json-schema.org/draft-06/schema#",vv="object",yv=!0,gv=["lastAccess","eTag","hitCount"],bv={expires:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},lastAccess:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},eTag:{type:"string"},hitCount:{type:"integer"},comment:{type:"string"}},_v={$id:hv,$schema:mv,type:vv,optional:yv,required:gv,properties:bv},wv="browser.json#",xv="http://json-schema.org/draft-06/schema#",Ev="object",$v=["name","version"],Sv={name:{type:"string"},version:{type:"string"},comment:{type:"string"}},Pv={$id:wv,$schema:xv,type:Ev,required:$v,properties:Sv},kv="cache.json#",Ov="http://json-schema.org/draft-06/schema#",jv={beforeRequest:{oneOf:[{type:"null"},{$ref:"beforeRequest.json#"}]},afterRequest:{oneOf:[{type:"null"},{$ref:"afterRequest.json#"}]},comment:{type:"string"}},Dv={$id:kv,$schema:Ov,properties:jv},Tv="content.json#",Cv="http://json-schema.org/draft-06/schema#",Rv="object",Iv=["size","mimeType"],qv={size:{type:"integer"},compression:{type:"integer"},mimeType:{type:"string"},text:{type:"string"},encoding:{type:"string"},comment:{type:"string"}},Av={$id:Tv,$schema:Cv,type:Rv,required:Iv,properties:qv},Fv="cookie.json#",Nv="http://json-schema.org/draft-06/schema#",Lv="object",Uv=["name","value"],Hv={name:{type:"string"},value:{type:"string"},path:{type:"string"},domain:{type:"string"},expires:{type:["string","null"],format:"date-time"},httpOnly:{type:"boolean"},secure:{type:"boolean"},comment:{type:"string"}},Bv={$id:Fv,$schema:Nv,type:Lv,required:Uv,properties:Hv},Mv="creator.json#",zv="http://json-schema.org/draft-06/schema#",Vv="object",Jv=["name","version"],Qv={name:{type:"string"},version:{type:"string"},comment:{type:"string"}},Kv={$id:Mv,$schema:zv,type:Vv,required:Jv,properties:Qv},Wv="entry.json#",Gv="http://json-schema.org/draft-06/schema#",Yv="object",Zv=!0,Xv=["startedDateTime","time","request","response","cache","timings"],ey={pageref:{type:"string"},startedDateTime:{type:"string",format:"date-time",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},time:{type:"number",min:0},request:{$ref:"request.json#"},response:{$ref:"response.json#"},cache:{$ref:"cache.json#"},timings:{$ref:"timings.json#"},serverIPAddress:{type:"string",oneOf:[{format:"ipv4"},{format:"ipv6"}]},connection:{type:"string"},comment:{type:"string"}},ty={$id:Wv,$schema:Gv,type:Yv,optional:Zv,required:Xv,properties:ey},ry="har.json#",ay="http://json-schema.org/draft-06/schema#",ny="object",sy=["log"],oy={log:{$ref:"log.json#"}},iy={$id:ry,$schema:ay,type:ny,required:sy,properties:oy},ly="header.json#",uy="http://json-schema.org/draft-06/schema#",cy="object",fy=["name","value"],py={name:{type:"string"},value:{type:"string"},comment:{type:"string"}},dy={$id:ly,$schema:uy,type:cy,required:fy,properties:py},hy="log.json#",my="http://json-schema.org/draft-06/schema#",vy="object",yy=["version","creator","entries"],gy={version:{type:"string"},creator:{$ref:"creator.json#"},browser:{$ref:"browser.json#"},pages:{type:"array",items:{$ref:"page.json#"}},entries:{type:"array",items:{$ref:"entry.json#"}},comment:{type:"string"}},by={$id:hy,$schema:my,type:vy,required:yy,properties:gy},_y="page.json#",wy="http://json-schema.org/draft-06/schema#",xy="object",Ey=!0,$y=["startedDateTime","id","title","pageTimings"],Sy={startedDateTime:{type:"string",format:"date-time",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},id:{type:"string",unique:!0},title:{type:"string"},pageTimings:{$ref:"pageTimings.json#"},comment:{type:"string"}},Py={$id:_y,$schema:wy,type:xy,optional:Ey,required:$y,properties:Sy},ky="pageTimings.json#",Oy="http://json-schema.org/draft-06/schema#",jy="object",Dy={onContentLoad:{type:"number",min:-1},onLoad:{type:"number",min:-1},comment:{type:"string"}},Ty={$id:ky,$schema:Oy,type:jy,properties:Dy},Cy="postData.json#",Ry="http://json-schema.org/draft-06/schema#",Iy="object",qy=!0,Ay=["mimeType"],Fy={mimeType:{type:"string"},text:{type:"string"},params:{type:"array",required:["name"],properties:{name:{type:"string"},value:{type:"string"},fileName:{type:"string"},contentType:{type:"string"},comment:{type:"string"}}},comment:{type:"string"}},Ny={$id:Cy,$schema:Ry,type:Iy,optional:qy,required:Ay,properties:Fy},Ly="query.json#",Uy="http://json-schema.org/draft-06/schema#",Hy="object",By=["name","value"],My={name:{type:"string"},value:{type:"string"},comment:{type:"string"}},zy={$id:Ly,$schema:Uy,type:Hy,required:By,properties:My},Vy="request.json#",Jy="http://json-schema.org/draft-06/schema#",Qy="object",Ky=["method","url","httpVersion","cookies","headers","queryString","headersSize","bodySize"],Wy={method:{type:"string"},url:{type:"string",format:"uri"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"cookie.json#"}},headers:{type:"array",items:{$ref:"header.json#"}},queryString:{type:"array",items:{$ref:"query.json#"}},postData:{$ref:"postData.json#"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string"}},Gy={$id:Vy,$schema:Jy,type:Qy,required:Ky,properties:Wy},Yy="response.json#",Zy="http://json-schema.org/draft-06/schema#",Xy="object",eg=["status","statusText","httpVersion","cookies","headers","content","redirectURL","headersSize","bodySize"],tg={status:{type:"integer"},statusText:{type:"string"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"cookie.json#"}},headers:{type:"array",items:{$ref:"header.json#"}},content:{$ref:"content.json#"},redirectURL:{type:"string"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string"}},rg={$id:Yy,$schema:Zy,type:Xy,required:eg,properties:tg},ag="timings.json#",ng="http://json-schema.org/draft-06/schema#",sg=["send","wait","receive"],og={dns:{type:"number",min:-1},connect:{type:"number",min:-1},blocked:{type:"number",min:-1},send:{type:"number",min:-1},wait:{type:"number",min:-1},receive:{type:"number",min:-1},ssl:{type:"number",min:-1},comment:{type:"string"}},ig={$id:ag,$schema:ng,required:sg,properties:og};var lg={afterRequest:dv,beforeRequest:_v,browser:Pv,cache:Dv,content:Av,cookie:Bv,creator:Kv,entry:ty,har:iy,header:dy,log:by,page:Py,pageTimings:Ty,postData:Ny,query:zy,request:Gy,response:rg,timings:ig};const ug="http://json-schema.org/draft-06/schema#",cg="http://json-schema.org/draft-06/schema#",fg="Core schema meta-schema",pg={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},dg=["object","boolean"],hg={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},mg={$schema:ug,$id:cg,title:fg,definitions:pg,type:dg,properties:hg,default:{}};var vg=qm,yg=ov,gg=lg,Ja;function bg(){var t=new vg({allErrors:!0});return t.addMetaSchema(mg),t.addSchema(gg),t}function We(t,e,a){e=e||{},Ja=Ja||bg();var n=Ja.getSchema(t+".json"),r=n(e);return typeof a=="function"?a(r?null:new yg(n.errors),r):r}Ke.afterRequest=function(t,e){return We("afterRequest",t,e)};Ke.beforeRequest=function(t,e){return We("beforeRequest",t,e)};Ke.browser=function(t,e){return We("browser",t,e)};Ke.cache=function(t,e){return We("cache",t,e)};Ke.content=function(t,e){return We("content",t,e)};Ke.cookie=function(t,e){return We("cookie",t,e)};Ke.creator=function(t,e){return We("creator",t,e)};Ke.entry=function(t,e){return We("entry",t,e)};Ke.har=function(t,e){return We("har",t,e)};Ke.header=function(t,e){return We("header",t,e)};Ke.log=function(t,e){return We("log",t,e)};Ke.page=function(t,e){return We("page",t,e)};Ke.pageTimings=function(t,e){return We("pageTimings",t,e)};Ke.postData=function(t,e){return We("postData",t,e)};Ke.query=function(t,e){return We("query",t,e)};Ke.request=function(t,e){return We("request",t,e)};Ke.response=function(t,e){return We("response",t,e)};Ke.timings=function(t,e){return We("timings",t,e)};var ga={};/**
 * @license https://raw.githubusercontent.com/node-fetch/node-fetch/master/LICENSE.md
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2016 - 2020 Node Fetch Team
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * Extracted from https://github.com/node-fetch/node-fetch/blob/64c5c296a0250b852010746c76144cb9e14698d9/src/utils/form-data.js
 */const Er=`\r
`,gn="-".repeat(2),_g=Symbol.toStringTag,Ss=t=>typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[_g]),wg=t=>`${gn}${t}${gn}${Er.repeat(2)}`;function xg(t,e,a){let n="";return n+=`${gn}${t}${Er}`,n+=`Content-Disposition: form-data; name="${e}"`,Ss(a)&&(n+=`; filename="${a.name}"${Er}`,n+=`Content-Type: ${a.type||"application/octet-stream"}`),`${n}${Er.repeat(2)}`}ga.getBoundary=()=>{let t="--------------------------";for(let e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);return t};ga.formDataIterator=function*(t,e){for(const[a,n]of t)yield xg(e,a,n),Ss(n)?yield*n.stream():yield n,yield Er;yield wg(e)};ga.isBlob=Ss;const yo=tc("httpsnippet"),Eg=No,$g=Ac,go=Hc,bo=Bc,_o=Dt,Ze=fd,Qa=Ad,Sg=Ke,{formDataIterator:Pg,isBlob:kg}=ga,ba=function(t){let e;const a=this,n=Object.assign({},t);a.requests=[],n.log&&n.log.entries?e=n.log.entries:e=[{request:n}],e.forEach(function(r){r.request.httpVersion=r.request.httpVersion||"HTTP/1.1",r.request.queryString=r.request.queryString||[],r.request.headers=r.request.headers||[],r.request.cookies=r.request.cookies||[],r.request.postData=r.request.postData||{},r.request.postData.mimeType=r.request.postData.mimeType||"application/octet-stream",r.request.bodySize=0,r.request.headersSize=0,r.request.postData.size=0,Sg.request(r.request,function(s,l){if(!l)throw s;a.requests.push(a.prepare(r.request))})})};ba.prototype.prepare=function(t){if(t.queryObj={},t.headersObj={},t.cookiesObj={},t.allHeaders={},t.postData.jsonObj=!1,t.postData.paramsObj=!1,t.queryString&&t.queryString.length&&(yo("queryString found, constructing queryString pair map"),t.queryObj=t.queryString.reduce(bo,{})),t.headers&&t.headers.length){const a=/^HTTP\/2/;t.headersObj=t.headers.reduce(function(n,r){let s=r.name;return t.httpVersion.match(a)&&(s=s.toLowerCase()),n[s]=r.value,n},{})}t.cookies&&t.cookies.length&&(t.cookiesObj=t.cookies.reduceRight(function(a,n){return a[n.name]=n.value,a},{}));const e=t.cookies.map(function(a){return encodeURIComponent(a.name)+"="+encodeURIComponent(a.value)});switch(e.length&&(t.allHeaders.cookie=e.join("; ")),t.postData.mimeType){case"multipart/mixed":case"multipart/related":case"multipart/form-data":case"multipart/alternative":if(t.postData.text="",t.postData.mimeType="multipart/form-data",t.postData.params){const a=new $g,n=typeof a[Symbol.iterator]=="function",r="---011000010111000001101001";if(n||(a._boundary=r),t.postData.params.forEach(function(l){const o=l.name,h=l.value||"",y=l.fileName||null;n?kg(h)?a.append(o,h,y):a.append(o,h):a.append(o,h,{filename:y,contentType:l.contentType||null})}),n)for(const l of Pg(a,r))t.postData.text+=l;else a.pipe(Eg.map(function(l,o){t.postData.text+=l}));t.postData.boundary=r;const s=_o.hasHeader(t.headersObj,"content-type")?_o.getHeaderName(t.headersObj,"content-type"):"content-type";t.headersObj[s]="multipart/form-data; boundary="+r}break;case"application/x-www-form-urlencoded":t.postData.params?(t.postData.paramsObj=t.postData.params.reduce(bo,{}),t.postData.text=go.stringify(t.postData.paramsObj)):t.postData.text="";break;case"text/json":case"text/x-json":case"application/json":case"application/x-json":if(t.postData.mimeType="application/json",t.postData.text)try{t.postData.jsonObj=JSON.parse(t.postData.text)}catch(a){yo(a),t.postData.mimeType="text/plain"}break}return t.allHeaders=Object.assign(t.allHeaders,t.headersObj),t.uriObj=Qa.parse(t.url,!0,!0),t.queryObj=Object.assign(t.queryObj,t.uriObj.query),t.uriObj.query=null,t.uriObj.search=null,t.uriObj.path=t.uriObj.pathname,t.url=Qa.format(t.uriObj),t.uriObj.query=t.queryObj,t.uriObj.search=go.stringify(t.queryObj),t.uriObj.search&&(t.uriObj.path=t.uriObj.pathname+"?"+t.uriObj.search),t.fullUrl=Qa.format(t.uriObj),t};ba.prototype.convert=function(t,e,a){!a&&e&&(a=e);const n=this._matchTarget(t,e);if(n){const r=this.requests.map(function(s){return n(s,a)});return r.length===1?r[0]:r}return!1};ba.prototype._matchTarget=function(t,e){return Ze.hasOwnProperty(t)?typeof e=="string"&&typeof Ze[t][e]=="function"?Ze[t][e]:Ze[t][Ze[t].info.default]:!1};lr.exports=ba;lr.exports.addTarget=function(t){if("info"in t){if(!("key"in t.info)||!("title"in t.info)||!("extname"in t.info)||!("default"in t.info))throw new Error("The supplied custom target must have an `info` object with a `key`, `title`, `extname`, and `default` property.");if(Ze.hasOwnProperty(t.info.key))throw new Error("The supplied custom target already exists.");if(Object.keys(t).length===1)throw new Error("A custom target must have a client defined on it.")}else throw new Error("The supplied custom target must contain an `info` object.");Ze[t.info.key]=t};lr.exports.addTargetClient=function(t,e){if(Ze.hasOwnProperty(t))if("info"in e){if(!("key"in e.info)||!("title"in e.info))throw new Error("The supplied custom target client must have an `info` object with a `key` and `title` property.");if(Ze[t].hasOwnProperty(e.info.key))throw new Error("The supplied custom target client already exists, please use a different key")}else throw new Error("The supplied custom target client must contain an `info` object.");else throw new Error(`Sorry, but no ${t} target exists to add clients to.`);Ze[t][e.info.key]=e};lr.exports.availableTargets=function(){return Object.keys(Ze).map(function(t){const e=Object.assign({},Ze[t].info),a=Object.keys(Ze[t]).filter(function(n){return!~["info","index"].indexOf(n)}).map(function(n){return Ze[t][n].info});return a.length&&(e.clients=a),e})};lr.exports.extname=function(t){return Ze[t]?Ze[t].info.extname:""};var Og=lr.exports;const jg=Po(Og),Dg={class:"flex flex-col w-full h-full px-6 mt-1"},Tg={class:"text-sm capitalize select-none"},Cg={class:"flex flex-row w-full space-x-3 my-4 items-center"},Rg={class:"flex items-center w-full justify-between w-full gap-2"},Ig={class:"truncate flex-1"},qg={class:"flex items-center"},Ag={class:"h-full w-full flex flex-col justify-center items-center mt-28"},Fg=At({__name:"Api",setup(t){const{t:e}=ko(),a=_n(),{base:n}=ot(a),{appInfo:r,token:s}=ol(),l=ar(ua,ve()),o=ar(wn,ve()),{xWhere:h}=Io(),{queryParams:y}=Vl(l,o,h),m=na(sa,{style:{fontSize:"2rem"},spin:!0}),{copy:d}=zl(),v=[{name:"shell",clients:["curl","wget"]},{name:"javascript",clients:["axios","fetch","jquery","xhr"]},{name:"node",clients:["axios","fetch","request","native","unirest"]},{name:"nocodb-sdk",clients:["javascript","node"]},{name:"php"},{name:"python",clients:["python3","requests"]},{name:"ruby"},{name:"java"},{name:"c"}],p=ve(v[0].clients&&v[0].clients[0]),c=ve(v[0].name),_=Le(()=>{var R,T,I;return new URL(`/api/v1/db/data/noco/${(R=n.value)==null?void 0:R.id}/${(T=l.value)==null?void 0:T.id}/views/${(I=o.value)==null?void 0:I.id}`,r.value&&r.value.ncSiteUrl||"/").href}),w=Le(()=>new jg({method:"GET",headers:[{name:"xc-auth",value:s.value,comment:"JWT Auth token"}],url:_.value,queryString:Object.entries(y.value||{}).map(([R,T])=>({name:R,value:String(T)}))})),x=Le(()=>v.find(R=>R.name===c.value)),C=Le(()=>{var R,T,I,L,V,z,H;return((R=x.value)==null?void 0:R.name)==="nocodb-sdk"?`${p.value==="node"?'const { Api } = require("nocodb-sdk");':'import { Api } from "nocodb-sdk";'}
const api = new Api({
  baseURL: "${r.value&&r.value.ncSiteUrl||"/"}",
  headers: {
    "xc-auth": ${JSON.stringify(s.value)}
  }
})

api.dbViewRow.list(
  "noco",
  ${JSON.stringify((T=n.value)==null?void 0:T.id)},
  ${JSON.stringify((I=l.value)==null?void 0:I.id)},
  ${JSON.stringify((L=o.value)==null?void 0:L.id)}, ${JSON.stringify(y.value,null,4)}).then(function (data) {
  console.log(data);
}).catch(function (error) {
  console.error(error);
});
    `:w.value.convert((V=x.value)==null?void 0:V.name,p.value||((z=x.value)==null?void 0:z.clients)&&((H=x.value)==null?void 0:H.clients[0]),{})}),$=async()=>{try{await d(C.value),Ge.info(e("msg.info.copiedToClipboard"))}catch(R){Ge.error(R.message)}};return xt(x,R=>{var T;p.value=(T=R==null?void 0:R.clients)==null?void 0:T[0]}),(R,T)=>{const I=Fo,L=Ao,V=ia,z=la,H=Bl,Z=ca,Q=xn,M=En,D=Oo("e");return U(),_e("div",Dg,[N(M,{activeKey:S(c),"onUpdate:activeKey":T[1]||(T[1]=K=>nr(c)?c.value=K:null),class:"!h-full"},{default:F(()=>[(U(),_e(st,null,Mt(v,K=>N(Q,{key:K.name,class:"!h-full"},{tab:F(()=>[B("div",Tg,he(K.name),1)]),default:F(()=>{var G,ne,X,le;return[B("div",Cg,[(G=S(x))!=null&&G.clients?(U(),re(L,{key:0,value:S(p),"onUpdate:value":T[0]||(T[0]=te=>nr(p)?p.value=te:null),style:{width:"10rem"},class:"capitalize","dropdown-class-name":"nc-dropdown-snippet-active-lang"},{default:F(()=>{var te;return[(U(!0),_e(st,null,Mt((te=S(x))==null?void 0:te.clients,(ue,ge)=>(U(),re(I,{key:ge,class:"!w-full capitalize",value:ue},{default:F(()=>[B("div",Rg,[B("div",Ig,he(ue),1),S(p)===ue?(U(),re(bt(("iconMap"in R?R.iconMap:S(_t)).check),{key:0,id:"nc-selected-item-icon",class:"text-primary w-4 h-4"})):ye("",!0)])]),_:2},1032,["value"]))),128))]}),_:1},8,["value"])):ye("",!0),er((U(),re(z,{type:"secondary",size:"small",onClick:$},{default:F(()=>[B("div",qg,[N(V,{icon:"copy",class:"mr-1"}),Re(" "+he(R.$t("general.copy"))+" code ",1)])]),_:1})),[[D,["c:snippet:copy",{client:((ne=S(x))==null?void 0:ne.clients)&&(S(p)||((X=S(x))==null?void 0:X.clients[0])),lang:(le=S(x))==null?void 0:le.name}]]])]),(U(),re($o,null,{fallback:F(()=>[B("div",Ag,[N(Z,{size:"large",indicator:S(m)},null,8,["indicator"])])]),default:F(()=>[N(H,{class:"border-1 border-gray-200 py-4 rounded-lg",style:{height:"calc(100vh - (var(--topbar-height) * 2) - 8rem)"},"model-value":S(C),"read-only":!0,lang:"typescript",validate:!1,"disable-deep-compare":!0,"hide-minimap":""},null,8,["model-value"])]),_:1}))]}),_:2},1024)),64))]),_:1},8,["activeKey"])])}}});const Ng=or(Fg,[["__scopeId","data-v-e7f619a6"]]),bn=il("webhooksStore",()=>{const t=ve([]),e=ve(!0),{$api:a,$e:n}=ta(),r=jo(),s=r.currentRoute,l=Le(()=>v({openCreatePage:!0})),o=Le(()=>v({openMainPage:!0}));async function h(){const{activeTable:c}=Sr();e.value=!0;try{const _=(await a.dbTableWebhook.list(c==null?void 0:c.id)).list;t.value=_.map(w=>(w.notification=Ka(w.notification),w))}catch(_){Ge.error(await Zt(_))}finally{e.value=!1}}async function y(c){const _=t.value.findIndex(w=>w.id===c);try{c&&await a.dbTableWebhook.delete(c),t.value.splice(_,1),t.value.length||(t.value=[])}catch(w){Ge.error(await Zt(w))}}async function m(c){try{const _=await a.dbTableWebhook.create(c.fk_model_id,{...c,title:`${c.title} - Copy`,active:!1});if(_){n("a:webhook:copy");const w=(await a.dbTableWebhookFilter.read(c.id,{})).list;for(const x of w)await a.dbTableWebhookFilter.create(_.id,{comparison_op:x.comparison_op,comparison_sub_op:x.comparison_sub_op,fk_column_id:x.fk_column_id,fk_parent_id:x.fk_parent_id,is_group:x.is_group,logical_op:x.logical_op,value:x.value});_.notification=Ka(_.notification),t.value=[_,...t.value]}}catch(_){Ge.error(await Zt(_))}}async function d({hook:c}){const{activeTable:_}=Sr();if(!_)throw new Error("activeTable is not defined");typeof c.notification=="string"&&(c.notification=JSON.parse(c.notification));let w=c;try{let x;w.id?x=await a.dbTableWebhook.update(w.id,{...w,notification:{...w.notification,payload:w.notification.payload}}):(x=await a.dbTableWebhook.create(_.id,{...w,notification:{...w.notification,payload:w.notification.payload}}),t.value.push(x)),x&&typeof x.notification=="string"&&(x.notification=JSON.parse(x.notification)),!w.id&&x&&(w={...w,...x}),t.value=t.value.map(C=>C.id===w.id?w:C)}catch(x){throw Ge.error(await Zt(x)),console.error(x),x}return n("a:webhook:add",{operation:w.operation,condition:w.condition,notification:w.notification.type}),w}function v({hookId:c,openCreatePage:_,openMainPage:w}){const{activeView:x}=Jt();if(!x)throw new Error("activeView is not defined");if(!w&&!_&&!c)throw new Error("hook id is not defined");return{name:"index-typeOrId-baseId-index-index-viewId-viewTitle-slugs",params:{typeOrId:s.value.params.typeOrId,baseId:s.value.params.baseId,viewId:s.value.params.viewId,viewTitle:x.id,slugs:w?["webhook"]:["webhook",_?"create":c]}}}return{hooks:t,loadHooksList:h,deleteHook:y,copyHook:m,saveHooks:d,navigateToWebhook:async({hookId:c,openCreatePage:_,openMainPage:w})=>{const{activeView:x}=Jt();x&&await r.push(v({hookId:c,openCreatePage:_,openMainPage:w}))},createWebhookUrl:l,webhookMainUrl:o,isHooksLoading:e,navigateToWebhookRoute:v}}),Lg={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ug=B("path",{fill:"currentColor",d:"M11 17V7H4v10zm0-14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm5.5 0h5A1.5 1.5 0 0 1 23 4.5v3A1.5 1.5 0 0 1 21.5 9H18l-3 3V4.5A1.5 1.5 0 0 1 16.5 3"},null,-1),Hg=[Ug];function Bg(t,e){return U(),_e("svg",Lg,[...Hg])}const Mg={name:"mdi-cellphone-message",render:Bg},zg={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Vg=B("path",{fill:"currentColor",d:"M12.04 2c-5.46 0-9.91 4.45-9.91 9.91c0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21c5.46 0 9.91-4.45 9.91-9.91c0-2.65-1.03-5.14-2.9-7.01A9.816 9.816 0 0 0 12.04 2m.01 1.67c2.2 0 4.26.86 5.82 2.42a8.225 8.225 0 0 1 2.41 5.83c0 4.54-3.7 8.23-8.24 8.23c-1.48 0-2.93-.39-4.19-1.15l-.3-.17l-3.12.82l.83-3.04l-.2-.32a8.188 8.188 0 0 1-1.26-4.38c.01-4.54 3.7-8.24 8.25-8.24M8.53 7.33c-.16 0-.43.06-.66.31c-.22.25-.87.86-.87 2.07c0 1.22.89 2.39 1 2.56c.14.17 1.76 2.67 4.25 3.73c.59.27 1.05.42 1.41.53c.59.19 1.13.16 1.56.1c.48-.07 1.46-.6 1.67-1.18c.21-.58.21-1.07.15-1.18c-.07-.1-.23-.16-.48-.27c-.25-.14-1.47-.74-1.69-.82c-.23-.08-.37-.12-.56.12c-.16.25-.64.81-.78.97c-.15.17-.29.19-.53.07c-.26-.13-1.06-.39-2-1.23c-.74-.66-1.23-1.47-1.38-1.72c-.12-.24-.01-.39.11-.5c.11-.11.27-.29.37-.44c.13-.14.17-.25.25-.41c.08-.17.04-.31-.02-.43c-.06-.11-.56-1.35-.77-1.84c-.2-.48-.4-.42-.56-.43c-.14 0-.3-.01-.47-.01"},null,-1),Jg=[Vg];function Qg(t,e){return U(),_e("svg",zg,[...Jg])}const Kg={name:"mdi-whatsapp",render:Qg},Wg={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Gg=B("path",{fill:"currentColor",d:"M12 3c5.5 0 10 3.58 10 8s-4.5 8-10 8c-1.24 0-2.43-.18-3.53-.5C5.55 21 2 21 2 21c2.33-2.33 2.7-3.9 2.75-4.5C3.05 15.07 2 13.13 2 11c0-4.42 4.5-8 10-8"},null,-1),Yg=[Gg];function Zg(t,e){return U(),_e("svg",Wg,[...Yg])}const Xg={name:"mdi-chat",render:Zg},e0={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},t0=B("path",{fill:"currentColor",d:"m22 24l-5.25-5l.63 2H4.5A2.5 2.5 0 0 1 2 18.5v-15A2.5 2.5 0 0 1 4.5 1h15A2.5 2.5 0 0 1 22 3.5V24M12 6.8c-2.68 0-4.56 1.15-4.56 1.15c1.03-.92 2.83-1.45 2.83-1.45l-.17-.17c-1.69.03-3.22 1.2-3.22 1.2c-1.72 3.59-1.61 6.69-1.61 6.69c1.4 1.81 3.48 1.68 3.48 1.68l.71-.9c-1.25-.27-2.04-1.38-2.04-1.38S9.3 14.9 12 14.9s4.58-1.28 4.58-1.28s-.79 1.11-2.04 1.38l.71.9s2.08.13 3.48-1.68c0 0 .11-3.1-1.61-6.69c0 0-1.53-1.17-3.22-1.2l-.17.17s1.8.53 2.83 1.45c0 0-1.88-1.15-4.56-1.15m-2.07 3.79c.65 0 1.18.57 1.17 1.27c0 .69-.52 1.27-1.17 1.27c-.64 0-1.16-.58-1.16-1.27c0-.7.51-1.27 1.16-1.27m4.17 0c.65 0 1.17.57 1.17 1.27c0 .69-.52 1.27-1.17 1.27c-.64 0-1.16-.58-1.16-1.27c0-.7.51-1.27 1.16-1.27Z"},null,-1),r0=[t0];function a0(t,e){return U(),_e("svg",e0,[...r0])}const n0={name:"mdi-discord",render:a0},s0={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},o0=B("path",{fill:"currentColor",d:"M19.19 8.77q-.46 0-.86-.17q-.39-.17-.69-.47q-.3-.3-.47-.69q-.17-.4-.17-.86q0-.45.17-.85q.17-.4.47-.69q.3-.3.69-.47q.4-.18.86-.17q.45-.01.85.17q.4.17.7.47q.29.29.47.69q.17.4.17.85q0 .46-.17.86q-.17.39-.47.69q-.3.3-.7.47q-.4.17-.85.17m0-3.12q-.39 0-.69.27q-.25.27-.25.66t.25.67q.3.25.69.25q.39 0 .66-.25q.28-.25.28-.67q0-.39-.28-.66q-.27-.27-.66-.27M22 10.33V15q0 .63-.24 1.2q-.26.57-.67.99q-.43.43-1 .67q-.59.25-1.21.25q-.38 0-.76-.11q-.39-.07-.71-.25q-.24.79-.71 1.44q-.47.65-1.1 1.11q-.63.46-1.39.7q-.76.27-1.58.27q-.96 0-1.81-.33q-.82-.33-1.5-.94q-.66-.57-1.09-1.36q-.44-.8-.57-1.74H2.83q-.33 0-.59-.25q-.24-.24-.24-.58V7.73q0-.34.24-.59q.26-.24.59-.24H10q-.29-.6-.29-1.25q0-.61.23-1.15q.22-.5.62-.92q.4-.39.94-.62q.5-.23 1.12-.23q.61 0 1.14.23q.53.23.93.62q.4.42.62.92q.23.54.23 1.15q0 .6-.23 1.14q-.22.53-.62.92q-.4.4-.93.63q-.53.23-1.14.23q-.15 0-.31-.02q-.15-.02-.31-.05v.9h9.06q.39 0 .67.27q.27.27.27.66M12.63 4q-.35 0-.63.11q-.33.13-.56.36q-.22.23-.35.53q-.13.31-.13.65q0 .35.13.65q.13.3.35.53q.23.22.56.36q.28.13.63.13q.34 0 .64-.13q.3-.14.53-.36q.23-.23.36-.53q.14-.3.14-.65q0-.34-.14-.65q-.13-.3-.36-.53q-.23-.23-.53-.36q-.3-.11-.64-.11m-4.85 6.18h1.88V8.62H4.34v1.56h1.88v5h1.56m8.6 1.09v-5.62H12v5.42q0 .34-.24.58q-.26.25-.59.25H8.92q.13.67.47 1.25q.34.57.82.99q.48.41 1.1.65q.61.21 1.32.21q.77 0 1.45-.27q.68-.3 1.2-.81q.51-.51.8-1.19q.3-.68.3-1.46M20.75 15v-4.35h-3.12v5.71q.25.25.57.38q.3.12.68.12q.39 0 .73-.15q.34-.15.59-.4q.26-.25.4-.6q.15-.34.15-.71"},null,-1),i0=[o0];function l0(t,e){return U(),_e("svg",s0,[...i0])}const u0={name:"mdi-microsoft-teams",render:l0},c0={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},f0=B("path",{fill:"currentColor",d:"M6 15a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2h2zm1 0a2 2 0 0 1 2-2a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2a2 2 0 0 1-2-2zm2-8a2 2 0 0 1-2-2a2 2 0 0 1 2-2a2 2 0 0 1 2 2v2zm0 1a2 2 0 0 1 2 2a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2a2 2 0 0 1 2-2zm8 2a2 2 0 0 1 2-2a2 2 0 0 1 2 2a2 2 0 0 1-2 2h-2zm-1 0a2 2 0 0 1-2 2a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2a2 2 0 0 1 2 2zm-2 8a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2v-2zm0-1a2 2 0 0 1-2-2a2 2 0 0 1 2-2h5a2 2 0 0 1 2 2a2 2 0 0 1-2 2z"},null,-1),p0=[f0];function d0(t,e){return U(),_e("svg",c0,[...p0])}const h0={name:"mdi-slack",render:d0},m0=Xe(()=>et(()=>import("./Editor.4cd54071.js"),["./Editor.4cd54071.js","./Editor.vue.1fd573b4.js","./entry.96205fa0.js","./entry.d09b2482.css","./deepCompare.d32ec333.js","./workerUtils.81f9c0e3.js"],import.meta.url).then(t=>t.default||t)),v0=Xe(()=>et(()=>import("./Params.cca2a964.js"),["./Params.cca2a964.js","./Button.vue.02ce6d5b.js","./entry.96205fa0.js","./entry.d09b2482.css","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./index.1431a68b.js","./Input.3f1aaf0c.js","./antInputDirective.8ac36ea7.js","./FormItemContext.b19eb48c.js","./SearchOutlined.c9794270.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./TextArea.b81a19ed.js","./Password.803cc3dc.js","./FormItem.9f1f85f2.js","./identity.309e9ead.js","./Col.b3c5d725.js","./responsiveObserve.358bcfe9.js","./toArray.3561b70e.js","./Params.c393d3f1.css"],import.meta.url).then(t=>t.default||t)),y0=Xe(()=>et(()=>import("./Headers.5e3df593.js"),["./Headers.5e3df593.js","./Button.vue.02ce6d5b.js","./entry.96205fa0.js","./entry.d09b2482.css","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./index.0b4c0f1e.js","./Checkbox.cf2cdba0.js","./FormItemContext.b19eb48c.js","./createForOfIteratorHelper.f2005dfe.js","./index.b5e393d6.js","./toArray.3561b70e.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.dbc63a5f.js","./useState.5a301439.js","./CheckOutlined.3b90c20d.js","./SearchOutlined.c9794270.js","./index.1431a68b.js","./Input.3f1aaf0c.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./TextArea.b81a19ed.js","./Password.803cc3dc.js","./FormItem.9f1f85f2.js","./identity.309e9ead.js","./Col.b3c5d725.js","./responsiveObserve.358bcfe9.js","./Headers.91ac80e6.css"],import.meta.url).then(t=>t.default||t)),g0=Xe(()=>et(()=>import("./ChannelMultiSelect.8cc98662.js"),["./ChannelMultiSelect.8cc98662.js","./entry.96205fa0.js","./entry.d09b2482.css","./index.b5e393d6.js","./toArray.3561b70e.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.dbc63a5f.js","./useState.5a301439.js","./CheckOutlined.3b90c20d.js","./SearchOutlined.c9794270.js","./FormItemContext.b19eb48c.js"],import.meta.url).then(t=>t.default||t)),b0=Xe(()=>et(()=>import("./ColumnFilter.092e669f.js").then(t=>t.C),["./ColumnFilter.092e669f.js","./entry.96205fa0.js","./entry.d09b2482.css","./Select.vue.5a200a6a.js","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Icon.vue.6d0583a0.js","./index.b5e393d6.js","./toArray.3561b70e.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.dbc63a5f.js","./useState.5a301439.js","./CheckOutlined.3b90c20d.js","./SearchOutlined.c9794270.js","./FormItemContext.b19eb48c.js","./Select.aa34986b.css","./FieldListAutoCompleteDropdown.vue.f84f4d57.js","./VirtualCellIcon.79739fcf.js","./index.9b87fcff.js","./virtualCell.9142cfee.js","./CellIcon.0a028b40.js","./cell.810c4fd3.js","./bases.965a49bb.js","./index.0c5b3837.js","./Tooltip.vue.00c0d0fb.js","./Tooltip.b86f91a1.css","./useViewColumns.8927231f.js","./index.e034edbd.js","./FieldListAutoCompleteDropdown.57f54ee1.css","./SingleSelect.47af94ce.js","./index.a5de28c1.js","./index.b7feb234.js","./SingleSelect.eec6a096.css","./MultiSelect.b96d67b5.js","./close-circle.04e3f837.js","./MultiSelect.f52bae3e.css","./DatePicker.283bce89.js","./dayjs.06eaa8eb.js","./index.afb04277.js","./createForOfIteratorHelper.f2005dfe.js","./DatePicker.e5d0b7e2.css","./YearPicker.ad24df06.js","./YearPicker.038de5f8.css","./TimePicker.d85b8110.js","./TimePicker.9ca9e13e.css","./Rating.vue.d4dc8d9d.js","./useRefs.3fea1e39.js","./Duration.d9c03913.js","./durationUtils.4b78cf29.js","./Duration.2dee78e4.css","./Percent.fb3d8d9f.js","./index.26c1c1ff.js","./Percent.57a52f68.css","./Currency.f8cd98cd.js","./Currency.a03f29c3.css","./Decimal.6df51c36.js","./Decimal.9ff029ae.css","./Integer.baa7a240.js","./Integer.df5713f0.css","./Float.abb61a7f.js","./Float.c957029f.css","./Text.vue.60b702e7.js","./User.f2b140f5.js","./UserIcon.7f59375b.js","./UserIcon.fda3e825.css","./User.dd6fff3b.css","./useSmartsheetStore.7d51347e.js","./views.2c163cf7.js","./useSharedView.9e320acb.js","./index.5b05c4cf.js","./index.0b4c0f1e.js","./Checkbox.cf2cdba0.js","./ColumnFilter.e937665e.css"],import.meta.url).then(t=>t.default||t)),_0=Xe(()=>et(()=>import("./Test.fbd7459f.js"),["./Test.fbd7459f.js","./entry.96205fa0.js","./entry.d09b2482.css","./index.9b87fcff.js"],import.meta.url).then(t=>t.default||t)),w0=Xe(()=>et(()=>import("./CallLog.cf7b56ca.js"),["./CallLog.cf7b56ca.js","./entry.96205fa0.js","./entry.d09b2482.css","./bases.965a49bb.js","./index.0c5b3837.js","./index.7e75edca.js","./Element.a2c5baa8.js","./Input.553ad305.js","./Image.d07b34cf.js","./index.c4d36e30.js","./index.e1ceba77.js","./Dropdown.1dedd322.js","./useState.5a301439.js","./useRefs.3fea1e39.js","./identity.309e9ead.js","./isSymbol.d46b4957.js","./_flatRest.ce557a88.js","./isMobile.e2e89480.js","./index.208c1883.js","./Col.b3c5d725.js","./responsiveObserve.358bcfe9.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./index.e7262e5b.js","./RightOutlined.3ce786f5.js","./index.955e0908.js","./LeftOutlined.5e2085dd.js","./index.339951af.js","./index.b5e393d6.js","./toArray.3561b70e.js","./antInputDirective.8ac36ea7.js","./useMemo.dbc63a5f.js","./CheckOutlined.3b90c20d.js","./SearchOutlined.c9794270.js","./FormItemContext.b19eb48c.js","./useBreakpoint.2e009418.js","./_plugin-vue_export-helper.c27b6911.js","./CallLog.a916301a.css"],import.meta.url).then(t=>t.default||t)),Ps=t=>(ra("data-v-0d278a9c"),t=t(),aa(),t),x0={class:"flex nc-webhook-header pb-3 gap-x-2 items-start"},E0={class:"flex flex-1"},$0={class:"flex flex-grow px-1.5 py-0.125 items-center rounded-md border-gray-200 bg-gray-50 outline-gray-200",style:{"outline-style":"solid","outline-width":"thin"}},S0=["placeholder"],P0={class:"flex flex-row gap-2"},k0={class:"flex items-center px-1"},O0={class:"flex items-center px-1"},j0={class:"flex flex-row"},D0={class:"form-field-header"},T0={class:"flex items-center gap-2 justify-between"},C0={class:"flex items-center gap-2"},R0={class:"flex-1"},I0=Ps(()=>B("div",null,"Action",-1)),q0={class:"flex items-center gap-2 justify-between"},A0=Ps(()=>B("div",null,"Link",-1)),F0={class:"rounded-lg border-1 p-6"},N0={key:0,class:"text-gray-600"},L0={class:"flex items-center"},U0=Ps(()=>B("br",null,null,-1)),H0={class:"my-3"},B0={href:"https://docs.nocodb.com/developer-resources/webhooks/",target:"_blank",rel:"noopener"},M0={key:0,class:"nc-webhook-calllog flex w-1/2"},z0=At({__name:"Editor",props:{hook:{}},emits:["close","delete"],setup(t,{emit:e}){const a=t,n=e,{t:r}=ko(),{$e:s}=ta(),{api:l,isLoading:o}=ll(),{hooks:h}=ot(bn()),{base:y}=ot(_n()),m=ar(ua,ve()),d=ve(),v=As.useForm,p=r("labels.webhook");let c=ul({id:"",title:p,event:void 0,operation:void 0,eventOperation:void 0,notification:{type:"URL",payload:{method:"POST",body:"{{ json data }}",headers:[{}],parameters:[{}],path:""}},condition:!1,active:!0,version:"v2"});const _=ve(c.version==="v1"),w=ve(_.value?"body":"params"),x=ve(),C=ve(),$=ve([]),R=ve([]),T=ve([]),I=ve([]),L=ve(),V=ve({Email:[{key:"to",label:r("labels.toAddress"),placeholder:r("labels.toAddress"),type:"SingleLineText",required:!0},{key:"subject",label:r("labels.subject"),placeholder:r("labels.subject"),type:"SingleLineText",required:!0},{key:"body",label:r("labels.body"),placeholder:r("labels.body"),type:"LongText",required:!0}],Slack:[{key:"body",label:r("labels.body"),placeholder:r("labels.body"),type:"LongText",required:!0}],"Microsoft Teams":[{key:"body",label:r("labels.body"),placeholder:r("labels.body"),type:"LongText",required:!0}],Discord:[{key:"body",label:r("labels.body"),placeholder:r("labels.body"),type:"LongText",required:!0}],Mattermost:[{key:"body",label:r("labels.body"),placeholder:r("labels.body"),type:"LongText",required:!0}],Twilio:[{key:"body",label:r("labels.body"),placeholder:r("labels.body"),type:"LongText",required:!0},{key:"to",label:r("labels.commaSeparatedMobileNumber"),placeholder:r("labels.commaSeparatedMobileNumber"),type:"LongText",required:!0}],"Whatsapp Twilio":[{key:"body",label:r("labels.body"),placeholder:r("labels.body"),type:"LongText",required:!0},{key:"to",label:r("labels.commaSeparatedMobileNumber"),placeholder:r("labels.commaSeparatedMobileNumber"),type:"LongText",required:!0}]}),z=ve(!1),H=Le(()=>!1),Z=ve([{text:[r("general.after"),r("general.insert")],value:["after","insert"]},{text:[r("general.after"),r("general.update")],value:["after","update"]},{text:[r("general.after"),r("general.delete")],value:["after","delete"]},{text:[r("general.after"),r("general.bulkInsert")],value:["after","bulkInsert"]},{text:[r("general.after"),r("general.bulkUpdate")],value:["after","bulkUpdate"]},{text:[r("general.after"),r("general.bulkDelete")],value:["after","bulkDelete"]}]),Q=Le(()=>[{type:"URL",text:r("datatype.URL")},{type:"Email",text:r("datatype.Email")},{type:"Slack",text:r("general.slack")},{type:"Microsoft Teams",text:r("general.microsoftTeams")},{type:"Discord",text:r("general.discord")},{type:"Mattermost",text:r("general.matterMost")},{type:"Twilio",text:r("general.twilio")},{type:"Whatsapp Twilio",text:r("general.whatsappTwilio")}]),M=[{title:"GET"},{title:"POST"},{title:"DELETE"},{title:"PUT"},{title:"HEAD"},{title:"PATCH"}],D=Le(()=>({title:[ct()],eventOperation:[ct()],"notification.type":[ct()],...c.notification.type==="URL"&&{"notification.payload.method":[ct()],"notification.payload.path":[ct()]},...c.notification.type==="Email"&&{"notification.payload.to":[ct()],"notification.payload.subject":[ct()],"notification.payload.body":[ct()]},...["Slack","Microsoft Teams","Discord","Mattermost"].includes(c.notification.type)&&{"notification.payload.channels":[ct()],"notification.payload.body":[ct()]},...(c.notification.type==="Twilio"||c.notification.type==="Whatsapp Twilio")&&{"notification.payload.body":[ct()],"notification.payload.to":[ct()]}})),{validate:K,validateInfos:G}=v(c,D),ne=Le(()=>{const W=J=>{for(const de in J)if(typeof J[de]=="object"){if(!W(J[de]))return!1}else if(J&&de==="validateStatus"&&J[de]==="error")return!1;return!0};return c&&W(G)});function X(W=!1){W&&(c.notification.payload={},["Slack","Microsoft Teams","Discord","Mattermost"].includes(c.notification.type)&&(c.notification.payload.channels=[],c.notification.payload.body="")),c.notification.type==="Slack"&&($.value=x.value&&x.value.Slack&&x.value.Slack.parsedInput||[]),c.notification.type==="Microsoft Teams"&&(R.value=x.value&&x.value["Microsoft Teams"]&&x.value["Microsoft Teams"].parsedInput||[]),c.notification.type==="Discord"&&(T.value=x.value&&x.value.Discord&&x.value.Discord.parsedInput||[]),c.notification.type==="Mattermost"&&(I.value=x.value&&x.value.Mattermost&&x.value.Mattermost.parsedInput||[]),c.notification.type==="URL"&&(c.notification.payload.body=c.notification.payload.body||"{{ json data }}",c.notification.payload.parameters=c.notification.payload.parameters||[{}],c.notification.payload.headers=c.notification.payload.headers||[{}],c.notification.payload.method=c.notification.payload.method||"POST",c.notification.payload.auth=c.notification.payload.auth||"")}function le(W){const J=W.notification;Object.assign(c,{...W,notification:{...J,payload:J.payload}}),c.version==="v1"&&(w.value="body",Z.value=[{text:["After","Insert"],value:["after","insert"]},{text:["After","Update"],value:["after","update"]},{text:["After","Delete"],value:["after","delete"]}])}function te(){const{notification:{payload:W={},type:J={}}={}}=c;Object.assign(c,{...c,notification:{type:J,payload:W}}),c.notification.payload=W;const de=ve(null);switch(c.notification.type){case"Slack":de.value=$.value;break;case"Microsoft Teams":de.value=R.value;break;case"Discord":de.value=T.value;break;case"Mattermost":de.value=I.value;break}de&&(c.notification.payload.webhook_url=c.notification.payload.webhook_url&&c.notification.payload.webhook_url.map(xe=>{var je;return(je=de.value)==null?void 0:je.find($e=>xe.webhook_url===$e.webhook_url)})),c.notification.type==="URL"&&(c.notification.payload=c.notification.payload||{},c.notification.payload.parameters=c.notification.payload.parameters||[{}],c.notification.payload.headers=c.notification.payload.headers||[{}],c.notification.payload.method=c.notification.payload.method||"POST")}async function ue(){try{const W=(await l.plugin.webhookList({query:{base_id:y.value.id}})).list;x.value=W.reduce((J,de)=>{const xe={title:"",tags:[],parsedInput:{},...de};return xe.tags=de.tags?de.tags.split(","):[],xe.parsedInput=Ka(de.input),J[xe.title]=xe,J},{})}catch(W){Ge.error(await Zt(W))}}const ge=Le(()=>c.eventOperation&&!c.eventOperation.includes("bulk"));async function Ce(){o.value=!0;try{await K()}catch{Ge.error(r("msg.error.invalidForm")),o.value=!1;return}try{let W;c.id?W=await l.dbTableWebhook.update(c.id,{...c,notification:{...c.notification,payload:c.notification.payload}}):(W=await l.dbTableWebhook.create(m.value.id,{...c,notification:{...c.notification,payload:c.notification.payload}}),h.value.push(W)),W&&typeof W.notification=="string"&&(W.notification=JSON.parse(W.notification)),!c.id&&W&&(c={...c,...W}),L.value&&await L.value.applyChanges(c.id,!1,ge.value),h.value=h.value.map(J=>J.id===c.id?c:J),n("close")}catch(W){Ge.error(await Zt(W))}finally{o.value=!1}s("a:webhook:add",{operation:c.operation,condition:c.condition,notification:c.notification.type})}async function we(){await C.value.testWebhook()}const pe=W=>dl([...W.map(J=>(J==null?void 0:J.title)||"")],p);return xt(()=>c.eventOperation,()=>{if(!c.eventOperation)return;const[W,J]=c.eventOperation.split(" ");c.event=W,c.operation=J}),xt(()=>a.hook,()=>{a.hook?(le(a.hook),te()):c.title=pe(h.value)},{immediate:!0}),wo(async()=>{await ue(),c.event&&c.operation?c.eventOperation=`${c.event} ${c.operation}`:c.eventOperation=Z.value[0].value.join(" "),X(),setTimeout(()=>{var W,J;c.id===""&&((W=d.value)==null||W.click(),(J=d.value)==null||J.select())},50)}),(W,J)=>{const de=Yl,xe=la,je=Fo,$e=Ao,De=Ql,ke=h0,Te=u0,at=n0,b=Xg,u=Kg,f=Mg,i=Kl,g=qo,k=m0,j=xn,Y=v0,ee=y0,ie=En,oe=g0,me=Wl,He=Gl,Oe=b0,tt=hl,pt=_0,Ye=As,it=w0;return U(),_e(st,null,[B("div",x0,[B("div",E0,[N(de,xa(S(G).title,{class:"flex flex-grow"}),{default:F(()=>[B("div",$0,[er(B("input",{ref_key:"titleDomRef",ref:d,"onUpdate:modelValue":J[0]||(J[0]=ae=>S(c).title=ae),class:"flex flex-grow text-lg font-medium capitalize outline-none bg-inherit nc-text-field-hook-title",placeholder:W.$t("placeholder.webhookTitle"),contenteditable:!0,onBlur:J[1]||(J[1]=ae=>z.value=!1),onFocus:J[2]||(J[2]=ae=>z.value=!0),onKeydown:J[3]||(J[3]=cl($r(ae=>{var nt;return(nt=S(d))==null?void 0:nt.blur()},["prevent"]),["enter"]))},null,40,S0),[[fl,S(c).title]])])]),_:1},16)]),B("div",P0,[N(xe,{class:"nc-btn-webhook-test",type:"secondary",size:"small",onClick:we},{default:F(()=>[B("div",k0,he(W.$t("activity.testWebhook")),1)]),_:1}),N(xe,{class:"nc-btn-webhook-save",type:"primary",loading:S(o),size:"small",disabled:!S(ne),onClick:$r(Ce,["prevent"])},{loading:F(()=>[Re(he(W.$t("general.saving")),1)]),default:F(()=>[B("div",O0,he(W.$t("general.save")),1)]),_:1},8,["loading","disabled"])])]),B("div",j0,[B("div",{class:Ne(["nc-webhook-form flex flex-col",{"w-1/2":S(H),"w-full":!S(H)}])},[N(Ye,{model:S(c),name:"create-or-edit-webhook"},{default:F(()=>[N(de,null,{default:F(()=>[B("div",D0,he(W.$t("general.event")),1),N(i,{type:"flex",gutter:[16,16]},{default:F(()=>[N(De,{span:12},{default:F(()=>[N(de,St(Ht(S(G).eventOperation)),{default:F(()=>[N($e,{value:S(c).eventOperation,"onUpdate:value":J[4]||(J[4]=ae=>S(c).eventOperation=ae),size:"large",placeholder:W.$t("general.event"),class:"nc-text-field-hook-event capitalize","dropdown-class-name":"nc-dropdown-webhook-event"},{default:F(()=>[(U(!0),_e(st,null,Mt(S(Z),(ae,nt)=>(U(),re(je,{key:nt,class:"capitalize",value:ae.value.join(" ")},{default:F(()=>[B("div",T0,[B("div",null,he(ae.text.join(" ")),1),S(c).eventOperation===ae.value.join(" ")?(U(),re(bt(S(_t).check),{key:0,id:"nc-selected-item-icon",class:"text-primary w-4 h-4"})):ye("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},16)]),_:1}),N(De,{span:12},{default:F(()=>[N(de,St(Ht(S(G)["notification.type"])),{default:F(()=>[N($e,{value:S(c).notification.type,"onUpdate:value":J[5]||(J[5]=ae=>S(c).notification.type=ae),size:"large",class:"nc-select-hook-notification-type",placeholder:W.$t("general.notification"),"dropdown-class-name":"nc-dropdown-webhook-notification",onChange:J[6]||(J[6]=ae=>X(!0))},{default:F(()=>[(U(!0),_e(st,null,Mt(S(Q),(ae,nt)=>(U(),re(je,{key:nt,value:ae.type},{default:F(()=>[B("div",C0,[ae.type==="URL"?(U(),re(bt(S(_t).link),{key:0,class:"mr-2"})):ye("",!0),ae.type==="Email"?(U(),re(bt(S(_t).email),{key:1,class:"mr-2"})):ye("",!0),ae.type==="Slack"?(U(),re(ke,{key:2,class:"mr-2"})):ye("",!0),ae.type==="Microsoft Teams"?(U(),re(Te,{key:3,class:"mr-2"})):ye("",!0),ae.type==="Discord"?(U(),re(at,{key:4,class:"mr-2"})):ye("",!0),ae.type==="Mattermost"?(U(),re(b,{key:5,class:"mr-2"})):ye("",!0),ae.type==="Whatsapp Twilio"?(U(),re(u,{key:6,class:"mr-2"})):ye("",!0),ae.type==="Twilio"?(U(),re(f,{key:7,class:"mr-2"})):ye("",!0),B("div",R0,he(ae.text),1),S(c).notification.type===ae.type?(U(),re(bt(S(_t).check),{key:8,id:"nc-selected-item-icon",class:"text-primary w-4 h-4"})):ye("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},16)]),_:1})]),_:1}),S(c).notification.type==="URL"?(U(),re(i,{key:0,class:"mb-5",type:"flex",gutter:[16,0]},{default:F(()=>[N(De,{span:6},{default:F(()=>[I0,N($e,{value:S(c).notification.payload.method,"onUpdate:value":J[7]||(J[7]=ae=>S(c).notification.payload.method=ae),size:"large",class:"nc-select-hook-url-method","dropdown-class-name":"nc-dropdown-hook-notification-url-method"},{default:F(()=>[(U(),_e(st,null,Mt(M,(ae,nt)=>N(je,{key:nt,value:ae.title},{default:F(()=>[B("div",q0,[B("div",null,he(ae.title),1),S(c).notification.payload.method===ae.title?(U(),re(bt(S(_t).check),{key:0,id:"nc-selected-item-icon",class:"text-primary w-4 h-4"})):ye("",!0)])]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),N(De,{span:18},{default:F(()=>[A0,N(de,St(Ht(S(G)["notification.payload.path"])),{default:F(()=>[N(g,{value:S(c).notification.payload.path,"onUpdate:value":J[8]||(J[8]=ae=>S(c).notification.payload.path=ae),size:"large",placeholder:"http://example.com",class:"nc-text-field-hook-url-path !rounded-md"},null,8,["value"])]),_:1},16)]),_:1}),N(De,{span:24},{default:F(()=>[N(ie,{activeKey:S(w),"onUpdate:activeKey":J[12]||(J[12]=ae=>nr(w)?w.value=ae:null),type:"card",closeable:"false",class:"border-1 !pb-2 !rounded-lg"},{default:F(()=>[S(_)?(U(),re(j,{key:"body",tab:"Body"},{default:F(()=>[N(k,{modelValue:S(c).notification.payload.body,"onUpdate:modelValue":J[9]||(J[9]=ae=>S(c).notification.payload.body=ae),"disable-deep-compare":"",validate:!1,class:"min-h-60 max-h-80"},null,8,["modelValue"])]),_:1})):ye("",!0),N(j,{key:"params",tab:W.$t("title.parameter"),"force-render":""},{default:F(()=>[N(Y,{modelValue:S(c).notification.payload.parameters,"onUpdate:modelValue":J[10]||(J[10]=ae=>S(c).notification.payload.parameters=ae),class:"p-4"},null,8,["modelValue"])]),_:1},8,["tab"]),N(j,{key:"headers",tab:W.$t("title.headers"),class:"nc-tab-headers"},{default:F(()=>[N(ee,{modelValue:S(c).notification.payload.headers,"onUpdate:modelValue":J[11]||(J[11]=ae=>S(c).notification.payload.headers=ae),class:"!p-4"},null,8,["modelValue"])]),_:1},8,["tab"])]),_:1},8,["activeKey"])]),_:1})]),_:1})):ye("",!0),S(c).notification.type==="Slack"?(U(),re(i,{key:1,type:"flex"},{default:F(()=>[N(De,{span:24},{default:F(()=>[N(de,St(Ht(S(G)["notification.payload.channels"])),{default:F(()=>[N(oe,{modelValue:S(c).notification.payload.channels,"onUpdate:modelValue":J[13]||(J[13]=ae=>S(c).notification.payload.channels=ae),"selected-channel-list":S(c).notification.payload.channels,"available-channel-list":S($),placeholder:W.$t("placeholder.selectSlackChannels")},null,8,["modelValue","selected-channel-list","available-channel-list","placeholder"])]),_:1},16)]),_:1})]),_:1})):ye("",!0),S(c).notification.type==="Microsoft Teams"?(U(),re(i,{key:2,type:"flex"},{default:F(()=>[N(De,{span:24},{default:F(()=>[N(de,St(Ht(S(G)["notification.payload.channels"])),{default:F(()=>[N(oe,{modelValue:S(c).notification.payload.channels,"onUpdate:modelValue":J[14]||(J[14]=ae=>S(c).notification.payload.channels=ae),"selected-channel-list":S(c).notification.payload.channels,"available-channel-list":S(R),placeholder:W.$t("placeholder.selectTeamsChannels")},null,8,["modelValue","selected-channel-list","available-channel-list","placeholder"])]),_:1},16)]),_:1})]),_:1})):ye("",!0),S(c).notification.type==="Discord"?(U(),re(i,{key:3,type:"flex"},{default:F(()=>[N(De,{span:24},{default:F(()=>[N(de,St(Ht(S(G)["notification.payload.channels"])),{default:F(()=>[N(oe,{modelValue:S(c).notification.payload.channels,"onUpdate:modelValue":J[15]||(J[15]=ae=>S(c).notification.payload.channels=ae),"selected-channel-list":S(c).notification.payload.channels,"available-channel-list":S(T),placeholder:W.$t("placeholder.selectDiscordChannels")},null,8,["modelValue","selected-channel-list","available-channel-list","placeholder"])]),_:1},16)]),_:1})]),_:1})):ye("",!0),S(c).notification.type==="Mattermost"?(U(),re(i,{key:4,type:"flex"},{default:F(()=>[N(De,{span:24},{default:F(()=>[N(de,St(Ht(S(G)["notification.payload.channels"])),{default:F(()=>[N(oe,{modelValue:S(c).notification.payload.channels,"onUpdate:modelValue":J[16]||(J[16]=ae=>S(c).notification.payload.channels=ae),"selected-channel-list":S(c).notification.payload.channels,"available-channel-list":S(I),placeholder:W.$t("placeholder.selectMattermostChannels")},null,8,["modelValue","selected-channel-list","available-channel-list","placeholder"])]),_:1},16)]),_:1})]),_:1})):ye("",!0),S(V)[S(c).notification.type]&&S(c).notification.payload?(U(),re(i,{key:5,type:"flex"},{default:F(()=>[(U(!0),_e(st,null,Mt(S(V)[S(c).notification.type],(ae,nt)=>(U(),re(De,{key:nt,span:24},{default:F(()=>[ae.type==="LongText"?(U(),re(de,St(xa({key:0},S(G)[`notification.payload.${ae.key}`])),{default:F(()=>[N(me,{value:S(c).notification.payload[ae.key],"onUpdate:value":se=>S(c).notification.payload[ae.key]=se,placeholder:ae.label,size:"large"},null,8,["value","onUpdate:value","placeholder"])]),_:2},1040)):(U(),re(de,St(xa({key:1},S(G)[`notification.payload.${ae.key}`])),{default:F(()=>[N(g,{value:S(c).notification.payload[ae.key],"onUpdate:value":se=>S(c).notification.payload[ae.key]=se,placeholder:ae.label,size:"large"},null,8,["value","onUpdate:value","placeholder"])]),_:2},1040))]),_:2},1024))),128))]),_:1})):ye("",!0),er(N(i,{class:"mb-5",type:"flex"},{default:F(()=>[N(De,{span:24},{default:F(()=>[B("div",F0,[N(He,{checked:!!S(c).condition,class:"nc-check-box-hook-condition","onUpdate:checked":J[17]||(J[17]=ae=>S(c).condition=ae)},{default:F(()=>[Re(he(W.$t("activity.onCondition")),1)]),_:1},8,["checked"]),S(c).condition?(U(),re(Oe,{key:0,ref_key:"filterRef",ref:L,class:"!p-0 mt-4","auto-save":!1,"show-loading":!1,"hook-id":S(c).id,"web-hook":!0,"onUpdate:filtersLength":J[18]||(J[18]=ae=>S(c).condition=ae>0)},null,8,["hook-id"])):ye("",!0)])]),_:1})]),_:1},512),[[pl,S(ge)]]),N(i,null,{default:F(()=>[N(De,{span:24},{default:F(()=>[S(_)?(U(),_e("div",N0,[B("div",L0,[B("em",null,[Re(he(W.$t("msg.webhookBodyMsg1"))+" ",1),B("strong",null,he(W.$t("msg.webhookBodyMsg2")),1),Re(" "+he(W.$t("msg.webhookBodyMsg3")),1)]),N(tt,{bottom:""},{title:F(()=>[B("span",null,[B("strong",null,he(W.$t("general.data")),1),Re(" : "+he(W.$t("title.rowData"))+" ",1),U0])]),default:F(()=>[(U(),re(bt(S(_t).info),{class:"ml-2"}))]),_:1})]),B("div",H0,[B("a",B0,he(W.$t("labels.docReference")),1)])])):ye("",!0),N(pt,{ref_key:"webhookTestRef",ref:C,hook:{...S(c),notification:{...S(c).notification,payload:S(c).notification.payload}}},null,8,["hook"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])],2),S(H)?(U(),_e("div",M0,[N(it,{hook:S(c)},null,8,["hook"])])):ye("",!0)])],64)}}});const V0=or(z0,[["__scopeId","data-v-0d278a9c"]]),J0=t=>(ra("data-v-e5e9276f"),t=t(),aa(),t),Q0={class:"flex flex-row items-center gap-x-1"},K0={class:"flex flex-row ml-2"},W0=J0(()=>B("div",{class:"flex text-gray-400"},"/",-1)),G0={class:"flex link"},Y0={class:"flex flex-row items-center justify-between w-full text-brand-500"},Z0={class:"ml-1"},X0={key:0,class:"flex flex-col h-full w-full items-center"},e1={key:0,class:"flex flex-col px-1.5 py-2.5 ml-1 h-full justify-center items-center gap-y-6"},t1={class:"flex text-gray-600 font-medium text-lg"},r1={class:"flex flex-col items-center"},a1={class:"flex"},n1={class:"flex"},s1={class:"flex flex-row items-center justify-between w-full"},o1={class:"ml-1"},i1={key:1,class:"flex flex-col pb-2 mt-3 mb-2.5 w-full max-w-200"},l1={class:"flex flex-row nc-view-sidebar-webhook-header pl-3 pr-2 !py-2.5"},u1={class:"nc-view-sidebar-webhook-item-toggle header"},c1={class:"nc-view-sidebar-webhook-item-title header"},f1={class:"nc-view-sidebar-webhook-item-event header"},p1={class:"nc-view-sidebar-webhook-item-action header"},d1={class:"nc-view-sidebar-webhook-item-toggle"},h1=["onClick"],m1={class:"text-inherit group-hover:text-black capitalize"},v1={class:"nc-view-sidebar-webhook-item-event capitalize"},y1={class:"nc-view-sidebar-webhook-item-action !"},g1={class:"flex flex-col p-1.5 items-start"},b1={class:"flex items-center gap-x-1"},_1={class:"flex items-center justify-start gap-x-1 !text-red-500"},w1={key:1,class:"flex w-full pr-4 justify-center"},x1={class:"flex flex-col mt-4 p-8 mb-4 border-1 rounded-2xl w-full max-w-200",style:{height:"fit-content"}},E1={key:1,class:"h-full w-full flex flex-col justify-center items-center",style:{height:"calc(100vh - (var(--topbar-height) * 2))"}},$1={key:0,class:"flex flex-row items-center py-2 px-3 bg-gray-50 rounded-lg text-gray-700 mb-4"},S1={class:"capitalize text-ellipsis overflow-hidden select-none w-full pl-2.5",style:{wordBreak:"keep-all",whiteSpace:"nowrap",display:"inline"}},P1=At({__name:"Webhooks",setup(t){const a=jo().currentRoute,{hooks:n,webhookMainUrl:r,isHooksLoading:s}=ot(bn()),{loadHooksList:l,deleteHook:o,copyHook:h,saveHooks:y,navigateToWebhook:m}=bn(),{activeView:d}=ot(Jt()),v=ve(null),{activeTable:p}=ot(Sr()),c=na(sa,{style:{fontSize:"2.5rem"},spin:!0}),_=ve(""),w=Le(()=>n.value.find(D=>D.id===_.value)),x=ve(void 0),C=Le(()=>{if(x.value)return n.value.find(D=>D.id===x.value)}),$=ve(!1),R=ve(!1),T=ve(!1),I=ve(!1),L=async D=>{if(!T.value){T.value=!0;try{await h(D)}finally{T.value=!1}}},V=D=>{_.value=D,$.value=!0},z=async()=>{if(R.value=!0,!!_.value)try{await o(_.value)}finally{R.value=!1,$.value=!1,_.value=""}},H=D=>{m({hookId:D})};xt($,()=>{$.value&&Eo(()=>{var D,K;(K=(D=v.value)==null?void 0:D.$el)==null||K.focus()})}),xt(()=>{var D;return(D=p.value)==null?void 0:D.id},async()=>{var D;(D=p.value)!=null&&D.id&&(x.value=void 0,await l())},{immediate:!0});const Z=async D=>{D.active=!D.active,await y({hook:D})},Q=async()=>{m({openCreatePage:!0})},M=()=>{m({openMainPage:!0})};return xt(()=>a.value.params.slugs,async()=>{if(!a.value.params.slugs){I.value=!1,x.value=void 0;return}a.value.params.slugs[1]==="create"?I.value=!0:I.value=!1,x.value=a.value.params.slugs&&a.value.params.slugs[1]||void 0},{immediate:!0}),(D,K)=>{const G=ia,ne=la,X=Jl,le=Xl,te=To,ue=V0,ge=ca,Ce=Zl,we=Oo("e");return U(),_e(st,null,[S(d)&&!S(s)?(U(),_e("div",{key:S(x),class:"flex flex-col pt-3 pb-12 border-gray-50 pl-3 pr-0 nc-view-sidebar-webhook nc-scrollbar-md",style:{height:"calc(100vh - (var(--topbar-height) * 2))"}},[B("div",{class:Ne(["flex flex-row justify-between w-full min-h-8 mb-8",{"!items-start mt-1":!S(x)&&!S(I)}])},[B("div",Q0,[S(I)||S(x)?(U(),re(ne,{key:0,type:"text",size:"xsmall",onClick:K[0]||(K[0]=pe=>S(m)({openMainPage:!0}))},{default:F(()=>[N(G,{icon:"arrowLeft"})]),_:1})):ye("",!0),B("div",K0,[N(X,{class:"link",to:S(r)},{default:F(()=>[Re(he(D.$t("objects.webhooks")),1)]),_:1},8,["to"])]),S(C)||S(I)?(U(),_e(st,{key:1},[W0,B("div",G0,he(S(C)?S(C).title:D.$t("general.create")),1)],64)):ye("",!0),S(C)?(U(),_e("div",{key:2,class:Ne(["flex text-xs px-1.5 py-1 rounded-md ml-1",{"bg-green-200 text-green-800":S(C).active,"bg-gray-100 text-gray-500":!S(C).active}])},he(S(C).active?D.$t("general.active"):D.$t("general.inactive")),3)):ye("",!0)]),!S(x)&&!S(I)?er((U(),re(ne,{key:0,class:"mr-4 max-w-40",type:"secondary",size:"small",onClick:K[1]||(K[1]=pe=>Q())},{default:F(()=>[B("div",Y0,[B("span",Z0,he(D.$t("activity.newWebhook")),1),N(G,{icon:"plus"})])]),_:1})),[[we,["c:actions:webhook"]]]):ye("",!0)],2),!S(x)&&!S(I)?(U(),_e("div",X0,[S(n).length===0?(U(),_e("div",e1,[N(G,{icon:"webhook",class:"flex text-5xl h-10",style:{"-webkit-text-stroke":"0.5px"}}),B("div",t1,he(D.$t("msg.createWebhookMsg1")),1),B("div",r1,[B("div",a1,he(D.$t("msg.createWebhookMsg2")),1),B("div",n1,he(D.$t("msg.createWebhookMsg3")),1)]),er((U(),re(ne,{class:"flex max-w-40",type:"primary",onClick:K[2]||(K[2]=pe=>Q())},{default:F(()=>[B("div",s1,[B("span",o1,he(D.$t("activity.newWebhook")),1),N(G,{icon:"plus"})])]),_:1})),[[we,["c:actions:webhook"]]])])):(U(),_e("div",i1,[B("div",l1,[B("div",u1,he(D.$t("general.activate")),1),B("div",c1,he(D.$t("general.title")),1),B("div",f1,he(D.$t("general.event")),1),B("div",p1,he(D.$t("general.action")),1)]),(U(!0),_e(st,null,Mt(S(n),pe=>(U(),_e("div",{key:pe.id,class:"nc-view-sidebar-webhook-item"},[B("div",{class:Ne(["flex flex-row w-full items-center pl-3 pr-2 py-2 hover:bg-gray-50 rounded-lg cursor-pointer group text-gray-600",{"bg-brand-50 !text-brand-500 hover:bg-brand-50":pe.id===S(x)}])},[B("div",d1,[er(N(le,{size:"small",checked:!!pe.active,class:"min-w-4",onChange:W=>Z(pe)},null,8,["checked","onChange"]),[[we,["c:actions:webhook"]]])]),B("div",{class:"nc-view-sidebar-webhook-item-title font-medium flex flex-row items-center",onClick:W=>H(pe.id)},[B("div",m1,he(pe==null?void 0:pe.title),1)],8,h1),B("div",v1,he(pe==null?void 0:pe.event)+" "+he(pe==null?void 0:pe.operation),1),B("div",y1,[N(te,{trigger:["click"],"overlay-class-name":"!rounded-md"},{overlay:F(()=>[B("div",g1,[N(ne,{type:"text",class:"w-full !rounded-md !px-2",loading:S(T),centered:!1,onClick:W=>L(pe)},{loading:F(()=>[Re(he(D.$t("general.duplicating")),1)]),default:F(()=>[B("div",b1,[N(G,{icon:"copy"}),Re(" "+he(D.$t("general.duplicate")),1)])]),_:2},1032,["loading","onClick"]),N(ne,{type:"text",class:"w-full !rounded-md !px-2",centered:!1,onClick:W=>V(pe.id)},{default:F(()=>[B("div",_1,[N(G,{icon:"delete"}),Re(" "+he(D.$t("general.delete")),1)])]),_:2},1032,["onClick"])])]),default:F(()=>[N(ne,{size:"xsmall",type:"text",class:Ne(["nc-btn-webhook-more !text-gray-500 !hover:text-gray-800",{"!hover:bg-brand-100":pe.id===S(x),"!hover:bg-gray-200":pe.id!==S(x)}])},{default:F(()=>[N(G,{icon:"threeDotVertical",class:"text-inherit"})]),_:2},1032,["class"])]),_:2},1024)])],2)]))),128))]))])):(U(),_e("div",w1,[B("div",x1,[(U(),re(ue,{key:S(x),hook:S(C),onClose:M,onDelete:K[3]||(K[3]=pe=>$.value=!0)},null,8,["hook"]))])]))])):(U(),_e("div",E1,[N(ge,{size:"large",indicator:S(c)},null,8,["indicator"])])),N(Ce,{visible:S($),"onUpdate:visible":K[4]||(K[4]=pe=>nr($)?$.value=pe:null),"entity-name":D.$t("objects.webhook"),"on-delete":z},{"entity-preview":F(()=>[S(w)?(U(),_e("div",$1,[(U(),re(bt(("iconMap"in D?D.iconMap:S(_t)).hook),{class:"text-gray-600"})),B("div",S1,he(S(w).title),1)])):ye("",!0)]),_:1},8,["visible","entity-name"])],64)}}});const k1=or(P1,[["__scopeId","data-v-e5e9276f"]]),O1=t=>(ra("data-v-5d88dbe6"),t=t(),aa(),t),j1={class:"tab","data-testid":"nc-fields-tab"},D1=O1(()=>B("div",null,"Fields",-1)),T1={class:"tab","data-testid":"nc-relations-tab"},C1={class:"tab","data-testid":"nc-apis-tab"},R1={key:1,class:"h-full w-full flex flex-col justify-center items-center mt-28 mb-4"},I1={class:"tab","data-testid":"nc-webhooks-tab"},q1=At({__name:"Details",setup(t){const{openedViewsTab:e}=ot(Jt()),{onViewsTabChange:a}=Jt(),{isLeftSidebarOpen:n}=ot(eu()),{$e:r}=ta(),{isUIAllowed:s}=Do(),{base:l}=ot(_n()),o=ar(ua,ve()),h=ar(wn,ve()),y=na(sa,{style:{fontSize:"2rem"},spin:!0}),m=Le({get(){return e.value},set(d){a(d)}});return xt(m,()=>{m.value==="field"&&!s("fieldAdd")&&a("relation"),m.value==="webhook"&&!s("hookList")&&a("relation"),r(`c:table:tab-open:${m.value}`)}),(d,v)=>{const p=ia,c=Mu,_=xn,w=Ku,x=Ng,C=ca,$=k1,R=En;return U(),_e("div",{class:Ne(["flex flex-col h-full w-full",{"nc-details-tab-left-sidebar-close":!S(n)}]),"data-testid":"nc-details-wrapper"},[N(R,{activeKey:S(m),"onUpdate:activeKey":v[0]||(v[0]=T=>nr(m)?m.value=T:null),centered:"",class:"nc-details-tab"},{default:F(()=>[S(s)("fieldAdd")?(U(),re(_,{key:"field"},{tab:F(()=>[B("div",j1,[N(p,{icon:"list",class:Ne(["tab-icon",{}])}),D1])]),default:F(()=>[N(c)]),_:1})):ye("",!0),N(_,{key:"relation"},{tab:F(()=>[B("div",T1,[N(p,{icon:"erd",class:Ne(["tab-icon",{}])}),B("div",null,he(d.$t("title.relations")),1)])]),default:F(()=>[N(w)]),_:1}),N(_,{key:"api"},{tab:F(()=>[B("div",C1,[N(p,{icon:"code",class:Ne(["tab-icon",{}])}),B("div",null,he(d.$t("labels.apis")),1)])]),default:F(()=>[S(l)&&S(o)&&S(h)?(U(),re(x,{key:0})):(U(),_e("div",R1,[N(C,{size:"large",indicator:S(y)},null,8,["indicator"])]))]),_:1}),S(s)("hookList")?(U(),re(_,{key:"webhook"},{tab:F(()=>[B("div",I1,[N(p,{icon:"webhook",class:Ne(["tab-icon",{}])}),B("div",null,he(d.$t("objects.webhooks")),1)])]),default:F(()=>[N($)]),_:1})):ye("",!0)]),_:1},8,["activeKey"])],2)}}});const A1=or(q1,[["__scopeId","data-v-5d88dbe6"]]),F1=ml(()=>({sqlEditors:ve(),selectBase:(...a)=>{},promptHistory:[]})),N1=Xe(()=>et(()=>import("./Topbar.8ca3230e.js"),["./Topbar.8ca3230e.js","./entry.96205fa0.js","./entry.d09b2482.css","./OpenLeftSidebarBtn.vue.a2351f83.js","./Icon.vue.6d0583a0.js","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Tooltip.vue.00c0d0fb.js","./Tooltip.b86f91a1.css","./sidebar.30294def.js","./bases.965a49bb.js","./index.0c5b3837.js","./ViewIcon.vue.fd0fd4d4.js","./iconify.e008aad7.js","./ViewIcon.fd2d300a.css","./views.2c163cf7.js","./useSharedView.9e320acb.js","./index.9b87fcff.js","./config.bc9920dc.js","./useSmartsheetStore.7d51347e.js","./index.e034edbd.js","./Input.553ad305.js","./Element.a2c5baa8.js","./Topbar.8c5a77dc.css"],import.meta.url).then(t=>t.default||t)),L1=Xe(()=>et(()=>import("./Toolbar.d5320c7e.js"),["./Toolbar.d5320c7e.js","./entry.96205fa0.js","./entry.d09b2482.css","./index.9b87fcff.js","./useSharedView.9e320acb.js","./bases.965a49bb.js","./index.0c5b3837.js","./useSmartsheetStore.7d51347e.js","./views.2c163cf7.js","./index.e034edbd.js","./Input.553ad305.js","./Element.a2c5baa8.js","./_plugin-vue_export-helper.c27b6911.js","./Toolbar.8442d2a8.css"],import.meta.url).then(t=>t.default||t)),U1=Xe(()=>et(()=>import("./index.878458eb.js"),["./index.878458eb.js","./entry.96205fa0.js","./entry.d09b2482.css","./index.3faef5cb.js","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Icon.vue.6d0583a0.js","./Menu.vue.55c6ca4d.js","./Menu.eff4a609.css","./Divider.82129fc6.js","./index.c968c966.js","./Divider.3e739d27.css","./Dropdown.vue.93f98e1e.js","./index.6c1d17b6.js","./Dropdown.1dedd322.js","./RightOutlined.3ce786f5.js","./DivDataCell.7110991f.js","./index.9b87fcff.js","./DivDataCell.1a716a1e.css","./Tooltip.vue.00c0d0fb.js","./Tooltip.b86f91a1.css","./UserIcon.7f59375b.js","./UserIcon.fda3e825.css","./config.bc9920dc.js","./sidebar.30294def.js","./bases.965a49bb.js","./index.0c5b3837.js","./views.2c163cf7.js","./useSharedView.9e320acb.js","./dataUtils.fb0a3616.js","./index.e034edbd.js","./useKanbanViewStore.4bcd49a7.js","./deepCompare.d32ec333.js","./useSmartsheetStore.7d51347e.js","./useSmartsheetRowStore.9c7d6fc1.js","./virtualCell.9142cfee.js","./iconify.e008aad7.js","./index.1431a68b.js","./Input.3f1aaf0c.js","./antInputDirective.8ac36ea7.js","./FormItemContext.b19eb48c.js","./SearchOutlined.c9794270.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./TextArea.b81a19ed.js","./Password.803cc3dc.js","./Modal.vue.3dac5189.js","./DeleteModal.7ab6f524.css","./DeleteModal.vue.49c1a59b.js","./Modal.vue.b787f37f.js","./useDashboard.0f55d174.js","./index.a5de28c1.js","./Input.553ad305.js","./Element.a2c5baa8.js","./index.35cd520e.css","./useViewData.a43f0e8e.js","./axios.9cbf0d09.js","./useViewGroupBy.56fce787.js","./useViewColumns.8927231f.js","./EditOrAddProvider.vue.8b187915.js","./validation.64563eeb.js","./index.886d43e1.js","./FormItem.9f1f85f2.js","./identity.309e9ead.js","./Col.b3c5d725.js","./responsiveObserve.358bcfe9.js","./toArray.3561b70e.js","./useSize.c98e621d.js","./_flatRest.ce557a88.js","./vuedraggable.umd.5a03c14e.js","./v3-infinite-loading.e5e5dc2d.js","./cell.810c4fd3.js","./index.0b4c0f1e.js","./Checkbox.cf2cdba0.js","./createForOfIteratorHelper.f2005dfe.js","./index.b5e393d6.js","./isMobile.e2e89480.js","./useMemo.dbc63a5f.js","./useState.5a301439.js","./CheckOutlined.3b90c20d.js","./EditOrAddProvider.9247d0ff.css","./index.5b05c4cf.js","./useCopy.00050b95.js","./chevron-right.53a6784f.js","./index.7e75edca.js","./Image.d07b34cf.js","./index.e7262e5b.js","./index.b7feb234.js","./index.794e62fd.css"],import.meta.url).then(t=>t.default||t)),H1=Xe(()=>et(()=>import("./Gallery.e88a9094.js"),["./Gallery.e88a9094.js","./entry.96205fa0.js","./entry.d09b2482.css","./views.2c163cf7.js","./bases.965a49bb.js","./index.0c5b3837.js","./useSharedView.9e320acb.js","./index.9b87fcff.js","./useSmartsheetStore.7d51347e.js","./index.e034edbd.js","./dataUtils.fb0a3616.js","./fileUtils.43128440.js","./cell.810c4fd3.js","./useAttachment.30d26f9a.js","./urlUtils.15d0b9ce.js","./useViewData.a43f0e8e.js","./virtualCell.9142cfee.js","./axios.9cbf0d09.js","./chevron-right.53a6784f.js","./FileIconImageBox.73052e22.js","./index.c969316f.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./index.c4d36e30.js","./index.e1ceba77.js","./Dropdown.1dedd322.js","./useState.5a301439.js","./useRefs.3fea1e39.js","./identity.309e9ead.js","./_flatRest.ce557a88.js","./isMobile.e2e89480.js","./index.208c1883.js","./Col.b3c5d725.js","./responsiveObserve.358bcfe9.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./index.6c1d17b6.js","./RightOutlined.3ce786f5.js","./Input.553ad305.js","./Element.a2c5baa8.js","./_plugin-vue_export-helper.c27b6911.js","./Gallery.feb0bedf.css"],import.meta.url).then(t=>t.default||t)),B1=Xe(()=>et(()=>import("./Form.ac330f17.js"),["./Form.ac330f17.js","./entry.96205fa0.js","./entry.d09b2482.css","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./EditOrAddProvider.vue.8b187915.js","./Icon.vue.6d0583a0.js","./index.9b87fcff.js","./views.2c163cf7.js","./bases.965a49bb.js","./index.0c5b3837.js","./useSharedView.9e320acb.js","./validation.64563eeb.js","./index.886d43e1.js","./FormItem.9f1f85f2.js","./identity.309e9ead.js","./_getPrototype.459a70cf.js","./Col.b3c5d725.js","./responsiveObserve.358bcfe9.js","./toArray.3561b70e.js","./FormItemContext.b19eb48c.js","./useSize.c98e621d.js","./_flatRest.ce557a88.js","./isPlainObject.631eb8fb.js","./vuedraggable.umd.5a03c14e.js","./v3-infinite-loading.e5e5dc2d.js","./index.6c1d17b6.js","./Dropdown.1dedd322.js","./RightOutlined.3ce786f5.js","./index.1431a68b.js","./Input.3f1aaf0c.js","./antInputDirective.8ac36ea7.js","./SearchOutlined.c9794270.js","./TextArea.b81a19ed.js","./Password.803cc3dc.js","./cell.810c4fd3.js","./index.0b4c0f1e.js","./Checkbox.cf2cdba0.js","./createForOfIteratorHelper.f2005dfe.js","./index.b5e393d6.js","./isMobile.e2e89480.js","./useMemo.dbc63a5f.js","./useState.5a301439.js","./CheckOutlined.3b90c20d.js","./EditOrAddProvider.9247d0ff.css","./useSmartsheetRowStore.9c7d6fc1.js","./deepCompare.d32ec333.js","./dataUtils.fb0a3616.js","./virtualCell.9142cfee.js","./index.e034edbd.js","./useViewColumns.8927231f.js","./useViewData.a43f0e8e.js","./useSmartsheetStore.7d51347e.js","./axios.9cbf0d09.js","./index.c4d36e30.js","./index.e1ceba77.js","./useRefs.3fea1e39.js","./index.208c1883.js","./index.cd5853db.js","./index.4a1cb0c9.js","./index.c968c966.js","./Form.64b1f881.css"],import.meta.url).then(t=>t.default||t)),M1=Xe(()=>et(()=>import("./Kanban.57f06d66.js"),["./Kanban.57f06d66.js","./entry.96205fa0.js","./entry.d09b2482.css","./DeleteModal.vue.49c1a59b.js","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Modal.vue.b787f37f.js","./DeleteModal.7ab6f524.css","./index.9b87fcff.js","./views.2c163cf7.js","./bases.965a49bb.js","./index.0c5b3837.js","./useSharedView.9e320acb.js","./cell.810c4fd3.js","./dataUtils.fb0a3616.js","./fileUtils.43128440.js","./useAttachment.30d26f9a.js","./urlUtils.15d0b9ce.js","./useKanbanViewStore.4bcd49a7.js","./deepCompare.d32ec333.js","./useSmartsheetStore.7d51347e.js","./index.e034edbd.js","./chevron-right.53a6784f.js","./FileIconImageBox.73052e22.js","./vuedraggable.umd.5a03c14e.js","./index.6c1d17b6.js","./Dropdown.1dedd322.js","./RightOutlined.3ce786f5.js","./index.c4d36e30.js","./index.e1ceba77.js","./useState.5a301439.js","./useRefs.3fea1e39.js","./identity.309e9ead.js","./_flatRest.ce557a88.js","./isMobile.e2e89480.js","./index.208c1883.js","./Col.b3c5d725.js","./responsiveObserve.358bcfe9.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./Input.553ad305.js","./Element.a2c5baa8.js","./index.955e0908.js","./LeftOutlined.5e2085dd.js","./index.c969316f.js","./index.c968c966.js","./Kanban.b92a1720.css"],import.meta.url).then(t=>t.default||t)),z1=Xe(()=>et(()=>import("./Map.d636a93a.js"),["./Map.d636a93a.js","./entry.96205fa0.js","./entry.d09b2482.css","./index.9b87fcff.js","./useMapViewDataStore.adf59320.js","./useSmartsheetStore.7d51347e.js","./views.2c163cf7.js","./bases.965a49bb.js","./index.0c5b3837.js","./useSharedView.9e320acb.js","./index.e034edbd.js","./dataUtils.fb0a3616.js","./geoDataUtils.62b1d864.js","./_plugin-vue_export-helper.c27b6911.js","./Map.59362d04.css"],import.meta.url).then(t=>t.default||t)),V1=Xe(()=>et(()=>import("./Detached.1426d9a2.js"),["./Detached.1426d9a2.js","./entry.96205fa0.js","./entry.d09b2482.css","./index.9578d9a4.js","./index.e034edbd.js"],import.meta.url).then(t=>t.default||t)),J1={style:{height:"calc(100% - var(--topbar-height))"}},Q1={key:0,class:"flex flex-col h-full flex-1 min-w-0"},K1={class:"flex flex-row w-full",style:{height:"calc(100% - var(--topbar-height))"}},W1={key:0,class:"flex flex-1 min-h-0 w-3/4"},G1={class:"h-full flex-1 min-w-0 min-h-0 bg-white"},Y1=At({__name:"Smartsheet",props:{activeTab:{}},setup(t){const e=t,{isUIAllowed:a}=Do(),{metas:n,getMeta:r}=Co();tu("nc-right-sidebar");const s=vl(e,"activeTab"),l=ve([]),o=yl(),h=Le(()=>{const z=o.params.viewId;return z&&n.value[z]}),{handleSidebarOpenOnMobileForNonViews:y}=ru(),{activeTableId:m}=ot(Sr()),{activeView:d,openedViewsTab:v,activeViewTitleOrId:p}=ot(Jt()),{isGallery:c,isGrid:_,isForm:w,isKanban:x,isLocked:C,isMap:$}=Nl(d,h);F1();const R=Ea(),T=Ea(),I=Ea();nu(h,d),au(h,d),vt(ua,h),vt(wn,d),vt(Ro,C),vt(jl,R),vt(Dl,T),vt(Tl,I),vt(Cl,l),vt(Rl,w),vt(Il,s),vt(ql,Le(()=>!a("dataEdit"))),Fl(d,h,()=>R==null?void 0:R.trigger());const L=ve(),V=async z=>{var H,Z,Q,M,D,K,G,ne,X;z.preventDefault();try{const le=JSON.parse(z.dataTransfer.getData("text/json")||"{}");if(le.sourceId!==((H=h.value)==null?void 0:H.source_id)||le.type!=="table"||((Z=h.value)==null?void 0:Z.type)!=="table")return;const te=await r(le.id),ue=n.value[h.value.id];if(!te||!ue)return;const ge=(Q=ue.columns)==null?void 0:Q.find(pe=>pe.pk),Ce=(M=te.columns)==null?void 0:M.find(pe=>pe.pk),we=(D=ue.columns)==null?void 0:D.find(pe=>{if(!bl(pe))return!1;const W=pe.colOptions;return W.type!=="mm"||pe.system?!1:W.fk_related_model_id===te.id});if(we){const pe=((K=te.columns)==null?void 0:K.find(W=>W.pv))??((G=te.columns)==null?void 0:G[0]);(ne=L.value)==null||ne.openColumnCreate({uidt:ze.Lookup,title:`${le.title} Lookup`,fk_relation_column_id:we.id,fk_lookup_column_id:pe==null?void 0:pe.id})}else{if(!ge){Ge.error("Parent table does not have a primary key column");return}if(!Ce){Ge.error("Child table does not have a primary key column");return}(X=L.value)==null||X.openColumnCreate({uidt:ze.Links,title:`${le.title}List`,parentId:ue.id,childId:te.id,parentTable:ue.title,parentColumn:ge.title,childTable:te.title,childColumn:Ce==null?void 0:Ce.title})}}catch(le){console.log("error",le)}};return xt([p,m],()=>{y()}),(z,H)=>{const Z=N1,Q=L1,M=U1,D=H1,K=B1,G=M1,ne=z1,X=A1,le=V1;return U(),_e("div",{class:"nc-container flex flex-col h-full",onDrop:V,onDragover:H[0]||(H[0]=$r(()=>{},["prevent"]))},[N(Z),B("div",J1,[S(v)==="view"?(U(),_e("div",Q1,[S(w)?ye("",!0):(U(),re(Q,{key:0})),B("div",K1,[N(xo,{name:"layout",mode:"out-in"},{default:F(()=>[S(v)==="view"?(U(),_e("div",W1,[B("div",G1,[S(_)||!S(h)||!S(d)?(U(),re(M,{key:0,ref_key:"grid",ref:L},null,512)):ye("",!0),S(d)&&S(h)?(U(),_e(st,{key:1},[S(c)?(U(),re(D,{key:0})):S(w)&&!(z._.provides[gl]||z.$route).query.reload?(U(),re(K,{key:1})):S(x)?(U(),re(G,{key:2})):S($)?(U(),re(ne,{key:3})):ye("",!0)],64)):ye("",!0)])])):ye("",!0)]),_:1})])])):(U(),re(X,{key:1}))]),N(le)],32)}}});const S_=or(Y1,[["__scopeId","data-v-bafd20d5"]]);export{S_ as default};
