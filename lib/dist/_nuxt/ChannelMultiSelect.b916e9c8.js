import{f as x,cS as w,a5 as b,r as d,H as p,e0 as k,o as i,P as m,w as h,c as C,U as V,V as g,O as f,d as L,t as S,W as B}from"./entry.5958c07b.js";import{S as M,_ as y}from"./index.5c6e4286.js";import"./toArray.fd74ce6f.js";import"./antInputDirective.8ac36ea7.js";import"./isMobile.e2e89480.js";import"./useMemo.1dd071d8.js";import"./useState.b891c8bb.js";import"./CheckOutlined.1fe5f230.js";import"./SearchOutlined.a517903c.js";import"./FormItemContext.ddc65fa5.js";const N=x({__name:"ChannelMultiSelect",props:{modelValue:{},availableChannelList:{},placeholder:{}},emits:["update:modelValue"],setup(r,{emit:v}){const c=w(r,["availableChannelList","placeholder"]),_=b(c,"modelValue",v),n=d([]),s=d([]);function u(a){if(a.length){let o=0;s.value=a.map(t=>({...t,idx:o++}));for(const t of c.modelValue||[]){const l=s.value.find(e=>e.webhook_url===t.webhook_url&&e.channel===t.channel);l&&n.value.push(l.idx)}}}return p(()=>r.availableChannelList,(a,o)=>{a!==o&&u(a)}),p(()=>n.value,a=>{const o=[];for(const t of a){const l=s.value.find(e=>e.idx===t);l&&o.push({webhook_url:l.webhook_url,channel:l.channel})}_.value=o}),k(()=>u(r.availableChannelList)),(a,o)=>{const t=M,l=y;return i(),m(l,{value:f(n),"onUpdate:value":o[0]||(o[0]=e=>B(n)?n.value=e:null),mode:"multiple",placeholder:a.placeholder,"max-tag-count":"responsive","dropdown-class-name":"nc-dropdown-webhook-channel"},{default:h(()=>[(i(!0),C(V,null,g(f(s),e=>(i(),m(t,{key:e.idx,value:e.idx},{default:h(()=>[L(S(e.channel),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])}}});export{N as default};
