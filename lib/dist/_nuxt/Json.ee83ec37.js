import{o as n,c as p,a as _,f as T,$ as W,bb as d,r as i,a5 as K,g as U,H as m,cg as G,P as v,w as y,O as t,cb as x,b as h,t as g,T as $,S as Q,W as q,Q as X,a0 as J,a1 as L,a8 as Y}from"./entry.5958c07b.js";import{E as Z,m as ee,c as te,i as se,J as le,z as oe}from"./index.9b87fcff.js";import{u as ne}from"./index.c35df397.js";import{_ as ae}from"./Modal.vue.0f13e4cb.js";import{_ as ie}from"./_plugin-vue_export-helper.c27b6911.js";const re={class:"nc-icon",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},ue=_("path",{fill:"currentColor",d:"M208 48V16H16v192h32V70.627l160.687 160.686l22.626-22.626L70.627 48zm256 256v137.373L299.313 276.687l-22.626 22.626L441.373 464H304v32h192V304z"},null,-1),ce=[ue];function de(a,w){return n(),p("svg",re,[...ce])}const pe={name:"cil-fullscreen",render:de},_e={class:"nc-icon",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},fe=_("path",{fill:"currentColor",d:"M204 181.372L38.628 16H16v22.628L181.372 204H44v32h192V44h-32zM326.628 304H464v-32H272v192h32V326.628L473.372 496H496v-22.628z"},null,-1),me=[fe];function ve(a,w){return n(),p("svg",_e,[...me])}const ye={name:"cil-fullscreen-exit",render:ve},xe=J(()=>L(()=>import("./Editor.9b44aaf8.js"),["./Editor.9b44aaf8.js","./Editor.vue.dc99355a.js","./entry.5958c07b.js","./entry.bdecbb78.css","./deepCompare.d32ec333.js","./workerUtils.cf9cb0a4.js"],import.meta.url).then(a=>a.default||a)),he=J(()=>L(()=>import("./ClampedText.38ef3359.js"),["./ClampedText.38ef3359.js","./entry.5958c07b.js","./entry.bdecbb78.css"],import.meta.url).then(a=>a.default||a)),ge={key:0,class:"flex flex-row my-1"},we={class:"text-xs"},be={class:"text-xs"},ke={key:0,class:"text-xs w-full py-1 text-red-500"},Ce={key:1,class:"nc-null uppercase"},Ve=T({__name:"Json",props:{modelValue:{}},emits:["update:modelValue"],setup(a,{emit:w}){const S=a,M=w,{showNull:j}=W(),r=d(Z,i(!1)),H=d(ee,i(!1)),k=d(te,i(!1)),I=d(se),u=K(S,"modelValue",M),C=i(),c=i(),N=d(le,i(!1)),l=i(!1),O=d(oe,i(void 0)),o=U({get:()=>C.value,set:e=>{C.value=typeof e=="object"?JSON.stringify(e,null,2):e,k.value&&!l.value&&(u.value=e)}}),B=()=>{c.value=void 0,l.value=!1,r.value=!1,o.value=u.value},R=e=>{try{return JSON.stringify(JSON.parse(e))}catch(s){return console.log(s),e}},V=()=>{l.value=!1,r.value=!1,u.value=o&&R(o.value)},z=e=>{try{o.value=typeof e=="string"?JSON.stringify(JSON.parse(e),null,2):e}catch{o.value=e}};m(u,e=>{z(e)},{immediate:!0}),m([o,r],()=>{try{JSON.parse(o.value),c.value=void 0}catch(e){if(o.value===void 0)return;c.value=e}}),m(r,()=>{l.value=!1,z(u.value)}),ne(H,e=>{switch(e.key){case"Enter":if(e.stopPropagation(),e.shiftKey)return!0;r.value?V():r.value=!0;break}});const E=i(null);return G(E,e=>{var s;(s=e.target)!=null&&s.closest(".nc-json-action")||(r.value=!1)}),m(l,()=>{N.value=l.value}),(e,s)=>{const P=ye,A=pe,b=Y,D=xe,F=he;return n(),v(X(t(l)?ae:"div"),{visible:t(l),"onUpdate:visible":s[6]||(s[6]=f=>q(l)?l.value=f:null),closable:!1,centered:"",footer:null,"wrap-class-name":t(l)?"!z-1051":null},{default:y(()=>[t(r)&&!t(I)?(n(),p("div",{key:0,class:"flex flex-col w-full",onMousedown:s[3]||(s[3]=x(()=>{},["stop"])),onMouseup:s[4]||(s[4]=x(()=>{},["stop"])),onClick:s[5]||(s[5]=x(()=>{},["stop"]))},[_("div",{class:"flex flex-row justify-between pt-1 pb-2 nc-json-action",onMousedown:s[1]||(s[1]=x(()=>{},["stop"]))},[h(b,{type:"text",size:"small",onClick:s[0]||(s[0]=f=>l.value=!t(l))},{default:y(()=>[t(l)?(n(),v(P,{key:0,class:"h-2.5"})):(n(),v(A,{key:1,class:"h-2.5"}))]),_:1}),!t(k)||t(l)?(n(),p("div",ge,[h(b,{type:"text",size:"small",onclick:B},{default:y(()=>[_("div",we,g(e.$t("general.cancel")),1)]),_:1}),h(b,{type:"primary",size:"small",disabled:!!t(c)||t(o)===t(u),onClick:V},{default:y(()=>[_("div",be,g(e.$t("general.save")),1)]),_:1},8,["disabled"])])):$("",!0)],32),h(D,{ref_key:"inputWrapperRef",ref:E,"model-value":t(o)||"",class:Q(["min-w-full w-80",{"expanded-editor":t(l),editor:!t(l)}]),"hide-minimap":!0,"disable-deep-compare":!0,"onUpdate:modelValue":s[2]||(s[2]=f=>o.value=f)},null,8,["model-value","class"]),t(c)?(n(),p("span",ke,g(t(c).toString()),1)):$("",!0)],32)):t(u)===null&&t(j)?(n(),p("span",Ce,g(e.$t("general.null")),1)):(n(),v(F,{key:2,value:t(u),lines:t(O)},null,8,["value","lines"]))]),_:1},40,["visible","wrap-class-name"])}}});const Se=ie(Ve,[["__scopeId","data-v-834fc551"]]);export{Se as default};
