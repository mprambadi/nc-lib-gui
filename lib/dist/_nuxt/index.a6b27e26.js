import{dL as L,r as N,O as o,H as S,F as V,d6 as H,g as I,C as D,fE as w,f as z,q as k,o as n,c as h,a as e,b as c,w as r,U as F,V as O,d as $,P as d,Q as p,R as m,t as u,D as x,cb as y,aK as U,ce as q,cf as A}from"./entry.5958c07b.js";import{D as K}from"./index.dc13a4d6.js";import{_ as Q}from"./_plugin-vue_export-helper.c27b6911.js";import"./Dropdown.041b2468.js";import"./RightOutlined.7161c742.js";function R(f){const v=L(),l=N(o(f)),{$state:g}=D();typeof l.value>"u"&&(l.value=g.darkMode.value),v.run(()=>{S(g.darkMode,a=>{typeof l.value>"u"&&(l.value=a)}),V(()=>{const a=o(f);a&&(l.value=a)})}),H(()=>v.stop());const _=I(()=>l.value?w.dark:w.light);return{colors:_,getColorByIndex:a=>_.value[a%_.value.length]}}const G={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 3xl:grid-cols-8 gap-6 md:gap-y-16"},J={class:"group flex flex-col items-center gap-2"},W=["onClick"],X={class:"prose-lg font-semibold"},Y={class:"col-span-10 text-sm xl:text-md"},Z=["innerHTML"],ee=["onClick"],te={class:"grid grid-cols-6 cursor-pointer flex items-center p-2"},oe={class:"col-span-4 text-sm xl:text-md"},se={class:"grid grid-cols-6 cursor-pointer flex items-center p-2"},ne={class:"col-span-4 text-sm xl:text-md"},le={class:"prose-lg font-semibold overflow-ellipsis w-full overflow-hidden text-center capitalize"},ae=z({__name:"index",props:{bases:{default:()=>[]}},emits:["delete-base"],setup(f,{emit:v}){const l=v,{$e:g}=D(),{getColorByIndex:_}=R(!0),a=async t=>{await x(`/nc/${t.id}`),g("a:base:open",{count:f.bases.length})},B=t=>t==null?void 0:t.split(" ").map(i=>i[0]).slice(0,2).join("");return(t,i)=>{const M=k("v-list"),j=k("v-menu"),b=q,P=A,T=K;return n(),h("div",G,[e("div",J,[c(j,null,{activator:r(({props:s})=>[e("div",{class:"thumbnail hover:after:!opacity-100 hover:shadow-lg hover:to-primary/50",style:{"--thumbnail-color":"#1348ba"},onClick:s.onClick},[$(" a "),(n(),d(p(o(m).plus)))],8,W),e("div",X,u(t.$t("title.newProj")),1)]),default:r(()=>[c(M,{class:"!py-0 flex flex-col bg-white rounded-lg shadow-md border-1 border-gray-300 mt-2 ml-2"},{default:r(()=>[e("div",{class:"grid grid-cols-12 cursor-pointer hover:bg-gray-200 flex items-center p-2",onClick:i[0]||(i[0]=s=>o(x)("/base/create"))},[(n(),d(p(o(m).plus),{class:"col-span-2 mr-1 mt-[1px] text-primary text-lg"})),e("div",Y,u(t.$t("activity.createProject")),1)]),e("div",{class:"grid grid-cols-12 cursor-pointer hover:bg-gray-200 flex items-center p-2",onClick:i[1]||(i[1]=s=>o(x)("/base/create-external"))},[(n(),d(p(o(m).dtabase),{class:"col-span-2 mr-1 mt-[1px] text-green-500 text-lg"})),e("div",{class:"col-span-10 text-sm xl:text-md",innerHTML:t.$t("activity.createProjectExtended.extDB")},null,8,Z)])]),_:1})]),_:1})]),(n(!0),h(F,null,O(t.bases,(s,E)=>(n(),h("div",{key:s.id,class:"group flex flex-col items-center gap-2"},[e("div",{class:"thumbnail",style:U({"--thumbnail-color":o(_)(E)}),onClick:C=>a(s)},[$(u(B(s.title))+" ",1),c(T,{"overlay-class-name":"nc-dropdown-base-operations",onClick:i[2]||(i[2]=y(()=>{},["stop"]))},{overlay:r(()=>[c(P,null,{default:r(()=>[c(b,{onClick:y(C=>l("delete-base",s),["stop"])},{default:r(()=>[e("div",te,[(n(),d(p(o(m).delete),{class:"col-span-2 mr-1 mt-[1px] text-red text-lg"})),e("div",oe,u(t.$t("general.delete")),1)])]),_:2},1032,["onClick"]),c(b,{onClick:y(C=>o(x)(`/base/${s.id}`),["stop"])},{default:r(()=>[e("div",se,[(n(),d(p(o(m).edit),{class:"col-span-2 mr-1 mt-[1px] text-primary text-lg"})),e("div",ne,u(t.$t("general.edit")),1)])]),_:2},1032,["onClick"])]),_:2},1024)]),default:r(()=>[(n(),d(p(o(m).arrowDown),{class:"menu-icon"}))]),_:2},1024)],12,ee),e("div",le,u(s.title||"Untitled"),1)]))),128))])}}});const me=Q(ae,[["__scopeId","data-v-fdd6810b"]]);export{me as default};
