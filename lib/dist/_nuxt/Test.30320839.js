import{f as h,M as f,bb as _,r as c,H as k,i as b,o as y,c as v,b as w,O as x,W as M,U as V,a0 as g,a1 as E,a as T,C as P,X as i,Y as W}from"./entry.5958c07b.js";import{M as A}from"./index.9b87fcff.js";const B=g(()=>E(()=>import("./Editor.9b44aaf8.js"),["./Editor.9b44aaf8.js","./Editor.vue.dc99355a.js","./entry.5958c07b.js","./entry.bdecbb78.css","./deepCompare.d32ec333.js","./workerUtils.cf9cb0a4.js"],import.meta.url).then(e=>e.default||e)),C=T("div",{class:"mb-4 font-weight-medium"},"Sample Payload",-1),N=h({__name:"Test",props:{hook:{}},setup(e,{expose:r}){const{t:u}=f(),{$api:n}=P(),s=_(A,c()),t=c();k(()=>{var a;return(a=e.hook)==null?void 0:a.operation},async()=>{await l()});async function l(){var a,o;t.value=await n.dbTableWebhook.samplePayloadGet((a=s==null?void 0:s.value)==null?void 0:a.id,((o=e.hook)==null?void 0:o.operation)||"insert",e.hook.version)}async function d(){var a;try{await n.dbTableWebhook.test((a=s.value)==null?void 0:a.id,{hook:e.hook,payload:t.value}),i.success(u("msg.success.webhookTested"))}catch(o){i.error(await W(o))}}return r({testWebhook:d}),b(async()=>{await l()}),(a,o)=>{const m=B;return y(),v(V,null,[C,w(m,{modelValue:x(t),"onUpdate:modelValue":o[0]||(o[0]=p=>M(t)?t.value=p:null),class:"min-h-60 max-h-80"},null,8,["modelValue"])],64)}}});export{N as default};
