import{f as D,$ as K,bb as c,r as d,a5 as O,g as E,o as f,c as m,O as s,au as R,ey as T,W as z,S as W,bv as a,cb as r,t as F,b as G,a7 as U}from"./entry.96205fa0.js";import{C as H,E as J,r as L,l as Q,c as X}from"./index.9b87fcff.js";import{p as Y}from"./bases.965a49bb.js";import{_ as Z}from"./index.26c1c1ff.js";import{_ as h}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.0c5b3837.js";import"./CheckOutlined.3b90c20d.js";import"./useRefs.3fea1e39.js";const ee=["placeholder"],oe={key:1,class:"nc-null uppercase"},se={key:2,class:"px-2"},te={key:3},le=D({__name:"Percent",props:{modelValue:{}},emits:["update:modelValue"],setup(g,{emit:I}){const k=g,M=I,{showNull:S}=K(),C=c(H),u=c(J),b=c(L,d(!1)),y=O(k,"modelValue",M),v=d(),t=E({get:()=>y.value,set:o=>{o===""?y.value=null:y.value=o}}),p=c(Q,d(!1)),x=c(X),j=o=>!p.value&&!b.value&&!x.value&&(o==null?void 0:o.focus()),_=d(!1),i=d(!1),q=E(()=>{var o;return{is_progress:!1,...Y((o=C.value)==null?void 0:o.meta)}}),V=()=>{u&&(u.value=!1),_.value=!1,i.value=!1},P=()=>{_.value=!0,u.value=!0,i.value=!0},$=()=>{_.value=!0,u.value=!0,i.value=!0,U(()=>{var o,e,l,n;(e=(o=v.value)==null?void 0:o.querySelector("input"))==null||e.focus(),(n=(l=v.value)==null?void 0:l.querySelector("input"))==null||n.select()})},N=()=>{i.value=!0},A=()=>{_.value||(i.value=!1)},B=o=>{if(o.shiftKey&&(p.value||x.value)){o.preventDefault();const e=Array.from(document.querySelectorAll(`${p.value?".nc-expanded-form-row":".nc-form-wrapper"} .nc-data-cell`)).findIndex(l=>l.querySelector(".nc-filter-value-select")===v.value);if(e>=0){const l=document.querySelectorAll(`${p.value?".nc-expanded-form-row":".nc-form-wrapper"} .nc-data-cell`);for(let n=e-1;n>=0;n--){const w=l[n].querySelector('[tabindex="0"]');if(w){w.focus();break}}}}};return(o,e)=>{const l=Z;return f(),m("div",{ref_key:"wrapperRef",ref:v,tabindex:"0",class:"nc-filter-value-select w-full focus:outline-transparent",onMouseover:N,onMouseleave:A,onFocus:$},[s(u)?R((f(),m("input",{key:0,ref:j,"onUpdate:modelValue":e[0]||(e[0]=n=>z(t)?t.value=n:null),class:W(["w-full !text-sm !border-none !outline-none focus:ring-0 text-base py-1",s(p)?"px-2":"px-0"]),type:"number",placeholder:s(b)?o.$t("labels.optional"):"",onBlur:V,onFocus:P,onKeydown:[e[1]||(e[1]=a(r(()=>{},["stop"]),["down"])),e[2]||(e[2]=a(r(()=>{},["stop"]),["left"])),e[3]||(e[3]=a(r(()=>{},["stop"]),["right"])),e[4]||(e[4]=a(r(()=>{},["stop"]),["up"])),e[5]||(e[5]=a(r(()=>{},["stop"]),["delete"])),a(B,["tab"])],onSelectstartCapture:e[6]||(e[6]=r(()=>{},["stop"])),onMousedown:e[7]||(e[7]=r(()=>{},["stop"]))},null,42,ee)),[[T,s(t)]]):s(t)===null&&s(S)?(f(),m("span",oe,F(o.$t("general.null")),1)):s(q).is_progress===!0&&s(t)!==null&&s(t)!==void 0?(f(),m("div",se,[G(l,{percent:Number(parseFloat(s(t).toString()).toFixed(2)),size:"small",status:"normal","stroke-color":"#3366FF","trail-color":"#E5E5E5","show-info":!1},null,8,["percent"])])):(f(),m("span",te,F(s(t))+"Â ",1))],544)}}});const fe=h(le,[["__scopeId","data-v-25fb812e"]]);export{fe as default};
