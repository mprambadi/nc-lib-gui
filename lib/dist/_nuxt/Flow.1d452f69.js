import{_ as np}from"./Icon.vue.129448d5.js";import{f as nu,g as oe,f5 as tp,ba as ap,eZ as br,H as _r,o as j,P as Pe,w as X,a as G,t as yr,O as E,S as ee,b as D,c as H,U as wr,V as Ou,T as qr,eW as ip,C as op,a0 as th,a1 as ah,aF as up,r as ih,aK as Mu,cl as oh,eI as fr,c7 as sp,bB as fp,fo as cp,cG as cr,bu as dp,e4 as lp,ae as hp,d as vp,a9 as pp,W as gp}from"./entry.5958c07b.js";import{_ as _p}from"./TableIcon.vue.694329e0.js";import{_ as mp}from"./Tooltip.vue.092c15c5.js";import{M as bp}from"./index.9b87fcff.js";import{u as uh,a as dr,P as Ne,g as yp,b as wp,i as Pu,c as Nu,M as qp,W as xp,R as Lu,G as Rp,O as Ep,d as Ap}from"./View.vue.611b527c.js";import{_ as Ip}from"./_plugin-vue_export-helper.c27b6911.js";import{b as Sp}from"./bases.e6c8e3c4.js";import"./Overlay.df272e53.js";import"./index.5e1434a7.js";import"./Checkbox.2e7b0035.js";import"./FormItemContext.ddc65fa5.js";import"./createForOfIteratorHelper.33de41ba.js";import"./index.55641318.js";import"./debounce.7c24f171.js";import"./toNumber.e09cd85a.js";import"./isSymbol.114fe557.js";import"./index.0feaca99.js";const Cp=th(()=>ah(()=>import("./Cell.0991f33c.js"),["./Cell.0991f33c.js","./entry.5958c07b.js","./entry.bdecbb78.css","./CellIcon.b1340151.js","./index.9b87fcff.js","./cell.165313cd.js","./bases.e6c8e3c4.js","./index.0feaca99.js","./Tooltip.vue.971897f4.js","./Tooltip.b86f91a1.css","./EditOrAddProvider.vue.31035ffc.js","./Icon.vue.129448d5.js","./Button.vue.c3ca0e8f.js","./index.55641318.js","./debounce.7c24f171.js","./toNumber.e09cd85a.js","./isSymbol.114fe557.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./views.4281cbf1.js","./useSharedView.e8f68616.js","./validation.2de04583.js","./index.b06c8b67.js","./FormItem.0bbf90a3.js","./identity.34c7640e.js","./_getPrototype.c1f3bae2.js","./Col.a97e3e76.js","./responsiveObserve.0baefba6.js","./toArray.fd74ce6f.js","./FormItemContext.ddc65fa5.js","./useSize.fad35fe8.js","./_flatRest.39582a58.js","./isPlainObject.ccda79fe.js","./vuedraggable.umd.00f5fccc.js","./v3-infinite-loading.660bd977.js","./index.dc13a4d6.js","./Dropdown.041b2468.js","./RightOutlined.7161c742.js","./index.ae235b22.js","./Input.dca3a2bc.js","./antInputDirective.8ac36ea7.js","./SearchOutlined.a517903c.js","./TextArea.9074ff05.js","./Password.f52125e7.js","./index.5e1434a7.js","./Checkbox.2e7b0035.js","./createForOfIteratorHelper.33de41ba.js","./index.5c6e4286.js","./isMobile.e2e89480.js","./useMemo.1dd071d8.js","./useState.b891c8bb.js","./CheckOutlined.1fe5f230.js","./EditOrAddProvider.9247d0ff.css","./Cell.14116970.css"],import.meta.url).then(e=>e.default||e)),Tp=th(()=>ah(()=>import("./VirtualCell.276a28e0.js"),["./VirtualCell.276a28e0.js","./entry.5958c07b.js","./entry.bdecbb78.css","./Tooltip.vue.971897f4.js","./Tooltip.b86f91a1.css","./EditOrAddProvider.vue.31035ffc.js","./Icon.vue.129448d5.js","./Button.vue.c3ca0e8f.js","./index.55641318.js","./debounce.7c24f171.js","./toNumber.e09cd85a.js","./isSymbol.114fe557.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./index.9b87fcff.js","./views.4281cbf1.js","./bases.e6c8e3c4.js","./index.0feaca99.js","./useSharedView.e8f68616.js","./validation.2de04583.js","./index.b06c8b67.js","./FormItem.0bbf90a3.js","./identity.34c7640e.js","./_getPrototype.c1f3bae2.js","./Col.a97e3e76.js","./responsiveObserve.0baefba6.js","./toArray.fd74ce6f.js","./FormItemContext.ddc65fa5.js","./useSize.fad35fe8.js","./_flatRest.39582a58.js","./isPlainObject.ccda79fe.js","./vuedraggable.umd.00f5fccc.js","./v3-infinite-loading.660bd977.js","./index.dc13a4d6.js","./Dropdown.041b2468.js","./RightOutlined.7161c742.js","./index.ae235b22.js","./Input.dca3a2bc.js","./antInputDirective.8ac36ea7.js","./SearchOutlined.a517903c.js","./TextArea.9074ff05.js","./Password.f52125e7.js","./cell.165313cd.js","./index.5e1434a7.js","./Checkbox.2e7b0035.js","./createForOfIteratorHelper.33de41ba.js","./index.5c6e4286.js","./isMobile.e2e89480.js","./useMemo.1dd071d8.js","./useState.b891c8bb.js","./CheckOutlined.1fe5f230.js","./EditOrAddProvider.9247d0ff.css","./virtualCell.427fa223.js","./VirtualCell.ff98befc.css"],import.meta.url).then(e=>e.default||e)),kp={class:"capitalize"},Op={key:0},Mp={key:1,class:"py-1 pr-0.5"},Pp=nu({__name:"TableNode",props:{data:{},showSkeleton:{type:Boolean},dragging:{type:Boolean}},setup(e){const{viewport:r}=uh(),n=oe(()=>e.data.table),t=tp(!1,200);ap(bp,n);const{$e:a}=op(),i=s=>s.type==="mm"?s.fk_parent_column_id:s.fk_child_column_id,o=oe(()=>e.data.pkAndFkColumns.length||e.data.nonPkColumns.length),u=oe(()=>e.data.nonPkColumns.filter(s=>!(s.system&&br(s)&&/.*_nc_m2m_.*/.test(s.title))));return _r(()=>r.value.zoom,()=>{t.value=!0}),(s,c)=>{const f=_p,d=Cp,l=Tp,h=mp;return j(),Pe(h,{class:"h-full flex flex-1 justify-center items-center","modifier-key":s.showSkeleton||E(r).zoom>.35?"Alt":void 0,disabled:s.dragging||E(t)},{title:X(()=>[G("div",kp,yr(E(n).table_name),1)]),default:X(()=>[G("div",{class:ee(["relative h-full max-w-76 flex flex-col justify-center bg-white min-w-16 min-h-8 rounded-lg nc-erd-table-node",[`nc-erd-table-node-${E(n).table_name}`,s.showSkeleton?"cursor-pointer items-center min-h-200px min-w-300px":""]]),onClick:c[0]||(c[0]=v=>E(a)("c:erd:node-click"))},[G("div",{class:ee([[(s.showSkeleton,""),(E(o),"")],"text-gray-800 text-sm py-4 border-b-1 border-gray-200 rounded-t-lg w-full h-full px-3 font-medium flex items-center"])},[D(f,{class:ee(["text-primary",{"!text-6xl !w-auto mr-2 !h-18":s.showSkeleton}]),meta:E(n)},null,8,["class","meta"]),G("div",{class:ee([s.showSkeleton?"text-6xl":"","flex pr-2 pl-1"])},yr(E(n).title),3)],2),s.showSkeleton?(j(),H("div",Op,[D(E(dr),{style:{left:"-20px"},class:"opacity-0",position:E(Ne).Left,type:"target",connectable:!1},null,8,["position"]),D(E(dr),{style:{right:"-15px"},class:"opacity-0",position:E(Ne).Right,type:"source",connectable:!1},null,8,["position"])])):E(o)?(j(),H("div",Mp,[(j(!0),H(wr,null,Ou(s.data.pkAndFkColumns,v=>(j(),H("div",{key:v.title,class:ee(["w-full h-full min-w-32 py-2 px-1",`nc-erd-table-node-${E(n).table_name}-column-${v.column_name}`])},[v?(j(),Pe(d,{key:0,class:"nc-erd-table-node-column",column:v,"hide-menu":!0},null,8,["column"])):qr("",!0)],2))),128)),(j(!0),H(wr,null,Ou(E(u),(v,p)=>{var g;return j(),H("div",{key:v.title},[G("div",{class:ee(["relative w-full h-full flex items-center min-w-32 py-2 px-1",p+1===E(u).length?"rounded-b-lg":""])},[E(br)(v)?(j(),H("div",{key:0,class:ee(["flex w-full",`nc-erd-table-node-${E(n).table_name}-column-${(g=v.title)==null?void 0:g.toLowerCase().replace(" ","_")}`])},[D(E(dr),{id:`s-${i(v.colOptions)}-${E(n).id}`,class:"opacity-0 !right-[-1px]",type:"source",position:E(Ne).Right,connectable:!1},null,8,["id","position"]),D(E(dr),{id:`d-${i(v.colOptions)}-${E(n).id}`,class:"opacity-0 !left-[-1px]",type:"target",position:E(Ne).Left,connectable:!1},null,8,["id","position"]),D(l,{class:"nc-erd-table-node-column",column:v,"hide-menu":!0},null,8,["column"])],2)):E(ip)(v)?(j(),Pe(l,{key:1,column:v,"hide-menu":!0,class:ee(`nc-erd-table-node-column nc-erd-table-node-${E(n).table_name}-column-${v.column_name}`)},null,8,["column","class"])):(j(),Pe(d,{key:2,column:v,"hide-menu":!0,class:ee(`nc-erd-table-node-column nc-erd-table-node-${E(n).table_name}-column-${v.column_name}`)},null,8,["column","class"]))],2)])}),128))])):qr("",!0)],2)]),_:1},8,["modifier-key","disabled"])}}});const Np=Ip(Pp,[["__scopeId","data-v-0697ea87"]]),Lp=G("defs",null,[G("linearGradient",{id:"linear-gradient",x1:"-28.83",y1:"770.92",x2:"771.05",y2:"-28.95",gradientUnits:"userSpaceOnUse"},[G("stop",{offset:"0","stop-color":"#06b6d4"}),G("stop",{offset:"0.18","stop-color":"#155e75"}),G("stop",{offset:"0.49","stop-color":"#84cc16"}),G("stop",{offset:"0.88","stop-color":"#10b981"}),G("stop",{offset:"0.99","stop-color":"#047857"})])],-1),$p=["stroke-width","d","marker-end"],Fp=["id","stroke-width","d","marker-end"],jp=["stroke-width","d"],Gp=["x","y","transform"],Dp=["x","y","transform"],Bp=["cx","cy"],Up={inheritAttrs:!1},zp=nu({...Up,__name:"RelationEdge",props:{id:{},sourceX:{},sourceY:{},targetX:{},targetY:{},sourcePosition:{},targetPosition:{},data:{},style:{},selected:{type:Boolean},showSkeleton:{type:Boolean},markerEnd:{},events:{},sourceNode:{},targetNode:{},source:{},target:{},type:{},label:{},sourceHandleId:{},targetHandleId:{},animated:{type:Boolean},updatable:{type:Boolean},markerStart:{},curvature:{},interactionWidth:{},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e){var o,u,s,c;const r=e,n=2,t=up(r,"data"),a=ih(!1),i=oe(()=>{if(t.value.isSelfRelation){const{sourceX:f,sourceY:d,targetX:l,targetY:h}=r,v=(f-l)*.6;return[`M ${f} ${d} A ${v} 50 0 1 0 ${l} ${h}`,NaN,NaN]}return yp({...r})});return(u=(o=r.events)==null?void 0:o.mouseEnter)==null||u.call(o,()=>{a.value=!0}),(c=(s=r.events)==null?void 0:s.mouseLeave)==null||c.call(s,()=>{a.value=!1}),(f,d)=>(j(),H(wr,null,[Lp,D(oh,{name:"layout",duration:50,mode:"in-out"},{default:X(()=>[f.selected||E(a)?(j(),H("path",{key:0,style:{color:"blue"},color:"blue",stroke:"#3366FF","stroke-width":(f.showSkeleton?n*12:n*3)/(f.selected||E(a)?2:1),fill:"none",d:E(i)[0],"marker-end":f.showSkeleton?f.markerEnd:""},null,8,$p)):(j(),H("path",{key:1,id:f.id,stroke:"#898E99",style:Mu(f.style),"stroke-width":f.showSkeleton?n*4:n,fill:"none",d:E(i)[0],"marker-end":f.showSkeleton?f.markerEnd:""},null,12,Fp))]),_:1}),G("path",{class:"opacity-0","stroke-width":f.showSkeleton?n*12:n*8,fill:"none",d:E(i)[0]},null,8,jp),D(E(wp),null,{default:X(()=>[G("div",{style:Mu({position:"absolute",transform:`translate(-50%, -50%) translate(${E(i)[1]}px,${E(i)[2]}px)`,color:"white",fontSize:`${f.showSkeleton?n*2:n/2}rem`,backgroundColor:E(t).color,borderRadius:"0.25rem",padding:"0.25rem 0.5rem"}),class:ee(["nodrag nopan color-transition z-1000",[f.selected||E(a)?"opacity-100":"opacity-0 !pointer-events-none",f.showSkeleton?"!text-6xl":"!text-xs",`nc-erd-table-label-${E(t).label.toLowerCase().replace(" ","-").replace("(","").replace(")","")}`]])},yr(f.showSkeleton?E(t).simpleLabel:E(t).label),7)]),_:1}),f.showSkeleton?qr("",!0):(j(),H(wr,{key:0},[G("rect",{class:"nc-erd-edge-rect",x:f.sourceX,y:f.sourceY-4,width:8,height:8,fill:"#fff",stroke:"#898E99","stroke-width":2,transform:`rotate(45,${f.sourceX+2},${f.sourceY-4})`},null,8,Gp),E(t).isManyToMany?(j(),H("rect",{key:0,class:"nc-erd-edge-rect",x:f.targetX,y:f.targetY-4,width:8,height:8,fill:"#fff",stroke:"#898E99","stroke-width":2,transform:`rotate(45,${f.targetX+2},${f.targetY-4})`},null,8,Dp)):(j(),H("circle",{key:1,class:"nc-erd-edge-circle",cx:f.targetX,cy:f.targetY,fill:"#fff",r:5,stroke:"#898E99","stroke-width":2},null,8,Bp))],64))],64))}});function tu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jr,$u;function Hp(){if($u)return Jr;$u=1;function e(){this.__data__=[],this.size=0}return Jr=e,Jr}var Qr,Fu;function je(){if(Fu)return Qr;Fu=1;function e(r,n){return r===n||r!==r&&n!==n}return Qr=e,Qr}var en,ju;function Mr(){if(ju)return en;ju=1;var e=je();function r(n,t){for(var a=n.length;a--;)if(e(n[a][0],t))return a;return-1}return en=r,en}var rn,Gu;function Vp(){if(Gu)return rn;Gu=1;var e=Mr(),r=Array.prototype,n=r.splice;function t(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():n.call(i,o,1),--this.size,!0}return rn=t,rn}var nn,Du;function Kp(){if(Du)return nn;Du=1;var e=Mr();function r(n){var t=this.__data__,a=e(t,n);return a<0?void 0:t[a][1]}return nn=r,nn}var tn,Bu;function Wp(){if(Bu)return tn;Bu=1;var e=Mr();function r(n){return e(this.__data__,n)>-1}return tn=r,tn}var an,Uu;function Yp(){if(Uu)return an;Uu=1;var e=Mr();function r(n,t){var a=this.__data__,i=e(a,n);return i<0?(++this.size,a.push([n,t])):a[i][1]=t,this}return an=r,an}var on,zu;function Pr(){if(zu)return on;zu=1;var e=Hp(),r=Vp(),n=Kp(),t=Wp(),a=Yp();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var c=o[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=t,i.prototype.set=a,on=i,on}var un,Hu;function Xp(){if(Hu)return un;Hu=1;var e=Pr();function r(){this.__data__=new e,this.size=0}return un=r,un}var sn,Vu;function Zp(){if(Vu)return sn;Vu=1;function e(r){var n=this.__data__,t=n.delete(r);return this.size=n.size,t}return sn=e,sn}var fn,Ku;function Jp(){if(Ku)return fn;Ku=1;function e(r){return this.__data__.get(r)}return fn=e,fn}var cn,Wu;function Qp(){if(Wu)return cn;Wu=1;function e(r){return this.__data__.has(r)}return cn=e,cn}var dn,Yu;function sh(){if(Yu)return dn;Yu=1;var e=typeof fr=="object"&&fr&&fr.Object===Object&&fr;return dn=e,dn}var ln,Xu;function J(){if(Xu)return ln;Xu=1;var e=sh(),r=typeof self=="object"&&self&&self.Object===Object&&self,n=e||r||Function("return this")();return ln=n,ln}var hn,Zu;function Ge(){if(Zu)return hn;Zu=1;var e=J(),r=e.Symbol;return hn=r,hn}var vn,Ju;function eg(){if(Ju)return vn;Ju=1;var e=Ge(),r=Object.prototype,n=r.hasOwnProperty,t=r.toString,a=e?e.toStringTag:void 0;function i(o){var u=n.call(o,a),s=o[a];try{o[a]=void 0;var c=!0}catch{}var f=t.call(o);return c&&(u?o[a]=s:delete o[a]),f}return vn=i,vn}var pn,Qu;function rg(){if(Qu)return pn;Qu=1;var e=Object.prototype,r=e.toString;function n(t){return r.call(t)}return pn=n,pn}var gn,es;function Ee(){if(es)return gn;es=1;var e=Ge(),r=eg(),n=rg(),t="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(u){return u==null?u===void 0?a:t:i&&i in Object(u)?r(u):n(u)}return gn=o,gn}var _n,rs;function K(){if(rs)return _n;rs=1;function e(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}return _n=e,_n}var mn,ns;function Qe(){if(ns)return mn;ns=1;var e=Ee(),r=K(),n="[object AsyncFunction]",t="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(u){if(!r(u))return!1;var s=e(u);return s==t||s==a||s==n||s==i}return mn=o,mn}var bn,ts;function ng(){if(ts)return bn;ts=1;var e=J(),r=e["__core-js_shared__"];return bn=r,bn}var yn,as;function tg(){if(as)return yn;as=1;var e=ng(),r=function(){var t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function n(t){return!!r&&r in t}return yn=n,yn}var wn,is;function fh(){if(is)return wn;is=1;var e=Function.prototype,r=e.toString;function n(t){if(t!=null){try{return r.call(t)}catch{}try{return t+""}catch{}}return""}return wn=n,wn}var qn,os;function ag(){if(os)return qn;os=1;var e=Qe(),r=tg(),n=K(),t=fh(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,s=o.toString,c=u.hasOwnProperty,f=RegExp("^"+s.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(l){if(!n(l)||r(l))return!1;var h=e(l)?f:i;return h.test(t(l))}return qn=d,qn}var xn,us;function ig(){if(us)return xn;us=1;function e(r,n){return r==null?void 0:r[n]}return xn=e,xn}var Rn,ss;function Ae(){if(ss)return Rn;ss=1;var e=ag(),r=ig();function n(t,a){var i=r(t,a);return e(i)?i:void 0}return Rn=n,Rn}var En,fs;function au(){if(fs)return En;fs=1;var e=Ae(),r=J(),n=e(r,"Map");return En=n,En}var An,cs;function Nr(){if(cs)return An;cs=1;var e=Ae(),r=e(Object,"create");return An=r,An}var In,ds;function og(){if(ds)return In;ds=1;var e=Nr();function r(){this.__data__=e?e(null):{},this.size=0}return In=r,In}var Sn,ls;function ug(){if(ls)return Sn;ls=1;function e(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}return Sn=e,Sn}var Cn,hs;function sg(){if(hs)return Cn;hs=1;var e=Nr(),r="__lodash_hash_undefined__",n=Object.prototype,t=n.hasOwnProperty;function a(i){var o=this.__data__;if(e){var u=o[i];return u===r?void 0:u}return t.call(o,i)?o[i]:void 0}return Cn=a,Cn}var Tn,vs;function fg(){if(vs)return Tn;vs=1;var e=Nr(),r=Object.prototype,n=r.hasOwnProperty;function t(a){var i=this.__data__;return e?i[a]!==void 0:n.call(i,a)}return Tn=t,Tn}var kn,ps;function cg(){if(ps)return kn;ps=1;var e=Nr(),r="__lodash_hash_undefined__";function n(t,a){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=e&&a===void 0?r:a,this}return kn=n,kn}var On,gs;function dg(){if(gs)return On;gs=1;var e=og(),r=ug(),n=sg(),t=fg(),a=cg();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var c=o[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=t,i.prototype.set=a,On=i,On}var Mn,_s;function lg(){if(_s)return Mn;_s=1;var e=dg(),r=Pr(),n=au();function t(){this.size=0,this.__data__={hash:new e,map:new(n||r),string:new e}}return Mn=t,Mn}var Pn,ms;function hg(){if(ms)return Pn;ms=1;function e(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}return Pn=e,Pn}var Nn,bs;function Lr(){if(bs)return Nn;bs=1;var e=hg();function r(n,t){var a=n.__data__;return e(t)?a[typeof t=="string"?"string":"hash"]:a.map}return Nn=r,Nn}var Ln,ys;function vg(){if(ys)return Ln;ys=1;var e=Lr();function r(n){var t=e(this,n).delete(n);return this.size-=t?1:0,t}return Ln=r,Ln}var $n,ws;function pg(){if(ws)return $n;ws=1;var e=Lr();function r(n){return e(this,n).get(n)}return $n=r,$n}var Fn,qs;function gg(){if(qs)return Fn;qs=1;var e=Lr();function r(n){return e(this,n).has(n)}return Fn=r,Fn}var jn,xs;function _g(){if(xs)return jn;xs=1;var e=Lr();function r(n,t){var a=e(this,n),i=a.size;return a.set(n,t),this.size+=a.size==i?0:1,this}return jn=r,jn}var Gn,Rs;function iu(){if(Rs)return Gn;Rs=1;var e=lg(),r=vg(),n=pg(),t=gg(),a=_g();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var c=o[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=t,i.prototype.set=a,Gn=i,Gn}var Dn,Es;function mg(){if(Es)return Dn;Es=1;var e=Pr(),r=au(),n=iu(),t=200;function a(i,o){var u=this.__data__;if(u instanceof e){var s=u.__data__;if(!r||s.length<t-1)return s.push([i,o]),this.size=++u.size,this;u=this.__data__=new n(s)}return u.set(i,o),this.size=u.size,this}return Dn=a,Dn}var Bn,As;function $r(){if(As)return Bn;As=1;var e=Pr(),r=Xp(),n=Zp(),t=Jp(),a=Qp(),i=mg();function o(u){var s=this.__data__=new e(u);this.size=s.size}return o.prototype.clear=r,o.prototype.delete=n,o.prototype.get=t,o.prototype.has=a,o.prototype.set=i,Bn=o,Bn}var Un,Is;function ou(){if(Is)return Un;Is=1;function e(r,n){for(var t=-1,a=r==null?0:r.length;++t<a&&n(r[t],t,r)!==!1;);return r}return Un=e,Un}var zn,Ss;function ch(){if(Ss)return zn;Ss=1;var e=Ae(),r=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return zn=r,zn}var Hn,Cs;function Fr(){if(Cs)return Hn;Cs=1;var e=ch();function r(n,t,a){t=="__proto__"&&e?e(n,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[t]=a}return Hn=r,Hn}var Vn,Ts;function jr(){if(Ts)return Vn;Ts=1;var e=Fr(),r=je(),n=Object.prototype,t=n.hasOwnProperty;function a(i,o,u){var s=i[o];(!(t.call(i,o)&&r(s,u))||u===void 0&&!(o in i))&&e(i,o,u)}return Vn=a,Vn}var Kn,ks;function er(){if(ks)return Kn;ks=1;var e=jr(),r=Fr();function n(t,a,i,o){var u=!i;i||(i={});for(var s=-1,c=a.length;++s<c;){var f=a[s],d=o?o(i[f],t[f],f,i,t):void 0;d===void 0&&(d=t[f]),u?r(i,f,d):e(i,f,d)}return i}return Kn=n,Kn}var Wn,Os;function bg(){if(Os)return Wn;Os=1;function e(r,n){for(var t=-1,a=Array(r);++t<r;)a[t]=n(t);return a}return Wn=e,Wn}var Yn,Ms;function te(){if(Ms)return Yn;Ms=1;function e(r){return r!=null&&typeof r=="object"}return Yn=e,Yn}var Xn,Ps;function yg(){if(Ps)return Xn;Ps=1;var e=Ee(),r=te(),n="[object Arguments]";function t(a){return r(a)&&e(a)==n}return Xn=t,Xn}var Zn,Ns;function rr(){if(Ns)return Zn;Ns=1;var e=yg(),r=te(),n=Object.prototype,t=n.hasOwnProperty,a=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(o){return r(o)&&t.call(o,"callee")&&!a.call(o,"callee")};return Zn=i,Zn}var Jn,Ls;function F(){if(Ls)return Jn;Ls=1;var e=Array.isArray;return Jn=e,Jn}var ze={exports:{}},Qn,$s;function wg(){if($s)return Qn;$s=1;function e(){return!1}return Qn=e,Qn}ze.exports;var Fs;function De(){return Fs||(Fs=1,function(e,r){var n=J(),t=wg(),a=r&&!r.nodeType&&r,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,u=o?n.Buffer:void 0,s=u?u.isBuffer:void 0,c=s||t;e.exports=c}(ze,ze.exports)),ze.exports}var et,js;function Gr(){if(js)return et;js=1;var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(t,a){var i=typeof t;return a=a??e,!!a&&(i=="number"||i!="symbol"&&r.test(t))&&t>-1&&t%1==0&&t<a}return et=n,et}var rt,Gs;function uu(){if(Gs)return rt;Gs=1;var e=9007199254740991;function r(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return rt=r,rt}var nt,Ds;function qg(){if(Ds)return nt;Ds=1;var e=Ee(),r=uu(),n=te(),t="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",u="[object Error]",s="[object Function]",c="[object Map]",f="[object Number]",d="[object Object]",l="[object RegExp]",h="[object Set]",v="[object String]",p="[object WeakMap]",g="[object ArrayBuffer]",_="[object DataView]",m="[object Float32Array]",b="[object Float64Array]",R="[object Int8Array]",q="[object Int16Array]",x="[object Int32Array]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",T="[object Uint32Array]",y={};y[m]=y[b]=y[R]=y[q]=y[x]=y[w]=y[A]=y[S]=y[T]=!0,y[t]=y[a]=y[g]=y[i]=y[_]=y[o]=y[u]=y[s]=y[c]=y[f]=y[d]=y[l]=y[h]=y[v]=y[p]=!1;function I(k){return n(k)&&r(k.length)&&!!y[e(k)]}return nt=I,nt}var tt,Bs;function Dr(){if(Bs)return tt;Bs=1;function e(r){return function(n){return r(n)}}return tt=e,tt}var He={exports:{}};He.exports;var Us;function su(){return Us||(Us=1,function(e,r){var n=sh(),t=r&&!r.nodeType&&r,a=t&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===t,o=i&&n.process,u=function(){try{var s=a&&a.require&&a.require("util").types;return s||o&&o.binding&&o.binding("util")}catch{}}();e.exports=u}(He,He.exports)),He.exports}var at,zs;function nr(){if(zs)return at;zs=1;var e=qg(),r=Dr(),n=su(),t=n&&n.isTypedArray,a=t?r(t):e;return at=a,at}var it,Hs;function dh(){if(Hs)return it;Hs=1;var e=bg(),r=rr(),n=F(),t=De(),a=Gr(),i=nr(),o=Object.prototype,u=o.hasOwnProperty;function s(c,f){var d=n(c),l=!d&&r(c),h=!d&&!l&&t(c),v=!d&&!l&&!h&&i(c),p=d||l||h||v,g=p?e(c.length,String):[],_=g.length;for(var m in c)(f||u.call(c,m))&&!(p&&(m=="length"||h&&(m=="offset"||m=="parent")||v&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||a(m,_)))&&g.push(m);return g}return it=s,it}var ot,Vs;function Br(){if(Vs)return ot;Vs=1;var e=Object.prototype;function r(n){var t=n&&n.constructor,a=typeof t=="function"&&t.prototype||e;return n===a}return ot=r,ot}var ut,Ks;function lh(){if(Ks)return ut;Ks=1;function e(r,n){return function(t){return r(n(t))}}return ut=e,ut}var st,Ws;function xg(){if(Ws)return st;Ws=1;var e=lh(),r=e(Object.keys,Object);return st=r,st}var ft,Ys;function fu(){if(Ys)return ft;Ys=1;var e=Br(),r=xg(),n=Object.prototype,t=n.hasOwnProperty;function a(i){if(!e(i))return r(i);var o=[];for(var u in Object(i))t.call(i,u)&&u!="constructor"&&o.push(u);return o}return ft=a,ft}var ct,Xs;function ce(){if(Xs)return ct;Xs=1;var e=Qe(),r=uu();function n(t){return t!=null&&r(t.length)&&!e(t)}return ct=n,ct}var dt,Zs;function be(){if(Zs)return dt;Zs=1;var e=dh(),r=fu(),n=ce();function t(a){return n(a)?e(a):r(a)}return dt=t,dt}var lt,Js;function Rg(){if(Js)return lt;Js=1;var e=er(),r=be();function n(t,a){return t&&e(a,r(a),t)}return lt=n,lt}var ht,Qs;function Eg(){if(Qs)return ht;Qs=1;function e(r){var n=[];if(r!=null)for(var t in Object(r))n.push(t);return n}return ht=e,ht}var vt,ef;function Ag(){if(ef)return vt;ef=1;var e=K(),r=Br(),n=Eg(),t=Object.prototype,a=t.hasOwnProperty;function i(o){if(!e(o))return n(o);var u=r(o),s=[];for(var c in o)c=="constructor"&&(u||!a.call(o,c))||s.push(c);return s}return vt=i,vt}var pt,rf;function Ie(){if(rf)return pt;rf=1;var e=dh(),r=Ag(),n=ce();function t(a){return n(a)?e(a,!0):r(a)}return pt=t,pt}var gt,nf;function Ig(){if(nf)return gt;nf=1;var e=er(),r=Ie();function n(t,a){return t&&e(a,r(a),t)}return gt=n,gt}var Ve={exports:{}};Ve.exports;var tf;function hh(){return tf||(tf=1,function(e,r){var n=J(),t=r&&!r.nodeType&&r,a=t&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===t,o=i?n.Buffer:void 0,u=o?o.allocUnsafe:void 0;function s(c,f){if(f)return c.slice();var d=c.length,l=u?u(d):new c.constructor(d);return c.copy(l),l}e.exports=s}(Ve,Ve.exports)),Ve.exports}var _t,af;function vh(){if(af)return _t;af=1;function e(r,n){var t=-1,a=r.length;for(n||(n=Array(a));++t<a;)n[t]=r[t];return n}return _t=e,_t}var mt,of;function ph(){if(of)return mt;of=1;function e(r,n){for(var t=-1,a=r==null?0:r.length,i=0,o=[];++t<a;){var u=r[t];n(u,t,r)&&(o[i++]=u)}return o}return mt=e,mt}var bt,uf;function gh(){if(uf)return bt;uf=1;function e(){return[]}return bt=e,bt}var yt,sf;function cu(){if(sf)return yt;sf=1;var e=ph(),r=gh(),n=Object.prototype,t=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(u){return t.call(o,u)}))}:r;return yt=i,yt}var wt,ff;function Sg(){if(ff)return wt;ff=1;var e=er(),r=cu();function n(t,a){return e(t,r(t),a)}return wt=n,wt}var qt,cf;function du(){if(cf)return qt;cf=1;function e(r,n){for(var t=-1,a=n.length,i=r.length;++t<a;)r[i+t]=n[t];return r}return qt=e,qt}var xt,df;function Ur(){if(df)return xt;df=1;var e=lh(),r=e(Object.getPrototypeOf,Object);return xt=r,xt}var Rt,lf;function _h(){if(lf)return Rt;lf=1;var e=du(),r=Ur(),n=cu(),t=gh(),a=Object.getOwnPropertySymbols,i=a?function(o){for(var u=[];o;)e(u,n(o)),o=r(o);return u}:t;return Rt=i,Rt}var Et,hf;function Cg(){if(hf)return Et;hf=1;var e=er(),r=_h();function n(t,a){return e(t,r(t),a)}return Et=n,Et}var At,vf;function mh(){if(vf)return At;vf=1;var e=du(),r=F();function n(t,a,i){var o=a(t);return r(t)?o:e(o,i(t))}return At=n,At}var It,pf;function bh(){if(pf)return It;pf=1;var e=mh(),r=cu(),n=be();function t(a){return e(a,n,r)}return It=t,It}var St,gf;function Tg(){if(gf)return St;gf=1;var e=mh(),r=_h(),n=Ie();function t(a){return e(a,n,r)}return St=t,St}var Ct,_f;function kg(){if(_f)return Ct;_f=1;var e=Ae(),r=J(),n=e(r,"DataView");return Ct=n,Ct}var Tt,mf;function Og(){if(mf)return Tt;mf=1;var e=Ae(),r=J(),n=e(r,"Promise");return Tt=n,Tt}var kt,bf;function yh(){if(bf)return kt;bf=1;var e=Ae(),r=J(),n=e(r,"Set");return kt=n,kt}var Ot,yf;function Mg(){if(yf)return Ot;yf=1;var e=Ae(),r=J(),n=e(r,"WeakMap");return Ot=n,Ot}var Mt,wf;function Be(){if(wf)return Mt;wf=1;var e=kg(),r=au(),n=Og(),t=yh(),a=Mg(),i=Ee(),o=fh(),u="[object Map]",s="[object Object]",c="[object Promise]",f="[object Set]",d="[object WeakMap]",l="[object DataView]",h=o(e),v=o(r),p=o(n),g=o(t),_=o(a),m=i;return(e&&m(new e(new ArrayBuffer(1)))!=l||r&&m(new r)!=u||n&&m(n.resolve())!=c||t&&m(new t)!=f||a&&m(new a)!=d)&&(m=function(b){var R=i(b),q=R==s?b.constructor:void 0,x=q?o(q):"";if(x)switch(x){case h:return l;case v:return u;case p:return c;case g:return f;case _:return d}return R}),Mt=m,Mt}var Pt,qf;function Pg(){if(qf)return Pt;qf=1;var e=Object.prototype,r=e.hasOwnProperty;function n(t){var a=t.length,i=new t.constructor(a);return a&&typeof t[0]=="string"&&r.call(t,"index")&&(i.index=t.index,i.input=t.input),i}return Pt=n,Pt}var Nt,xf;function wh(){if(xf)return Nt;xf=1;var e=J(),r=e.Uint8Array;return Nt=r,Nt}var Lt,Rf;function lu(){if(Rf)return Lt;Rf=1;var e=wh();function r(n){var t=new n.constructor(n.byteLength);return new e(t).set(new e(n)),t}return Lt=r,Lt}var $t,Ef;function Ng(){if(Ef)return $t;Ef=1;var e=lu();function r(n,t){var a=t?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return $t=r,$t}var Ft,Af;function Lg(){if(Af)return Ft;Af=1;var e=/\w*$/;function r(n){var t=new n.constructor(n.source,e.exec(n));return t.lastIndex=n.lastIndex,t}return Ft=r,Ft}var jt,If;function $g(){if(If)return jt;If=1;var e=Ge(),r=e?e.prototype:void 0,n=r?r.valueOf:void 0;function t(a){return n?Object(n.call(a)):{}}return jt=t,jt}var Gt,Sf;function qh(){if(Sf)return Gt;Sf=1;var e=lu();function r(n,t){var a=t?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return Gt=r,Gt}var Dt,Cf;function Fg(){if(Cf)return Dt;Cf=1;var e=lu(),r=Ng(),n=Lg(),t=$g(),a=qh(),i="[object Boolean]",o="[object Date]",u="[object Map]",s="[object Number]",c="[object RegExp]",f="[object Set]",d="[object String]",l="[object Symbol]",h="[object ArrayBuffer]",v="[object DataView]",p="[object Float32Array]",g="[object Float64Array]",_="[object Int8Array]",m="[object Int16Array]",b="[object Int32Array]",R="[object Uint8Array]",q="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]";function A(S,T,y){var I=S.constructor;switch(T){case h:return e(S);case i:case o:return new I(+S);case v:return r(S,y);case p:case g:case _:case m:case b:case R:case q:case x:case w:return a(S,y);case u:return new I;case s:case d:return new I(S);case c:return n(S);case f:return new I;case l:return t(S)}}return Dt=A,Dt}var Bt,Tf;function xh(){if(Tf)return Bt;Tf=1;var e=K(),r=Object.create,n=function(){function t(){}return function(a){if(!e(a))return{};if(r)return r(a);t.prototype=a;var i=new t;return t.prototype=void 0,i}}();return Bt=n,Bt}var Ut,kf;function Rh(){if(kf)return Ut;kf=1;var e=xh(),r=Ur(),n=Br();function t(a){return typeof a.constructor=="function"&&!n(a)?e(r(a)):{}}return Ut=t,Ut}var zt,Of;function jg(){if(Of)return zt;Of=1;var e=Be(),r=te(),n="[object Map]";function t(a){return r(a)&&e(a)==n}return zt=t,zt}var Ht,Mf;function Gg(){if(Mf)return Ht;Mf=1;var e=jg(),r=Dr(),n=su(),t=n&&n.isMap,a=t?r(t):e;return Ht=a,Ht}var Vt,Pf;function Dg(){if(Pf)return Vt;Pf=1;var e=Be(),r=te(),n="[object Set]";function t(a){return r(a)&&e(a)==n}return Vt=t,Vt}var Kt,Nf;function Bg(){if(Nf)return Kt;Nf=1;var e=Dg(),r=Dr(),n=su(),t=n&&n.isSet,a=t?r(t):e;return Kt=a,Kt}var Wt,Lf;function Eh(){if(Lf)return Wt;Lf=1;var e=$r(),r=ou(),n=jr(),t=Rg(),a=Ig(),i=hh(),o=vh(),u=Sg(),s=Cg(),c=bh(),f=Tg(),d=Be(),l=Pg(),h=Fg(),v=Rh(),p=F(),g=De(),_=Gg(),m=K(),b=Bg(),R=be(),q=Ie(),x=1,w=2,A=4,S="[object Arguments]",T="[object Array]",y="[object Boolean]",I="[object Date]",k="[object Error]",$="[object Function]",ae="[object GeneratorFunction]",le="[object Map]",Te="[object Number]",ye="[object Object]",Y="[object RegExp]",Fv="[object Set]",jv="[object String]",Gv="[object Symbol]",Dv="[object WeakMap]",Bv="[object ArrayBuffer]",Uv="[object DataView]",zv="[object Float32Array]",Hv="[object Float64Array]",Vv="[object Int8Array]",Kv="[object Int16Array]",Wv="[object Int32Array]",Yv="[object Uint8Array]",Xv="[object Uint8ClampedArray]",Zv="[object Uint16Array]",Jv="[object Uint32Array]",N={};N[S]=N[T]=N[Bv]=N[Uv]=N[y]=N[I]=N[zv]=N[Hv]=N[Vv]=N[Kv]=N[Wv]=N[le]=N[Te]=N[ye]=N[Y]=N[Fv]=N[jv]=N[Gv]=N[Yv]=N[Xv]=N[Zv]=N[Jv]=!0,N[k]=N[$]=N[Dv]=!1;function ir(P,ke,Oe,Qv,or,he){var B,ur=ke&x,sr=ke&w,ep=ke&A;if(Oe&&(B=or?Oe(P,Qv,or,he):Oe(P)),B!==void 0)return B;if(!m(P))return P;var Su=p(P);if(Su){if(B=l(P),!ur)return o(P,B)}else{var Me=d(P),Cu=Me==$||Me==ae;if(g(P))return i(P,ur);if(Me==ye||Me==S||Cu&&!or){if(B=sr||Cu?{}:v(P),!ur)return sr?s(P,a(B,P)):u(P,t(B,P))}else{if(!N[Me])return or?P:{};B=h(P,Me,ur)}}he||(he=new e);var Tu=he.get(P);if(Tu)return Tu;he.set(P,B),b(P)?P.forEach(function(ve){B.add(ir(ve,ke,Oe,ve,P,he))}):_(P)&&P.forEach(function(ve,we){B.set(we,ir(ve,ke,Oe,we,P,he))});var rp=ep?sr?f:c:sr?q:R,ku=Su?void 0:rp(P);return r(ku||P,function(ve,we){ku&&(we=ve,ve=P[we]),n(B,we,ir(ve,ke,Oe,we,P,he))}),B}return Wt=ir,Wt}var Yt,$f;function Ug(){if($f)return Yt;$f=1;var e=Eh(),r=4;function n(t){return e(t,r)}return Yt=n,Yt}var Xt,Ff;function hu(){if(Ff)return Xt;Ff=1;function e(r){return function(){return r}}return Xt=e,Xt}var Zt,jf;function zg(){if(jf)return Zt;jf=1;function e(r){return function(n,t,a){for(var i=-1,o=Object(n),u=a(n),s=u.length;s--;){var c=u[r?s:++i];if(t(o[c],c,o)===!1)break}return n}}return Zt=e,Zt}var Jt,Gf;function vu(){if(Gf)return Jt;Gf=1;var e=zg(),r=e();return Jt=r,Jt}var Qt,Df;function pu(){if(Df)return Qt;Df=1;var e=vu(),r=be();function n(t,a){return t&&e(t,a,r)}return Qt=n,Qt}var ea,Bf;function Hg(){if(Bf)return ea;Bf=1;var e=ce();function r(n,t){return function(a,i){if(a==null)return a;if(!e(a))return n(a,i);for(var o=a.length,u=t?o:-1,s=Object(a);(t?u--:++u<o)&&i(s[u],u,s)!==!1;);return a}}return ea=r,ea}var ra,Uf;function zr(){if(Uf)return ra;Uf=1;var e=pu(),r=Hg(),n=r(e);return ra=n,ra}var na,zf;function Se(){if(zf)return na;zf=1;function e(r){return r}return na=e,na}var ta,Hf;function Ah(){if(Hf)return ta;Hf=1;var e=Se();function r(n){return typeof n=="function"?n:e}return ta=r,ta}var aa,Vf;function Ih(){if(Vf)return aa;Vf=1;var e=ou(),r=zr(),n=Ah(),t=F();function a(i,o){var u=t(i)?e:r;return u(i,n(o))}return aa=a,aa}var ia,Kf;function Sh(){return Kf||(Kf=1,ia=Ih()),ia}var oa,Wf;function Vg(){if(Wf)return oa;Wf=1;var e=zr();function r(n,t){var a=[];return e(n,function(i,o,u){t(i,o,u)&&a.push(i)}),a}return oa=r,oa}var ua,Yf;function Kg(){if(Yf)return ua;Yf=1;var e="__lodash_hash_undefined__";function r(n){return this.__data__.set(n,e),this}return ua=r,ua}var sa,Xf;function Wg(){if(Xf)return sa;Xf=1;function e(r){return this.__data__.has(r)}return sa=e,sa}var fa,Zf;function Ch(){if(Zf)return fa;Zf=1;var e=iu(),r=Kg(),n=Wg();function t(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return t.prototype.add=t.prototype.push=r,t.prototype.has=n,fa=t,fa}var ca,Jf;function Yg(){if(Jf)return ca;Jf=1;function e(r,n){for(var t=-1,a=r==null?0:r.length;++t<a;)if(n(r[t],t,r))return!0;return!1}return ca=e,ca}var da,Qf;function Th(){if(Qf)return da;Qf=1;function e(r,n){return r.has(n)}return da=e,da}var la,ec;function kh(){if(ec)return la;ec=1;var e=Ch(),r=Yg(),n=Th(),t=1,a=2;function i(o,u,s,c,f,d){var l=s&t,h=o.length,v=u.length;if(h!=v&&!(l&&v>h))return!1;var p=d.get(o),g=d.get(u);if(p&&g)return p==u&&g==o;var _=-1,m=!0,b=s&a?new e:void 0;for(d.set(o,u),d.set(u,o);++_<h;){var R=o[_],q=u[_];if(c)var x=l?c(q,R,_,u,o,d):c(R,q,_,o,u,d);if(x!==void 0){if(x)continue;m=!1;break}if(b){if(!r(u,function(w,A){if(!n(b,A)&&(R===w||f(R,w,s,c,d)))return b.push(A)})){m=!1;break}}else if(!(R===q||f(R,q,s,c,d))){m=!1;break}}return d.delete(o),d.delete(u),m}return la=i,la}var ha,rc;function Xg(){if(rc)return ha;rc=1;function e(r){var n=-1,t=Array(r.size);return r.forEach(function(a,i){t[++n]=[i,a]}),t}return ha=e,ha}var va,nc;function gu(){if(nc)return va;nc=1;function e(r){var n=-1,t=Array(r.size);return r.forEach(function(a){t[++n]=a}),t}return va=e,va}var pa,tc;function Zg(){if(tc)return pa;tc=1;var e=Ge(),r=wh(),n=je(),t=kh(),a=Xg(),i=gu(),o=1,u=2,s="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Map]",l="[object Number]",h="[object RegExp]",v="[object Set]",p="[object String]",g="[object Symbol]",_="[object ArrayBuffer]",m="[object DataView]",b=e?e.prototype:void 0,R=b?b.valueOf:void 0;function q(x,w,A,S,T,y,I){switch(A){case m:if(x.byteLength!=w.byteLength||x.byteOffset!=w.byteOffset)return!1;x=x.buffer,w=w.buffer;case _:return!(x.byteLength!=w.byteLength||!y(new r(x),new r(w)));case s:case c:case l:return n(+x,+w);case f:return x.name==w.name&&x.message==w.message;case h:case p:return x==w+"";case d:var k=a;case v:var $=S&o;if(k||(k=i),x.size!=w.size&&!$)return!1;var ae=I.get(x);if(ae)return ae==w;S|=u,I.set(x,w);var le=t(k(x),k(w),S,T,y,I);return I.delete(x),le;case g:if(R)return R.call(x)==R.call(w)}return!1}return pa=q,pa}var ga,ac;function Jg(){if(ac)return ga;ac=1;var e=bh(),r=1,n=Object.prototype,t=n.hasOwnProperty;function a(i,o,u,s,c,f){var d=u&r,l=e(i),h=l.length,v=e(o),p=v.length;if(h!=p&&!d)return!1;for(var g=h;g--;){var _=l[g];if(!(d?_ in o:t.call(o,_)))return!1}var m=f.get(i),b=f.get(o);if(m&&b)return m==o&&b==i;var R=!0;f.set(i,o),f.set(o,i);for(var q=d;++g<h;){_=l[g];var x=i[_],w=o[_];if(s)var A=d?s(w,x,_,o,i,f):s(x,w,_,i,o,f);if(!(A===void 0?x===w||c(x,w,u,s,f):A)){R=!1;break}q||(q=_=="constructor")}if(R&&!q){var S=i.constructor,T=o.constructor;S!=T&&"constructor"in i&&"constructor"in o&&!(typeof S=="function"&&S instanceof S&&typeof T=="function"&&T instanceof T)&&(R=!1)}return f.delete(i),f.delete(o),R}return ga=a,ga}var _a,ic;function Qg(){if(ic)return _a;ic=1;var e=$r(),r=kh(),n=Zg(),t=Jg(),a=Be(),i=F(),o=De(),u=nr(),s=1,c="[object Arguments]",f="[object Array]",d="[object Object]",l=Object.prototype,h=l.hasOwnProperty;function v(p,g,_,m,b,R){var q=i(p),x=i(g),w=q?f:a(p),A=x?f:a(g);w=w==c?d:w,A=A==c?d:A;var S=w==d,T=A==d,y=w==A;if(y&&o(p)){if(!o(g))return!1;q=!0,S=!1}if(y&&!S)return R||(R=new e),q||u(p)?r(p,g,_,m,b,R):n(p,g,w,_,m,b,R);if(!(_&s)){var I=S&&h.call(p,"__wrapped__"),k=T&&h.call(g,"__wrapped__");if(I||k){var $=I?p.value():p,ae=k?g.value():g;return R||(R=new e),b($,ae,_,m,R)}}return y?(R||(R=new e),t(p,g,_,m,b,R)):!1}return _a=v,_a}var ma,oc;function Oh(){if(oc)return ma;oc=1;var e=Qg(),r=te();function n(t,a,i,o,u){return t===a?!0:t==null||a==null||!r(t)&&!r(a)?t!==t&&a!==a:e(t,a,i,o,n,u)}return ma=n,ma}var ba,uc;function e_(){if(uc)return ba;uc=1;var e=$r(),r=Oh(),n=1,t=2;function a(i,o,u,s){var c=u.length,f=c,d=!s;if(i==null)return!f;for(i=Object(i);c--;){var l=u[c];if(d&&l[2]?l[1]!==i[l[0]]:!(l[0]in i))return!1}for(;++c<f;){l=u[c];var h=l[0],v=i[h],p=l[1];if(d&&l[2]){if(v===void 0&&!(h in i))return!1}else{var g=new e;if(s)var _=s(v,p,h,i,o,g);if(!(_===void 0?r(p,v,n|t,s,g):_))return!1}}return!0}return ba=a,ba}var ya,sc;function Mh(){if(sc)return ya;sc=1;var e=K();function r(n){return n===n&&!e(n)}return ya=r,ya}var wa,fc;function r_(){if(fc)return wa;fc=1;var e=Mh(),r=be();function n(t){for(var a=r(t),i=a.length;i--;){var o=a[i],u=t[o];a[i]=[o,u,e(u)]}return a}return wa=n,wa}var qa,cc;function Ph(){if(cc)return qa;cc=1;function e(r,n){return function(t){return t==null?!1:t[r]===n&&(n!==void 0||r in Object(t))}}return qa=e,qa}var xa,dc;function n_(){if(dc)return xa;dc=1;var e=e_(),r=r_(),n=Ph();function t(a){var i=r(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return xa=t,xa}var Ra,lc;function Ue(){if(lc)return Ra;lc=1;var e=Ee(),r=te(),n="[object Symbol]";function t(a){return typeof a=="symbol"||r(a)&&e(a)==n}return Ra=t,Ra}var Ea,hc;function _u(){if(hc)return Ea;hc=1;var e=F(),r=Ue(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t=/^\w*$/;function a(i,o){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||r(i)?!0:t.test(i)||!n.test(i)||o!=null&&i in Object(o)}return Ea=a,Ea}var Aa,vc;function t_(){if(vc)return Aa;vc=1;var e=iu(),r="Expected a function";function n(t,a){if(typeof t!="function"||a!=null&&typeof a!="function")throw new TypeError(r);var i=function(){var o=arguments,u=a?a.apply(this,o):o[0],s=i.cache;if(s.has(u))return s.get(u);var c=t.apply(this,o);return i.cache=s.set(u,c)||s,c};return i.cache=new(n.Cache||e),i}return n.Cache=e,Aa=n,Aa}var Ia,pc;function a_(){if(pc)return Ia;pc=1;var e=t_(),r=500;function n(t){var a=e(t,function(o){return i.size===r&&i.clear(),o}),i=a.cache;return a}return Ia=n,Ia}var Sa,gc;function i_(){if(gc)return Sa;gc=1;var e=a_(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,t=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(r,function(o,u,s,c){i.push(s?c.replace(n,"$1"):u||o)}),i});return Sa=t,Sa}var Ca,_c;function Hr(){if(_c)return Ca;_c=1;function e(r,n){for(var t=-1,a=r==null?0:r.length,i=Array(a);++t<a;)i[t]=n(r[t],t,r);return i}return Ca=e,Ca}var Ta,mc;function o_(){if(mc)return Ta;mc=1;var e=Ge(),r=Hr(),n=F(),t=Ue(),a=1/0,i=e?e.prototype:void 0,o=i?i.toString:void 0;function u(s){if(typeof s=="string")return s;if(n(s))return r(s,u)+"";if(t(s))return o?o.call(s):"";var c=s+"";return c=="0"&&1/s==-a?"-0":c}return Ta=u,Ta}var ka,bc;function Nh(){if(bc)return ka;bc=1;var e=o_();function r(n){return n==null?"":e(n)}return ka=r,ka}var Oa,yc;function Vr(){if(yc)return Oa;yc=1;var e=F(),r=_u(),n=i_(),t=Nh();function a(i,o){return e(i)?i:r(i,o)?[i]:n(t(i))}return Oa=a,Oa}var Ma,wc;function tr(){if(wc)return Ma;wc=1;var e=Ue(),r=1/0;function n(t){if(typeof t=="string"||e(t))return t;var a=t+"";return a=="0"&&1/t==-r?"-0":a}return Ma=n,Ma}var Pa,qc;function Kr(){if(qc)return Pa;qc=1;var e=Vr(),r=tr();function n(t,a){a=e(a,t);for(var i=0,o=a.length;t!=null&&i<o;)t=t[r(a[i++])];return i&&i==o?t:void 0}return Pa=n,Pa}var Na,xc;function u_(){if(xc)return Na;xc=1;var e=Kr();function r(n,t,a){var i=n==null?void 0:e(n,t);return i===void 0?a:i}return Na=r,Na}var La,Rc;function s_(){if(Rc)return La;Rc=1;function e(r,n){return r!=null&&n in Object(r)}return La=e,La}var $a,Ec;function Lh(){if(Ec)return $a;Ec=1;var e=Vr(),r=rr(),n=F(),t=Gr(),a=uu(),i=tr();function o(u,s,c){s=e(s,u);for(var f=-1,d=s.length,l=!1;++f<d;){var h=i(s[f]);if(!(l=u!=null&&c(u,h)))break;u=u[h]}return l||++f!=d?l:(d=u==null?0:u.length,!!d&&a(d)&&t(h,d)&&(n(u)||r(u)))}return $a=o,$a}var Fa,Ac;function $h(){if(Ac)return Fa;Ac=1;var e=s_(),r=Lh();function n(t,a){return t!=null&&r(t,a,e)}return Fa=n,Fa}var ja,Ic;function f_(){if(Ic)return ja;Ic=1;var e=Oh(),r=u_(),n=$h(),t=_u(),a=Mh(),i=Ph(),o=tr(),u=1,s=2;function c(f,d){return t(f)&&a(d)?i(o(f),d):function(l){var h=r(l,f);return h===void 0&&h===d?n(l,f):e(d,h,u|s)}}return ja=c,ja}var Ga,Sc;function Fh(){if(Sc)return Ga;Sc=1;function e(r){return function(n){return n==null?void 0:n[r]}}return Ga=e,Ga}var Da,Cc;function c_(){if(Cc)return Da;Cc=1;var e=Kr();function r(n){return function(t){return e(t,n)}}return Da=r,Da}var Ba,Tc;function d_(){if(Tc)return Ba;Tc=1;var e=Fh(),r=c_(),n=_u(),t=tr();function a(i){return n(i)?e(t(i)):r(i)}return Ba=a,Ba}var Ua,kc;function de(){if(kc)return Ua;kc=1;var e=n_(),r=f_(),n=Se(),t=F(),a=d_();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?t(o)?r(o[0],o[1]):e(o):a(o)}return Ua=i,Ua}var za,Oc;function jh(){if(Oc)return za;Oc=1;var e=ph(),r=Vg(),n=de(),t=F();function a(i,o){var u=t(i)?e:r;return u(i,n(o,3))}return za=a,za}var Ha,Mc;function l_(){if(Mc)return Ha;Mc=1;var e=Object.prototype,r=e.hasOwnProperty;function n(t,a){return t!=null&&r.call(t,a)}return Ha=n,Ha}var Va,Pc;function Gh(){if(Pc)return Va;Pc=1;var e=l_(),r=Lh();function n(t,a){return t!=null&&r(t,a,e)}return Va=n,Va}var Ka,Nc;function h_(){if(Nc)return Ka;Nc=1;var e=fu(),r=Be(),n=rr(),t=F(),a=ce(),i=De(),o=Br(),u=nr(),s="[object Map]",c="[object Set]",f=Object.prototype,d=f.hasOwnProperty;function l(h){if(h==null)return!0;if(a(h)&&(t(h)||typeof h=="string"||typeof h.splice=="function"||i(h)||u(h)||n(h)))return!h.length;var v=r(h);if(v==s||v==c)return!h.size;if(o(h))return!e(h).length;for(var p in h)if(d.call(h,p))return!1;return!0}return Ka=l,Ka}var Wa,Lc;function Dh(){if(Lc)return Wa;Lc=1;function e(r){return r===void 0}return Wa=e,Wa}var Ya,$c;function Bh(){if($c)return Ya;$c=1;var e=zr(),r=ce();function n(t,a){var i=-1,o=r(t)?Array(t.length):[];return e(t,function(u,s,c){o[++i]=a(u,s,c)}),o}return Ya=n,Ya}var Xa,Fc;function Uh(){if(Fc)return Xa;Fc=1;var e=Hr(),r=de(),n=Bh(),t=F();function a(i,o){var u=t(i)?e:n;return u(i,r(o,3))}return Xa=a,Xa}var Za,jc;function v_(){if(jc)return Za;jc=1;function e(r,n,t,a){var i=-1,o=r==null?0:r.length;for(a&&o&&(t=r[++i]);++i<o;)t=n(t,r[i],i,r);return t}return Za=e,Za}var Ja,Gc;function p_(){if(Gc)return Ja;Gc=1;function e(r,n,t,a,i){return i(r,function(o,u,s){t=a?(a=!1,o):n(t,o,u,s)}),t}return Ja=e,Ja}var Qa,Dc;function zh(){if(Dc)return Qa;Dc=1;var e=v_(),r=zr(),n=de(),t=p_(),a=F();function i(o,u,s){var c=a(o)?e:t,f=arguments.length<3;return c(o,n(u,4),s,f,r)}return Qa=i,Qa}var ei,Bc;function g_(){if(Bc)return ei;Bc=1;var e=Ee(),r=F(),n=te(),t="[object String]";function a(i){return typeof i=="string"||!r(i)&&n(i)&&e(i)==t}return ei=a,ei}var ri,Uc;function __(){if(Uc)return ri;Uc=1;var e=Fh(),r=e("length");return ri=r,ri}var ni,zc;function m_(){if(zc)return ni;zc=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",a=r+n+t,i="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+e+a+i+"]");function s(c){return u.test(c)}return ni=s,ni}var ti,Hc;function b_(){if(Hc)return ti;Hc=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",a=r+n+t,i="\\ufe0e\\ufe0f",o="["+e+"]",u="["+a+"]",s="\\ud83c[\\udffb-\\udfff]",c="(?:"+u+"|"+s+")",f="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=c+"?",p="["+i+"]?",g="(?:"+h+"(?:"+[f,d,l].join("|")+")"+p+v+")*",_=p+v+g,m="(?:"+[f+u+"?",u,d,l,o].join("|")+")",b=RegExp(s+"(?="+s+")|"+m+_,"g");function R(q){for(var x=b.lastIndex=0;b.test(q);)++x;return x}return ti=R,ti}var ai,Vc;function y_(){if(Vc)return ai;Vc=1;var e=__(),r=m_(),n=b_();function t(a){return r(a)?n(a):e(a)}return ai=t,ai}var ii,Kc;function w_(){if(Kc)return ii;Kc=1;var e=fu(),r=Be(),n=ce(),t=g_(),a=y_(),i="[object Map]",o="[object Set]";function u(s){if(s==null)return 0;if(n(s))return t(s)?a(s):s.length;var c=r(s);return c==i||c==o?s.size:e(s).length}return ii=u,ii}var oi,Wc;function q_(){if(Wc)return oi;Wc=1;var e=ou(),r=xh(),n=pu(),t=de(),a=Ur(),i=F(),o=De(),u=Qe(),s=K(),c=nr();function f(d,l,h){var v=i(d),p=v||o(d)||c(d);if(l=t(l,4),h==null){var g=d&&d.constructor;p?h=v?new g:[]:s(d)?h=u(g)?r(a(d)):{}:h={}}return(p?e:n)(d,function(_,m,b){return l(h,_,m,b)}),h}return oi=f,oi}var ui,Yc;function x_(){if(Yc)return ui;Yc=1;var e=Ge(),r=rr(),n=F(),t=e?e.isConcatSpreadable:void 0;function a(i){return n(i)||r(i)||!!(t&&i&&i[t])}return ui=a,ui}var si,Xc;function mu(){if(Xc)return si;Xc=1;var e=du(),r=x_();function n(t,a,i,o,u){var s=-1,c=t.length;for(i||(i=r),u||(u=[]);++s<c;){var f=t[s];a>0&&i(f)?a>1?n(f,a-1,i,o,u):e(u,f):o||(u[u.length]=f)}return u}return si=n,si}var fi,Zc;function R_(){if(Zc)return fi;Zc=1;function e(r,n,t){switch(t.length){case 0:return r.call(n);case 1:return r.call(n,t[0]);case 2:return r.call(n,t[0],t[1]);case 3:return r.call(n,t[0],t[1],t[2])}return r.apply(n,t)}return fi=e,fi}var ci,Jc;function Hh(){if(Jc)return ci;Jc=1;var e=R_(),r=Math.max;function n(t,a,i){return a=r(a===void 0?t.length-1:a,0),function(){for(var o=arguments,u=-1,s=r(o.length-a,0),c=Array(s);++u<s;)c[u]=o[a+u];u=-1;for(var f=Array(a+1);++u<a;)f[u]=o[u];return f[a]=i(c),e(t,this,f)}}return ci=n,ci}var di,Qc;function E_(){if(Qc)return di;Qc=1;var e=hu(),r=ch(),n=Se(),t=r?function(a,i){return r(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return di=t,di}var li,ed;function A_(){if(ed)return li;ed=1;var e=800,r=16,n=Date.now;function t(a){var i=0,o=0;return function(){var u=n(),s=r-(u-o);if(o=u,s>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return li=t,li}var hi,rd;function Vh(){if(rd)return hi;rd=1;var e=E_(),r=A_(),n=r(e);return hi=n,hi}var vi,nd;function Wr(){if(nd)return vi;nd=1;var e=Se(),r=Hh(),n=Vh();function t(a,i){return n(r(a,i,e),a+"")}return vi=t,vi}var pi,td;function Kh(){if(td)return pi;td=1;function e(r,n,t,a){for(var i=r.length,o=t+(a?1:-1);a?o--:++o<i;)if(n(r[o],o,r))return o;return-1}return pi=e,pi}var gi,ad;function I_(){if(ad)return gi;ad=1;function e(r){return r!==r}return gi=e,gi}var _i,id;function S_(){if(id)return _i;id=1;function e(r,n,t){for(var a=t-1,i=r.length;++a<i;)if(r[a]===n)return a;return-1}return _i=e,_i}var mi,od;function C_(){if(od)return mi;od=1;var e=Kh(),r=I_(),n=S_();function t(a,i,o){return i===i?n(a,i,o):e(a,r,o)}return mi=t,mi}var bi,ud;function T_(){if(ud)return bi;ud=1;var e=C_();function r(n,t){var a=n==null?0:n.length;return!!a&&e(n,t,0)>-1}return bi=r,bi}var yi,sd;function k_(){if(sd)return yi;sd=1;function e(r,n,t){for(var a=-1,i=r==null?0:r.length;++a<i;)if(t(n,r[a]))return!0;return!1}return yi=e,yi}var wi,fd;function O_(){if(fd)return wi;fd=1;function e(){}return wi=e,wi}var qi,cd;function M_(){if(cd)return qi;cd=1;var e=yh(),r=O_(),n=gu(),t=1/0,a=e&&1/n(new e([,-0]))[1]==t?function(i){return new e(i)}:r;return qi=a,qi}var xi,dd;function P_(){if(dd)return xi;dd=1;var e=Ch(),r=T_(),n=k_(),t=Th(),a=M_(),i=gu(),o=200;function u(s,c,f){var d=-1,l=r,h=s.length,v=!0,p=[],g=p;if(f)v=!1,l=n;else if(h>=o){var _=c?null:a(s);if(_)return i(_);v=!1,l=t,g=new e}else g=c?[]:p;e:for(;++d<h;){var m=s[d],b=c?c(m):m;if(m=f||m!==0?m:0,v&&b===b){for(var R=g.length;R--;)if(g[R]===b)continue e;c&&g.push(b),p.push(m)}else l(g,b,f)||(g!==p&&g.push(b),p.push(m))}return p}return xi=u,xi}var Ri,ld;function Wh(){if(ld)return Ri;ld=1;var e=ce(),r=te();function n(t){return r(t)&&e(t)}return Ri=n,Ri}var Ei,hd;function N_(){if(hd)return Ei;hd=1;var e=mu(),r=Wr(),n=P_(),t=Wh(),a=r(function(i){return n(e(i,1,t,!0))});return Ei=a,Ei}var Ai,vd;function L_(){if(vd)return Ai;vd=1;var e=Hr();function r(n,t){return e(t,function(a){return n[a]})}return Ai=r,Ai}var Ii,pd;function Yh(){if(pd)return Ii;pd=1;var e=L_(),r=be();function n(t){return t==null?[]:e(t,r(t))}return Ii=n,Ii}var Si,gd;function W(){if(gd)return Si;gd=1;var e;if(typeof tu=="function")try{e={clone:Ug(),constant:hu(),each:Sh(),filter:jh(),has:Gh(),isArray:F(),isEmpty:h_(),isFunction:Qe(),isUndefined:Dh(),keys:be(),map:Uh(),reduce:zh(),size:w_(),transform:q_(),union:N_(),values:Yh()}}catch{}return e||(e=window._),Si=e,Si}var Ci,_d;function bu(){if(_d)return Ci;_d=1;var e=W();Ci=a;var r="\0",n="\0",t="";function a(f){this._isDirected=e.has(f,"directed")?f.directed:!0,this._isMultigraph=e.has(f,"multigraph")?f.multigraph:!1,this._isCompound=e.has(f,"compound")?f.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(f){return this._label=f,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultNodeLabelFn=f,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return e.keys(this._nodes)},a.prototype.sources=function(){var f=this;return e.filter(this.nodes(),function(d){return e.isEmpty(f._in[d])})},a.prototype.sinks=function(){var f=this;return e.filter(this.nodes(),function(d){return e.isEmpty(f._out[d])})},a.prototype.setNodes=function(f,d){var l=arguments,h=this;return e.each(f,function(v){l.length>1?h.setNode(v,d):h.setNode(v)}),this},a.prototype.setNode=function(f,d){return e.has(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=d),this):(this._nodes[f]=arguments.length>1?d:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=n,this._children[f]={},this._children[n][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)},a.prototype.node=function(f){return this._nodes[f]},a.prototype.hasNode=function(f){return e.has(this._nodes,f)},a.prototype.removeNode=function(f){var d=this;if(e.has(this._nodes,f)){var l=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],e.each(this.children(f),function(h){d.setParent(h)}),delete this._children[f]),e.each(e.keys(this._in[f]),l),delete this._in[f],delete this._preds[f],e.each(e.keys(this._out[f]),l),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this},a.prototype.setParent=function(f,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var l=d;!e.isUndefined(l);l=this.parent(l))if(l===f)throw new Error("Setting "+d+" as parent of "+f+" would create a cycle");this.setNode(d)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=d,this._children[d][f]=!0,this},a.prototype._removeFromParentsChildList=function(f){delete this._children[this._parent[f]][f]},a.prototype.parent=function(f){if(this._isCompound){var d=this._parent[f];if(d!==n)return d}},a.prototype.children=function(f){if(e.isUndefined(f)&&(f=n),this._isCompound){var d=this._children[f];if(d)return e.keys(d)}else{if(f===n)return this.nodes();if(this.hasNode(f))return[]}},a.prototype.predecessors=function(f){var d=this._preds[f];if(d)return e.keys(d)},a.prototype.successors=function(f){var d=this._sucs[f];if(d)return e.keys(d)},a.prototype.neighbors=function(f){var d=this.predecessors(f);if(d)return e.union(d,this.successors(f))},a.prototype.isLeaf=function(f){var d;return this.isDirected()?d=this.successors(f):d=this.neighbors(f),d.length===0},a.prototype.filterNodes=function(f){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var l=this;e.each(this._nodes,function(p,g){f(g)&&d.setNode(g,p)}),e.each(this._edgeObjs,function(p){d.hasNode(p.v)&&d.hasNode(p.w)&&d.setEdge(p,l.edge(p))});var h={};function v(p){var g=l.parent(p);return g===void 0||d.hasNode(g)?(h[p]=g,g):g in h?h[g]:v(g)}return this._isCompound&&e.each(d.nodes(),function(p){d.setParent(p,v(p))}),d},a.prototype.setDefaultEdgeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultEdgeLabelFn=f,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return e.values(this._edgeObjs)},a.prototype.setPath=function(f,d){var l=this,h=arguments;return e.reduce(f,function(v,p){return h.length>1?l.setEdge(v,p,d):l.setEdge(v,p),p}),this},a.prototype.setEdge=function(){var f,d,l,h,v=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(f=p.v,d=p.w,l=p.name,arguments.length===2&&(h=arguments[1],v=!0)):(f=p,d=arguments[1],l=arguments[3],arguments.length>2&&(h=arguments[2],v=!0)),f=""+f,d=""+d,e.isUndefined(l)||(l=""+l);var g=u(this._isDirected,f,d,l);if(e.has(this._edgeLabels,g))return v&&(this._edgeLabels[g]=h),this;if(!e.isUndefined(l)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(d),this._edgeLabels[g]=v?h:this._defaultEdgeLabelFn(f,d,l);var _=s(this._isDirected,f,d,l);return f=_.v,d=_.w,Object.freeze(_),this._edgeObjs[g]=_,i(this._preds[d],f),i(this._sucs[f],d),this._in[d][g]=_,this._out[f][g]=_,this._edgeCount++,this},a.prototype.edge=function(f,d,l){var h=arguments.length===1?c(this._isDirected,arguments[0]):u(this._isDirected,f,d,l);return this._edgeLabels[h]},a.prototype.hasEdge=function(f,d,l){var h=arguments.length===1?c(this._isDirected,arguments[0]):u(this._isDirected,f,d,l);return e.has(this._edgeLabels,h)},a.prototype.removeEdge=function(f,d,l){var h=arguments.length===1?c(this._isDirected,arguments[0]):u(this._isDirected,f,d,l),v=this._edgeObjs[h];return v&&(f=v.v,d=v.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[d],f),o(this._sucs[f],d),delete this._in[d][h],delete this._out[f][h],this._edgeCount--),this},a.prototype.inEdges=function(f,d){var l=this._in[f];if(l){var h=e.values(l);return d?e.filter(h,function(v){return v.v===d}):h}},a.prototype.outEdges=function(f,d){var l=this._out[f];if(l){var h=e.values(l);return d?e.filter(h,function(v){return v.w===d}):h}},a.prototype.nodeEdges=function(f,d){var l=this.inEdges(f,d);if(l)return l.concat(this.outEdges(f,d))};function i(f,d){f[d]?f[d]++:f[d]=1}function o(f,d){--f[d]||delete f[d]}function u(f,d,l,h){var v=""+d,p=""+l;if(!f&&v>p){var g=v;v=p,p=g}return v+t+p+t+(e.isUndefined(h)?r:h)}function s(f,d,l,h){var v=""+d,p=""+l;if(!f&&v>p){var g=v;v=p,p=g}var _={v,w:p};return h&&(_.name=h),_}function c(f,d){return u(f,d.v,d.w,d.name)}return Ci}var Ti,md;function $_(){return md||(md=1,Ti="2.1.8"),Ti}var ki,bd;function F_(){return bd||(bd=1,ki={Graph:bu(),version:$_()}),ki}var Oi,yd;function j_(){if(yd)return Oi;yd=1;var e=W(),r=bu();Oi={write:n,read:i};function n(o){var u={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:t(o),edges:a(o)};return e.isUndefined(o.graph())||(u.value=e.clone(o.graph())),u}function t(o){return e.map(o.nodes(),function(u){var s=o.node(u),c=o.parent(u),f={v:u};return e.isUndefined(s)||(f.value=s),e.isUndefined(c)||(f.parent=c),f})}function a(o){return e.map(o.edges(),function(u){var s=o.edge(u),c={v:u.v,w:u.w};return e.isUndefined(u.name)||(c.name=u.name),e.isUndefined(s)||(c.value=s),c})}function i(o){var u=new r(o.options).setGraph(o.value);return e.each(o.nodes,function(s){u.setNode(s.v,s.value),s.parent&&u.setParent(s.v,s.parent)}),e.each(o.edges,function(s){u.setEdge({v:s.v,w:s.w,name:s.name},s.value)}),u}return Oi}var Mi,wd;function G_(){if(wd)return Mi;wd=1;var e=W();Mi=r;function r(n){var t={},a=[],i;function o(u){e.has(t,u)||(t[u]=!0,i.push(u),e.each(n.successors(u),o),e.each(n.predecessors(u),o))}return e.each(n.nodes(),function(u){i=[],o(u),i.length&&a.push(i)}),a}return Mi}var Pi,qd;function Xh(){if(qd)return Pi;qd=1;var e=W();Pi=r;function r(){this._arr=[],this._keyIndices={}}return r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(n){return n.key})},r.prototype.has=function(n){return e.has(this._keyIndices,n)},r.prototype.priority=function(n){var t=this._keyIndices[n];if(t!==void 0)return this._arr[t].priority},r.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(n,t){var a=this._keyIndices;if(n=String(n),!e.has(a,n)){var i=this._arr,o=i.length;return a[n]=o,i.push({key:n,priority:t}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},r.prototype.decrease=function(n,t){var a=this._keyIndices[n];if(t>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[a].priority+" New: "+t);this._arr[a].priority=t,this._decrease(a)},r.prototype._heapify=function(n){var t=this._arr,a=2*n,i=a+1,o=n;a<t.length&&(o=t[a].priority<t[o].priority?a:o,i<t.length&&(o=t[i].priority<t[o].priority?i:o),o!==n&&(this._swap(n,o),this._heapify(o)))},r.prototype._decrease=function(n){for(var t=this._arr,a=t[n].priority,i;n!==0&&(i=n>>1,!(t[i].priority<a));)this._swap(n,i),n=i},r.prototype._swap=function(n,t){var a=this._arr,i=this._keyIndices,o=a[n],u=a[t];a[n]=u,a[t]=o,i[u.key]=n,i[o.key]=t},Pi}var Ni,xd;function Zh(){if(xd)return Ni;xd=1;var e=W(),r=Xh();Ni=t;var n=e.constant(1);function t(i,o,u,s){return a(i,String(o),u||n,s||function(c){return i.outEdges(c)})}function a(i,o,u,s){var c={},f=new r,d,l,h=function(v){var p=v.v!==d?v.v:v.w,g=c[p],_=u(v),m=l.distance+_;if(_<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+_);m<g.distance&&(g.distance=m,g.predecessor=d,f.decrease(p,m))};for(i.nodes().forEach(function(v){var p=v===o?0:Number.POSITIVE_INFINITY;c[v]={distance:p},f.add(v,p)});f.size()>0&&(d=f.removeMin(),l=c[d],l.distance!==Number.POSITIVE_INFINITY);)s(d).forEach(h);return c}return Ni}var Li,Rd;function D_(){if(Rd)return Li;Rd=1;var e=Zh(),r=W();Li=n;function n(t,a,i){return r.transform(t.nodes(),function(o,u){o[u]=e(t,u,a,i)},{})}return Li}var $i,Ed;function Jh(){if(Ed)return $i;Ed=1;var e=W();$i=r;function r(n){var t=0,a=[],i={},o=[];function u(s){var c=i[s]={onStack:!0,lowlink:t,index:t++};if(a.push(s),n.successors(s).forEach(function(l){e.has(i,l)?i[l].onStack&&(c.lowlink=Math.min(c.lowlink,i[l].index)):(u(l),c.lowlink=Math.min(c.lowlink,i[l].lowlink))}),c.lowlink===c.index){var f=[],d;do d=a.pop(),i[d].onStack=!1,f.push(d);while(s!==d);o.push(f)}}return n.nodes().forEach(function(s){e.has(i,s)||u(s)}),o}return $i}var Fi,Ad;function B_(){if(Ad)return Fi;Ad=1;var e=W(),r=Jh();Fi=n;function n(t){return e.filter(r(t),function(a){return a.length>1||a.length===1&&t.hasEdge(a[0],a[0])})}return Fi}var ji,Id;function U_(){if(Id)return ji;Id=1;var e=W();ji=n;var r=e.constant(1);function n(a,i,o){return t(a,i||r,o||function(u){return a.outEdges(u)})}function t(a,i,o){var u={},s=a.nodes();return s.forEach(function(c){u[c]={},u[c][c]={distance:0},s.forEach(function(f){c!==f&&(u[c][f]={distance:Number.POSITIVE_INFINITY})}),o(c).forEach(function(f){var d=f.v===c?f.w:f.v,l=i(f);u[c][d]={distance:l,predecessor:c}})}),s.forEach(function(c){var f=u[c];s.forEach(function(d){var l=u[d];s.forEach(function(h){var v=l[c],p=f[h],g=l[h],_=v.distance+p.distance;_<g.distance&&(g.distance=_,g.predecessor=p.predecessor)})})}),u}return ji}var Gi,Sd;function Qh(){if(Sd)return Gi;Sd=1;var e=W();Gi=r,r.CycleException=n;function r(t){var a={},i={},o=[];function u(s){if(e.has(i,s))throw new n;e.has(a,s)||(i[s]=!0,a[s]=!0,e.each(t.predecessors(s),u),delete i[s],o.push(s))}if(e.each(t.sinks(),u),e.size(a)!==t.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,Gi}var Di,Cd;function z_(){if(Cd)return Di;Cd=1;var e=Qh();Di=r;function r(n){try{e(n)}catch(t){if(t instanceof e.CycleException)return!1;throw t}return!0}return Di}var Bi,Td;function ev(){if(Td)return Bi;Td=1;var e=W();Bi=r;function r(t,a,i){e.isArray(a)||(a=[a]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),u=[],s={};return e.each(a,function(c){if(!t.hasNode(c))throw new Error("Graph does not have node: "+c);n(t,c,i==="post",s,o,u)}),u}function n(t,a,i,o,u,s){e.has(o,a)||(o[a]=!0,i||s.push(a),e.each(u(a),function(c){n(t,c,i,o,u,s)}),i&&s.push(a))}return Bi}var Ui,kd;function H_(){if(kd)return Ui;kd=1;var e=ev();Ui=r;function r(n,t){return e(n,t,"post")}return Ui}var zi,Od;function V_(){if(Od)return zi;Od=1;var e=ev();zi=r;function r(n,t){return e(n,t,"pre")}return zi}var Hi,Md;function K_(){if(Md)return Hi;Md=1;var e=W(),r=bu(),n=Xh();Hi=t;function t(a,i){var o=new r,u={},s=new n,c;function f(l){var h=l.v===c?l.w:l.v,v=s.priority(h);if(v!==void 0){var p=i(l);p<v&&(u[h]=c,s.decrease(h,p))}}if(a.nodeCount()===0)return o;e.each(a.nodes(),function(l){s.add(l,Number.POSITIVE_INFINITY),o.setNode(l)}),s.decrease(a.nodes()[0],0);for(var d=!1;s.size()>0;){if(c=s.removeMin(),e.has(u,c))o.setEdge(c,u[c]);else{if(d)throw new Error("Input graph is not connected: "+a);d=!0}a.nodeEdges(c).forEach(f)}return o}return Hi}var Vi,Pd;function W_(){return Pd||(Pd=1,Vi={components:G_(),dijkstra:Zh(),dijkstraAll:D_(),findCycles:B_(),floydWarshall:U_(),isAcyclic:z_(),postorder:H_(),preorder:V_(),prim:K_(),tarjan:Jh(),topsort:Qh()}),Vi}var Ki,Nd;function Y_(){if(Nd)return Ki;Nd=1;var e=F_();return Ki={Graph:e.Graph,json:j_(),alg:W_(),version:e.version},Ki}var xr;if(typeof tu=="function")try{xr=Y_()}catch{}xr||(xr=window.graphlib);var Q=xr,Wi,Ld;function X_(){if(Ld)return Wi;Ld=1;var e=Eh(),r=1,n=4;function t(a){return e(a,r|n)}return Wi=t,Wi}var Yi,$d;function Yr(){if($d)return Yi;$d=1;var e=je(),r=ce(),n=Gr(),t=K();function a(i,o,u){if(!t(u))return!1;var s=typeof o;return(s=="number"?r(u)&&n(o,u.length):s=="string"&&o in u)?e(u[o],i):!1}return Yi=a,Yi}var Xi,Fd;function Z_(){if(Fd)return Xi;Fd=1;var e=Wr(),r=je(),n=Yr(),t=Ie(),a=Object.prototype,i=a.hasOwnProperty,o=e(function(u,s){u=Object(u);var c=-1,f=s.length,d=f>2?s[2]:void 0;for(d&&n(s[0],s[1],d)&&(f=1);++c<f;)for(var l=s[c],h=t(l),v=-1,p=h.length;++v<p;){var g=h[v],_=u[g];(_===void 0||r(_,a[g])&&!i.call(u,g))&&(u[g]=l[g])}return u});return Xi=o,Xi}var Zi,jd;function J_(){if(jd)return Zi;jd=1;var e=de(),r=ce(),n=be();function t(a){return function(i,o,u){var s=Object(i);if(!r(i)){var c=e(o,3);i=n(i),o=function(d){return c(s[d],d,s)}}var f=a(i,o,u);return f>-1?s[c?i[f]:f]:void 0}}return Zi=t,Zi}var Ji,Gd;function Q_(){if(Gd)return Ji;Gd=1;var e=/\s/;function r(n){for(var t=n.length;t--&&e.test(n.charAt(t)););return t}return Ji=r,Ji}var Qi,Dd;function em(){if(Dd)return Qi;Dd=1;var e=Q_(),r=/^\s+/;function n(t){return t&&t.slice(0,e(t)+1).replace(r,"")}return Qi=n,Qi}var eo,Bd;function rm(){if(Bd)return eo;Bd=1;var e=em(),r=K(),n=Ue(),t=0/0,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function s(c){if(typeof c=="number")return c;if(n(c))return t;if(r(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=r(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=i.test(c);return d||o.test(c)?u(c.slice(2),d?2:8):a.test(c)?t:+c}return eo=s,eo}var ro,Ud;function rv(){if(Ud)return ro;Ud=1;var e=rm(),r=1/0,n=17976931348623157e292;function t(a){if(!a)return a===0?a:0;if(a=e(a),a===r||a===-r){var i=a<0?-1:1;return i*n}return a===a?a:0}return ro=t,ro}var no,zd;function nm(){if(zd)return no;zd=1;var e=rv();function r(n){var t=e(n),a=t%1;return t===t?a?t-a:t:0}return no=r,no}var to,Hd;function tm(){if(Hd)return to;Hd=1;var e=Kh(),r=de(),n=nm(),t=Math.max;function a(i,o,u){var s=i==null?0:i.length;if(!s)return-1;var c=u==null?0:n(u);return c<0&&(c=t(s+c,0)),e(i,r(o,3),c)}return to=a,to}var ao,Vd;function am(){if(Vd)return ao;Vd=1;var e=J_(),r=tm(),n=e(r);return ao=n,ao}var io,Kd;function nv(){if(Kd)return io;Kd=1;var e=mu();function r(n){var t=n==null?0:n.length;return t?e(n,1):[]}return io=r,io}var oo,Wd;function im(){if(Wd)return oo;Wd=1;var e=vu(),r=Ah(),n=Ie();function t(a,i){return a==null?a:e(a,r(i),n)}return oo=t,oo}var uo,Yd;function om(){if(Yd)return uo;Yd=1;function e(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}return uo=e,uo}var so,Xd;function um(){if(Xd)return so;Xd=1;var e=Fr(),r=pu(),n=de();function t(a,i){var o={};return i=n(i,3),r(a,function(u,s,c){e(o,s,i(u,s,c))}),o}return so=t,so}var fo,Zd;function yu(){if(Zd)return fo;Zd=1;var e=Ue();function r(n,t,a){for(var i=-1,o=n.length;++i<o;){var u=n[i],s=t(u);if(s!=null&&(c===void 0?s===s&&!e(s):a(s,c)))var c=s,f=u}return f}return fo=r,fo}var co,Jd;function sm(){if(Jd)return co;Jd=1;function e(r,n){return r>n}return co=e,co}var lo,Qd;function fm(){if(Qd)return lo;Qd=1;var e=yu(),r=sm(),n=Se();function t(a){return a&&a.length?e(a,n,r):void 0}return lo=t,lo}var ho,el;function tv(){if(el)return ho;el=1;var e=Fr(),r=je();function n(t,a,i){(i!==void 0&&!r(t[a],i)||i===void 0&&!(a in t))&&e(t,a,i)}return ho=n,ho}var vo,rl;function cm(){if(rl)return vo;rl=1;var e=Ee(),r=Ur(),n=te(),t="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,u=i.hasOwnProperty,s=o.call(Object);function c(f){if(!n(f)||e(f)!=t)return!1;var d=r(f);if(d===null)return!0;var l=u.call(d,"constructor")&&d.constructor;return typeof l=="function"&&l instanceof l&&o.call(l)==s}return vo=c,vo}var po,nl;function av(){if(nl)return po;nl=1;function e(r,n){if(!(n==="constructor"&&typeof r[n]=="function")&&n!="__proto__")return r[n]}return po=e,po}var go,tl;function dm(){if(tl)return go;tl=1;var e=er(),r=Ie();function n(t){return e(t,r(t))}return go=n,go}var _o,al;function lm(){if(al)return _o;al=1;var e=tv(),r=hh(),n=qh(),t=vh(),a=Rh(),i=rr(),o=F(),u=Wh(),s=De(),c=Qe(),f=K(),d=cm(),l=nr(),h=av(),v=dm();function p(g,_,m,b,R,q,x){var w=h(g,m),A=h(_,m),S=x.get(A);if(S){e(g,m,S);return}var T=q?q(w,A,m+"",g,_,x):void 0,y=T===void 0;if(y){var I=o(A),k=!I&&s(A),$=!I&&!k&&l(A);T=A,I||k||$?o(w)?T=w:u(w)?T=t(w):k?(y=!1,T=r(A,!0)):$?(y=!1,T=n(A,!0)):T=[]:d(A)||i(A)?(T=w,i(w)?T=v(w):(!f(w)||c(w))&&(T=a(A))):y=!1}y&&(x.set(A,T),R(T,A,b,q,x),x.delete(A)),e(g,m,T)}return _o=p,_o}var mo,il;function hm(){if(il)return mo;il=1;var e=$r(),r=tv(),n=vu(),t=lm(),a=K(),i=Ie(),o=av();function u(s,c,f,d,l){s!==c&&n(c,function(h,v){if(l||(l=new e),a(h))t(s,c,v,f,u,d,l);else{var p=d?d(o(s,v),h,v+"",s,c,l):void 0;p===void 0&&(p=h),r(s,v,p)}},i)}return mo=u,mo}var bo,ol;function vm(){if(ol)return bo;ol=1;var e=Wr(),r=Yr();function n(t){return e(function(a,i){var o=-1,u=i.length,s=u>1?i[u-1]:void 0,c=u>2?i[2]:void 0;for(s=t.length>3&&typeof s=="function"?(u--,s):void 0,c&&r(i[0],i[1],c)&&(s=u<3?void 0:s,u=1),a=Object(a);++o<u;){var f=i[o];f&&t(a,f,o,s)}return a})}return bo=n,bo}var yo,ul;function pm(){if(ul)return yo;ul=1;var e=hm(),r=vm(),n=r(function(t,a,i){e(t,a,i)});return yo=n,yo}var wo,sl;function iv(){if(sl)return wo;sl=1;function e(r,n){return r<n}return wo=e,wo}var qo,fl;function gm(){if(fl)return qo;fl=1;var e=yu(),r=iv(),n=Se();function t(a){return a&&a.length?e(a,n,r):void 0}return qo=t,qo}var xo,cl;function _m(){if(cl)return xo;cl=1;var e=yu(),r=de(),n=iv();function t(a,i){return a&&a.length?e(a,r(i,2),n):void 0}return xo=t,xo}var Ro,dl;function mm(){if(dl)return Ro;dl=1;var e=J(),r=function(){return e.Date.now()};return Ro=r,Ro}var Eo,ll;function bm(){if(ll)return Eo;ll=1;var e=jr(),r=Vr(),n=Gr(),t=K(),a=tr();function i(o,u,s,c){if(!t(o))return o;u=r(u,o);for(var f=-1,d=u.length,l=d-1,h=o;h!=null&&++f<d;){var v=a(u[f]),p=s;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(f!=l){var g=h[v];p=c?c(g,v,h):void 0,p===void 0&&(p=t(g)?g:n(u[f+1])?[]:{})}e(h,v,p),h=h[v]}return o}return Eo=i,Eo}var Ao,hl;function ym(){if(hl)return Ao;hl=1;var e=Kr(),r=bm(),n=Vr();function t(a,i,o){for(var u=-1,s=i.length,c={};++u<s;){var f=i[u],d=e(a,f);o(d,f)&&r(c,n(f,a),d)}return c}return Ao=t,Ao}var Io,vl;function wm(){if(vl)return Io;vl=1;var e=ym(),r=$h();function n(t,a){return e(t,a,function(i,o){return r(t,o)})}return Io=n,Io}var So,pl;function qm(){if(pl)return So;pl=1;var e=nv(),r=Hh(),n=Vh();function t(a){return n(r(a,void 0,e),a+"")}return So=t,So}var Co,gl;function xm(){if(gl)return Co;gl=1;var e=wm(),r=qm(),n=r(function(t,a){return t==null?{}:e(t,a)});return Co=n,Co}var To,_l;function Rm(){if(_l)return To;_l=1;var e=Math.ceil,r=Math.max;function n(t,a,i,o){for(var u=-1,s=r(e((a-t)/(i||1)),0),c=Array(s);s--;)c[o?s:++u]=t,t+=i;return c}return To=n,To}var ko,ml;function Em(){if(ml)return ko;ml=1;var e=Rm(),r=Yr(),n=rv();function t(a){return function(i,o,u){return u&&typeof u!="number"&&r(i,o,u)&&(o=u=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),u=u===void 0?i<o?1:-1:n(u),e(i,o,u,a)}}return ko=t,ko}var Oo,bl;function Am(){if(bl)return Oo;bl=1;var e=Em(),r=e();return Oo=r,Oo}var Mo,yl;function Im(){if(yl)return Mo;yl=1;function e(r,n){var t=r.length;for(r.sort(n);t--;)r[t]=r[t].value;return r}return Mo=e,Mo}var Po,wl;function Sm(){if(wl)return Po;wl=1;var e=Ue();function r(n,t){if(n!==t){var a=n!==void 0,i=n===null,o=n===n,u=e(n),s=t!==void 0,c=t===null,f=t===t,d=e(t);if(!c&&!d&&!u&&n>t||u&&s&&f&&!c&&!d||i&&s&&f||!a&&f||!o)return 1;if(!i&&!u&&!d&&n<t||d&&a&&o&&!i&&!u||c&&a&&o||!s&&o||!f)return-1}return 0}return Po=r,Po}var No,ql;function Cm(){if(ql)return No;ql=1;var e=Sm();function r(n,t,a){for(var i=-1,o=n.criteria,u=t.criteria,s=o.length,c=a.length;++i<s;){var f=e(o[i],u[i]);if(f){if(i>=c)return f;var d=a[i];return f*(d=="desc"?-1:1)}}return n.index-t.index}return No=r,No}var Lo,xl;function Tm(){if(xl)return Lo;xl=1;var e=Hr(),r=Kr(),n=de(),t=Bh(),a=Im(),i=Dr(),o=Cm(),u=Se(),s=F();function c(f,d,l){d.length?d=e(d,function(p){return s(p)?function(g){return r(g,p.length===1?p[0]:p)}:p}):d=[u];var h=-1;d=e(d,i(n));var v=t(f,function(p,g,_){var m=e(d,function(b){return b(p)});return{criteria:m,index:++h,value:p}});return a(v,function(p,g){return o(p,g,l)})}return Lo=c,Lo}var $o,Rl;function km(){if(Rl)return $o;Rl=1;var e=mu(),r=Tm(),n=Wr(),t=Yr(),a=n(function(i,o){if(i==null)return[];var u=o.length;return u>1&&t(i,o[0],o[1])?o=[]:u>2&&t(o[0],o[1],o[2])&&(o=[o[0]]),r(i,e(o,1),[])});return $o=a,$o}var Fo,El;function Om(){if(El)return Fo;El=1;var e=Nh(),r=0;function n(t){var a=++r;return e(t)+a}return Fo=n,Fo}var jo,Al;function Mm(){if(Al)return jo;Al=1;function e(r,n,t){for(var a=-1,i=r.length,o=n.length,u={};++a<i;){var s=a<o?n[a]:void 0;t(u,r[a],s)}return u}return jo=e,jo}var Go,Il;function Pm(){if(Il)return Go;Il=1;var e=jr(),r=Mm();function n(t,a){return r(t||[],a||[],e)}return Go=n,Go}var Rr;if(typeof tu=="function")try{Rr={cloneDeep:X_(),constant:hu(),defaults:Z_(),each:Sh(),filter:jh(),find:am(),flatten:nv(),forEach:Ih(),forIn:im(),has:Gh(),isUndefined:Dh(),last:om(),map:Uh(),mapValues:um(),max:fm(),merge:pm(),min:gm(),minBy:_m(),now:mm(),pick:xm(),range:Am(),reduce:zh(),sortBy:km(),uniqueId:Om(),values:Yh(),zipObject:Pm()}}catch{}Rr||(Rr=window._);var L=Rr,Nm=Xr;function Xr(){var e={};e._next=e._prev=e,this._sentinel=e}Xr.prototype.dequeue=function(){var e=this._sentinel,r=e._prev;if(r!==e)return ov(r),r};Xr.prototype.enqueue=function(e){var r=this._sentinel;e._prev&&e._next&&ov(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r};Xr.prototype.toString=function(){for(var e=[],r=this._sentinel,n=r._prev;n!==r;)e.push(JSON.stringify(n,Lm)),n=n._prev;return"["+e.join(", ")+"]"};function ov(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Lm(e,r){if(e!=="_next"&&e!=="_prev")return r}var ue=L,$m=Q.Graph,Fm=Nm,jm=Dm,Gm=ue.constant(1);function Dm(e,r){if(e.nodeCount()<=1)return[];var n=Um(e,r||Gm),t=Bm(n.graph,n.buckets,n.zeroIdx);return ue.flatten(ue.map(t,function(a){return e.outEdges(a.v,a.w)}),!0)}function Bm(e,r,n){for(var t=[],a=r[r.length-1],i=r[0],o;e.nodeCount();){for(;o=i.dequeue();)Do(e,r,n,o);for(;o=a.dequeue();)Do(e,r,n,o);if(e.nodeCount()){for(var u=r.length-2;u>0;--u)if(o=r[u].dequeue(),o){t=t.concat(Do(e,r,n,o,!0));break}}}return t}function Do(e,r,n,t,a){var i=a?[]:void 0;return ue.forEach(e.inEdges(t.v),function(o){var u=e.edge(o),s=e.node(o.v);a&&i.push({v:o.v,w:o.w}),s.out-=u,Yo(r,n,s)}),ue.forEach(e.outEdges(t.v),function(o){var u=e.edge(o),s=o.w,c=e.node(s);c.in-=u,Yo(r,n,c)}),e.removeNode(t.v),i}function Um(e,r){var n=new $m,t=0,a=0;ue.forEach(e.nodes(),function(u){n.setNode(u,{v:u,in:0,out:0})}),ue.forEach(e.edges(),function(u){var s=n.edge(u.v,u.w)||0,c=r(u),f=s+c;n.setEdge(u.v,u.w,f),a=Math.max(a,n.node(u.v).out+=c),t=Math.max(t,n.node(u.w).in+=c)});var i=ue.range(a+t+3).map(function(){return new Fm}),o=t+1;return ue.forEach(n.nodes(),function(u){Yo(i,o,n.node(u))}),{graph:n,buckets:i,zeroIdx:o}}function Yo(e,r,n){n.out?n.in?e[n.out-n.in+r].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var qe=L,zm=jm,Hm={run:Vm,undo:Wm};function Vm(e){var r=e.graph().acyclicer==="greedy"?zm(e,n(e)):Km(e);qe.forEach(r,function(t){var a=e.edge(t);e.removeEdge(t),a.forwardName=t.name,a.reversed=!0,e.setEdge(t.w,t.v,a,qe.uniqueId("rev"))});function n(t){return function(a){return t.edge(a).weight}}}function Km(e){var r=[],n={},t={};function a(i){qe.has(t,i)||(t[i]=!0,n[i]=!0,qe.forEach(e.outEdges(i),function(o){qe.has(n,o.w)?r.push(o):a(o.w)}),delete n[i])}return qe.forEach(e.nodes(),a),r}function Wm(e){qe.forEach(e.edges(),function(r){var n=e.edge(r);if(n.reversed){e.removeEdge(r);var t=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(r.w,r.v,n,t)}})}var M=L,uv=Q.Graph,z={addDummyNode:sv,simplify:Ym,asNonCompoundGraph:Xm,successorWeights:Zm,predecessorWeights:Jm,intersectRect:Qm,buildLayerMatrix:eb,normalizeRanks:rb,removeEmptyRanks:nb,addBorderNode:tb,maxRank:fv,partition:ab,time:ib,notime:ob};function sv(e,r,n,t){var a;do a=M.uniqueId(t);while(e.hasNode(a));return n.dummy=r,e.setNode(a,n),a}function Ym(e){var r=new uv().setGraph(e.graph());return M.forEach(e.nodes(),function(n){r.setNode(n,e.node(n))}),M.forEach(e.edges(),function(n){var t=r.edge(n.v,n.w)||{weight:0,minlen:1},a=e.edge(n);r.setEdge(n.v,n.w,{weight:t.weight+a.weight,minlen:Math.max(t.minlen,a.minlen)})}),r}function Xm(e){var r=new uv({multigraph:e.isMultigraph()}).setGraph(e.graph());return M.forEach(e.nodes(),function(n){e.children(n).length||r.setNode(n,e.node(n))}),M.forEach(e.edges(),function(n){r.setEdge(n,e.edge(n))}),r}function Zm(e){var r=M.map(e.nodes(),function(n){var t={};return M.forEach(e.outEdges(n),function(a){t[a.w]=(t[a.w]||0)+e.edge(a).weight}),t});return M.zipObject(e.nodes(),r)}function Jm(e){var r=M.map(e.nodes(),function(n){var t={};return M.forEach(e.inEdges(n),function(a){t[a.v]=(t[a.v]||0)+e.edge(a).weight}),t});return M.zipObject(e.nodes(),r)}function Qm(e,r){var n=e.x,t=e.y,a=r.x-n,i=r.y-t,o=e.width/2,u=e.height/2;if(!a&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var s,c;return Math.abs(i)*o>Math.abs(a)*u?(i<0&&(u=-u),s=u*a/i,c=u):(a<0&&(o=-o),s=o,c=o*i/a),{x:n+s,y:t+c}}function eb(e){var r=M.map(M.range(fv(e)+1),function(){return[]});return M.forEach(e.nodes(),function(n){var t=e.node(n),a=t.rank;M.isUndefined(a)||(r[a][t.order]=n)}),r}function rb(e){var r=M.min(M.map(e.nodes(),function(n){return e.node(n).rank}));M.forEach(e.nodes(),function(n){var t=e.node(n);M.has(t,"rank")&&(t.rank-=r)})}function nb(e){var r=M.min(M.map(e.nodes(),function(i){return e.node(i).rank})),n=[];M.forEach(e.nodes(),function(i){var o=e.node(i).rank-r;n[o]||(n[o]=[]),n[o].push(i)});var t=0,a=e.graph().nodeRankFactor;M.forEach(n,function(i,o){M.isUndefined(i)&&o%a!==0?--t:t&&M.forEach(i,function(u){e.node(u).rank+=t})})}function tb(e,r,n,t){var a={width:0,height:0};return arguments.length>=4&&(a.rank=n,a.order=t),sv(e,"border",a,r)}function fv(e){return M.max(M.map(e.nodes(),function(r){var n=e.node(r).rank;if(!M.isUndefined(n))return n}))}function ab(e,r){var n={lhs:[],rhs:[]};return M.forEach(e,function(t){r(t)?n.lhs.push(t):n.rhs.push(t)}),n}function ib(e,r){var n=M.now();try{return r()}finally{console.log(e+" time: "+(M.now()-n)+"ms")}}function ob(e,r){return r()}var cv=L,ub=z,sb={run:fb,undo:db};function fb(e){e.graph().dummyChains=[],cv.forEach(e.edges(),function(r){cb(e,r)})}function cb(e,r){var n=r.v,t=e.node(n).rank,a=r.w,i=e.node(a).rank,o=r.name,u=e.edge(r),s=u.labelRank;if(i!==t+1){e.removeEdge(r);var c,f,d;for(d=0,++t;t<i;++d,++t)u.points=[],f={width:0,height:0,edgeLabel:u,edgeObj:r,rank:t},c=ub.addDummyNode(e,"edge",f,"_d"),t===s&&(f.width=u.width,f.height=u.height,f.dummy="edge-label",f.labelpos=u.labelpos),e.setEdge(n,c,{weight:u.weight},o),d===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,a,{weight:u.weight},o)}}function db(e){cv.forEach(e.graph().dummyChains,function(r){var n=e.node(r),t=n.edgeLabel,a;for(e.setEdge(n.edgeObj,t);n.dummy;)a=e.successors(r)[0],e.removeNode(r),t.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height),r=a,n=e.node(r)})}var lr=L,Zr={longestPath:lb,slack:hb};function lb(e){var r={};function n(t){var a=e.node(t);if(lr.has(r,t))return a.rank;r[t]=!0;var i=lr.min(lr.map(e.outEdges(t),function(o){return n(o.w)-e.edge(o).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),a.rank=i}lr.forEach(e.sources(),n)}function hb(e,r){return e.node(r.w).rank-e.node(r.v).rank-e.edge(r).minlen}var Er=L,vb=Q.Graph,Ar=Zr.slack,dv=pb;function pb(e){var r=new vb({directed:!1}),n=e.nodes()[0],t=e.nodeCount();r.setNode(n,{});for(var a,i;gb(r,e)<t;)a=_b(r,e),i=r.hasNode(a.v)?Ar(e,a):-Ar(e,a),mb(r,e,i);return r}function gb(e,r){function n(t){Er.forEach(r.nodeEdges(t),function(a){var i=a.v,o=t===i?a.w:i;!e.hasNode(o)&&!Ar(r,a)&&(e.setNode(o,{}),e.setEdge(t,o,{}),n(o))})}return Er.forEach(e.nodes(),n),e.nodeCount()}function _b(e,r){return Er.minBy(r.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Ar(r,n)})}function mb(e,r,n){Er.forEach(e.nodes(),function(t){r.node(t).rank+=n})}var fe=L,bb=dv,yb=Zr.slack,wb=Zr.longestPath,qb=Q.alg.preorder,xb=Q.alg.postorder,Rb=z.simplify,Eb=Ce;Ce.initLowLimValues=qu;Ce.initCutValues=wu;Ce.calcCutValue=lv;Ce.leaveEdge=vv;Ce.enterEdge=pv;Ce.exchangeEdges=gv;function Ce(e){e=Rb(e),wb(e);var r=bb(e);qu(r),wu(r,e);for(var n,t;n=vv(r);)t=pv(r,e,n),gv(r,e,n,t)}function wu(e,r){var n=xb(e,e.nodes());n=n.slice(0,n.length-1),fe.forEach(n,function(t){Ab(e,r,t)})}function Ab(e,r,n){var t=e.node(n),a=t.parent;e.edge(n,a).cutvalue=lv(e,r,n)}function lv(e,r,n){var t=e.node(n),a=t.parent,i=!0,o=r.edge(n,a),u=0;return o||(i=!1,o=r.edge(a,n)),u=o.weight,fe.forEach(r.nodeEdges(n),function(s){var c=s.v===n,f=c?s.w:s.v;if(f!==a){var d=c===i,l=r.edge(s).weight;if(u+=d?l:-l,Sb(e,n,f)){var h=e.edge(n,f).cutvalue;u+=d?-h:h}}}),u}function qu(e,r){arguments.length<2&&(r=e.nodes()[0]),hv(e,{},1,r)}function hv(e,r,n,t,a){var i=n,o=e.node(t);return r[t]=!0,fe.forEach(e.neighbors(t),function(u){fe.has(r,u)||(n=hv(e,r,n,u,t))}),o.low=i,o.lim=n++,a?o.parent=a:delete o.parent,n}function vv(e){return fe.find(e.edges(),function(r){return e.edge(r).cutvalue<0})}function pv(e,r,n){var t=n.v,a=n.w;r.hasEdge(t,a)||(t=n.w,a=n.v);var i=e.node(t),o=e.node(a),u=i,s=!1;i.lim>o.lim&&(u=o,s=!0);var c=fe.filter(r.edges(),function(f){return s===Sl(e,e.node(f.v),u)&&s!==Sl(e,e.node(f.w),u)});return fe.minBy(c,function(f){return yb(r,f)})}function gv(e,r,n,t){var a=n.v,i=n.w;e.removeEdge(a,i),e.setEdge(t.v,t.w,{}),qu(e),wu(e,r),Ib(e,r)}function Ib(e,r){var n=fe.find(e.nodes(),function(a){return!r.node(a).parent}),t=qb(e,n);t=t.slice(1),fe.forEach(t,function(a){var i=e.node(a).parent,o=r.edge(a,i),u=!1;o||(o=r.edge(i,a),u=!0),r.node(a).rank=r.node(i).rank+(u?o.minlen:-o.minlen)})}function Sb(e,r,n){return e.hasEdge(r,n)}function Sl(e,r,n){return n.low<=r.lim&&r.lim<=n.lim}var Cb=Zr,_v=Cb.longestPath,Tb=dv,kb=Eb,Ob=Mb;function Mb(e){switch(e.graph().ranker){case"network-simplex":Cl(e);break;case"tight-tree":Nb(e);break;case"longest-path":Pb(e);break;default:Cl(e)}}var Pb=_v;function Nb(e){_v(e),Tb(e)}function Cl(e){kb(e)}var Xo=L,Lb=$b;function $b(e){var r=jb(e);Xo.forEach(e.graph().dummyChains,function(n){for(var t=e.node(n),a=t.edgeObj,i=Fb(e,r,a.v,a.w),o=i.path,u=i.lca,s=0,c=o[s],f=!0;n!==a.w;){if(t=e.node(n),f){for(;(c=o[s])!==u&&e.node(c).maxRank<t.rank;)s++;c===u&&(f=!1)}if(!f){for(;s<o.length-1&&e.node(c=o[s+1]).minRank<=t.rank;)s++;c=o[s]}e.setParent(n,c),n=e.successors(n)[0]}})}function Fb(e,r,n,t){var a=[],i=[],o=Math.min(r[n].low,r[t].low),u=Math.max(r[n].lim,r[t].lim),s,c;s=n;do s=e.parent(s),a.push(s);while(s&&(r[s].low>o||u>r[s].lim));for(c=s,s=t;(s=e.parent(s))!==c;)i.push(s);return{path:a.concat(i.reverse()),lca:c}}function jb(e){var r={},n=0;function t(a){var i=n;Xo.forEach(e.children(a),t),r[a]={low:i,lim:n++}}return Xo.forEach(e.children(),t),r}var se=L,Zo=z,Gb={run:Db,cleanup:zb};function Db(e){var r=Zo.addDummyNode(e,"root",{},"_root"),n=Bb(e),t=se.max(se.values(n))-1,a=2*t+1;e.graph().nestingRoot=r,se.forEach(e.edges(),function(o){e.edge(o).minlen*=a});var i=Ub(e)+1;se.forEach(e.children(),function(o){mv(e,r,a,i,t,n,o)}),e.graph().nodeRankFactor=a}function mv(e,r,n,t,a,i,o){var u=e.children(o);if(!u.length){o!==r&&e.setEdge(r,o,{weight:0,minlen:n});return}var s=Zo.addBorderNode(e,"_bt"),c=Zo.addBorderNode(e,"_bb"),f=e.node(o);e.setParent(s,o),f.borderTop=s,e.setParent(c,o),f.borderBottom=c,se.forEach(u,function(d){mv(e,r,n,t,a,i,d);var l=e.node(d),h=l.borderTop?l.borderTop:d,v=l.borderBottom?l.borderBottom:d,p=l.borderTop?t:2*t,g=h!==v?1:a-i[o]+1;e.setEdge(s,h,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(v,c,{weight:p,minlen:g,nestingEdge:!0})}),e.parent(o)||e.setEdge(r,s,{weight:0,minlen:a+i[o]})}function Bb(e){var r={};function n(t,a){var i=e.children(t);i&&i.length&&se.forEach(i,function(o){n(o,a+1)}),r[t]=a}return se.forEach(e.children(),function(t){n(t,1)}),r}function Ub(e){return se.reduce(e.edges(),function(r,n){return r+e.edge(n).weight},0)}function zb(e){var r=e.graph();e.removeNode(r.nestingRoot),delete r.nestingRoot,se.forEach(e.edges(),function(n){var t=e.edge(n);t.nestingEdge&&e.removeEdge(n)})}var Bo=L,Hb=z,Vb=Kb;function Kb(e){function r(n){var t=e.children(n),a=e.node(n);if(t.length&&Bo.forEach(t,r),Bo.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var i=a.minRank,o=a.maxRank+1;i<o;++i)Tl(e,"borderLeft","_bl",n,a,i),Tl(e,"borderRight","_br",n,a,i)}}Bo.forEach(e.children(),r)}function Tl(e,r,n,t,a,i){var o={width:0,height:0,rank:i,borderType:r},u=a[r][i-1],s=Hb.addDummyNode(e,"border",o,n);a[r][i]=s,e.setParent(s,t),u&&e.setEdge(u,s,{weight:1})}var re=L,Wb={adjust:Yb,undo:Xb};function Yb(e){var r=e.graph().rankdir.toLowerCase();(r==="lr"||r==="rl")&&bv(e)}function Xb(e){var r=e.graph().rankdir.toLowerCase();(r==="bt"||r==="rl")&&Zb(e),(r==="lr"||r==="rl")&&(Jb(e),bv(e))}function bv(e){re.forEach(e.nodes(),function(r){kl(e.node(r))}),re.forEach(e.edges(),function(r){kl(e.edge(r))})}function kl(e){var r=e.width;e.width=e.height,e.height=r}function Zb(e){re.forEach(e.nodes(),function(r){Uo(e.node(r))}),re.forEach(e.edges(),function(r){var n=e.edge(r);re.forEach(n.points,Uo),re.has(n,"y")&&Uo(n)})}function Uo(e){e.y=-e.y}function Jb(e){re.forEach(e.nodes(),function(r){zo(e.node(r))}),re.forEach(e.edges(),function(r){var n=e.edge(r);re.forEach(n.points,zo),re.has(n,"x")&&zo(n)})}function zo(e){var r=e.x;e.x=e.y,e.y=r}var ie=L,Qb=ey;function ey(e){var r={},n=ie.filter(e.nodes(),function(u){return!e.children(u).length}),t=ie.max(ie.map(n,function(u){return e.node(u).rank})),a=ie.map(ie.range(t+1),function(){return[]});function i(u){if(!ie.has(r,u)){r[u]=!0;var s=e.node(u);a[s.rank].push(u),ie.forEach(e.successors(u),i)}}var o=ie.sortBy(n,function(u){return e.node(u).rank});return ie.forEach(o,i),a}var pe=L,ry=ny;function ny(e,r){for(var n=0,t=1;t<r.length;++t)n+=ty(e,r[t-1],r[t]);return n}function ty(e,r,n){for(var t=pe.zipObject(n,pe.map(n,function(c,f){return f})),a=pe.flatten(pe.map(r,function(c){return pe.sortBy(pe.map(e.outEdges(c),function(f){return{pos:t[f.w],weight:e.edge(f).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var o=2*i-1;i-=1;var u=pe.map(new Array(o),function(){return 0}),s=0;return pe.forEach(a.forEach(function(c){var f=c.pos+i;u[f]+=c.weight;for(var d=0;f>0;)f%2&&(d+=u[f+1]),f=f-1>>1,u[f]+=c.weight;s+=c.weight*d})),s}var Ol=L,ay=iy;function iy(e,r){return Ol.map(r,function(n){var t=e.inEdges(n);if(t.length){var a=Ol.reduce(t,function(i,o){var u=e.edge(o),s=e.node(o.v);return{sum:i.sum+u.weight*s.order,weight:i.weight+u.weight}},{sum:0,weight:0});return{v:n,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:n}})}var V=L,oy=uy;function uy(e,r){var n={};V.forEach(e,function(a,i){var o=n[a.v]={indegree:0,in:[],out:[],vs:[a.v],i};V.isUndefined(a.barycenter)||(o.barycenter=a.barycenter,o.weight=a.weight)}),V.forEach(r.edges(),function(a){var i=n[a.v],o=n[a.w];!V.isUndefined(i)&&!V.isUndefined(o)&&(o.indegree++,i.out.push(n[a.w]))});var t=V.filter(n,function(a){return!a.indegree});return sy(t)}function sy(e){var r=[];function n(i){return function(o){o.merged||(V.isUndefined(o.barycenter)||V.isUndefined(i.barycenter)||o.barycenter>=i.barycenter)&&fy(i,o)}}function t(i){return function(o){o.in.push(i),--o.indegree===0&&e.push(o)}}for(;e.length;){var a=e.pop();r.push(a),V.forEach(a.in.reverse(),n(a)),V.forEach(a.out,t(a))}return V.map(V.filter(r,function(i){return!i.merged}),function(i){return V.pick(i,["vs","i","barycenter","weight"])})}function fy(e,r){var n=0,t=0;e.weight&&(n+=e.barycenter*e.weight,t+=e.weight),r.weight&&(n+=r.barycenter*r.weight,t+=r.weight),e.vs=r.vs.concat(e.vs),e.barycenter=n/t,e.weight=t,e.i=Math.min(r.i,e.i),r.merged=!0}var Ke=L,cy=z,dy=ly;function ly(e,r){var n=cy.partition(e,function(f){return Ke.has(f,"barycenter")}),t=n.lhs,a=Ke.sortBy(n.rhs,function(f){return-f.i}),i=[],o=0,u=0,s=0;t.sort(hy(!!r)),s=Ml(i,a,s),Ke.forEach(t,function(f){s+=f.vs.length,i.push(f.vs),o+=f.barycenter*f.weight,u+=f.weight,s=Ml(i,a,s)});var c={vs:Ke.flatten(i,!0)};return u&&(c.barycenter=o/u,c.weight=u),c}function Ml(e,r,n){for(var t;r.length&&(t=Ke.last(r)).i<=n;)r.pop(),e.push(t.vs),n++;return n}function hy(e){return function(r,n){return r.barycenter<n.barycenter?-1:r.barycenter>n.barycenter?1:e?n.i-r.i:r.i-n.i}}var ge=L,vy=ay,py=oy,gy=dy,_y=yv;function yv(e,r,n,t){var a=e.children(r),i=e.node(r),o=i?i.borderLeft:void 0,u=i?i.borderRight:void 0,s={};o&&(a=ge.filter(a,function(v){return v!==o&&v!==u}));var c=vy(e,a);ge.forEach(c,function(v){if(e.children(v.v).length){var p=yv(e,v.v,n,t);s[v.v]=p,ge.has(p,"barycenter")&&by(v,p)}});var f=py(c,n);my(f,s);var d=gy(f,t);if(o&&(d.vs=ge.flatten([o,d.vs,u],!0),e.predecessors(o).length)){var l=e.node(e.predecessors(o)[0]),h=e.node(e.predecessors(u)[0]);ge.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+l.order+h.order)/(d.weight+2),d.weight+=2}return d}function my(e,r){ge.forEach(e,function(n){n.vs=ge.flatten(n.vs.map(function(t){return r[t]?r[t].vs:t}),!0)})}function by(e,r){ge.isUndefined(e.barycenter)?(e.barycenter=r.barycenter,e.weight=r.weight):(e.barycenter=(e.barycenter*e.weight+r.barycenter*r.weight)/(e.weight+r.weight),e.weight+=r.weight)}var We=L,yy=Q.Graph,wy=qy;function qy(e,r,n){var t=xy(e),a=new yy({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(i){return e.node(i)});return We.forEach(e.nodes(),function(i){var o=e.node(i),u=e.parent(i);(o.rank===r||o.minRank<=r&&r<=o.maxRank)&&(a.setNode(i),a.setParent(i,u||t),We.forEach(e[n](i),function(s){var c=s.v===i?s.w:s.v,f=a.edge(c,i),d=We.isUndefined(f)?0:f.weight;a.setEdge(c,i,{weight:e.edge(s).weight+d})}),We.has(o,"minRank")&&a.setNode(i,{borderLeft:o.borderLeft[r],borderRight:o.borderRight[r]}))}),a}function xy(e){for(var r;e.hasNode(r=We.uniqueId("_root")););return r}var Ry=L,Ey=Ay;function Ay(e,r,n){var t={},a;Ry.forEach(n,function(i){for(var o=e.parent(i),u,s;o;){if(u=e.parent(o),u?(s=t[u],t[u]=o):(s=a,a=o),s&&s!==o){r.setEdge(s,o);return}o=u}})}var _e=L,Iy=Qb,Sy=ry,Cy=_y,Ty=wy,ky=Ey,Oy=Q.Graph,Pl=z,My=Py;function Py(e){var r=Pl.maxRank(e),n=Nl(e,_e.range(1,r+1),"inEdges"),t=Nl(e,_e.range(r-1,-1,-1),"outEdges"),a=Iy(e);Ll(e,a);for(var i=Number.POSITIVE_INFINITY,o,u=0,s=0;s<4;++u,++s){Ny(u%2?n:t,u%4>=2),a=Pl.buildLayerMatrix(e);var c=Sy(e,a);c<i&&(s=0,o=_e.cloneDeep(a),i=c)}Ll(e,o)}function Nl(e,r,n){return _e.map(r,function(t){return Ty(e,t,n)})}function Ny(e,r){var n=new Oy;_e.forEach(e,function(t){var a=t.graph().root,i=Cy(t,a,n,r);_e.forEach(i.vs,function(o,u){t.node(o).order=u}),ky(t,n,i.vs)})}function Ll(e,r){_e.forEach(r,function(n){_e.forEach(n,function(t,a){e.node(t).order=a})})}var C=L,Ly=Q.Graph,$y=z,Fy={positionX:Dy,findType1Conflicts:wv,findType2Conflicts:qv,addConflict:xu,hasConflict:xv,verticalAlignment:Rv,horizontalCompaction:Ev,alignCoordinates:Iv,findSmallestWidthAlignment:Av,balance:Sv};function wv(e,r){var n={};function t(a,i){var o=0,u=0,s=a.length,c=C.last(i);return C.forEach(i,function(f,d){var l=jy(e,f),h=l?e.node(l).order:s;(l||f===c)&&(C.forEach(i.slice(u,d+1),function(v){C.forEach(e.predecessors(v),function(p){var g=e.node(p),_=g.order;(_<o||h<_)&&!(g.dummy&&e.node(v).dummy)&&xu(n,p,v)})}),u=d+1,o=h)}),i}return C.reduce(r,t),n}function qv(e,r){var n={};function t(i,o,u,s,c){var f;C.forEach(C.range(o,u),function(d){f=i[d],e.node(f).dummy&&C.forEach(e.predecessors(f),function(l){var h=e.node(l);h.dummy&&(h.order<s||h.order>c)&&xu(n,l,f)})})}function a(i,o){var u=-1,s,c=0;return C.forEach(o,function(f,d){if(e.node(f).dummy==="border"){var l=e.predecessors(f);l.length&&(s=e.node(l[0]).order,t(o,c,d,u,s),c=d,u=s)}t(o,c,o.length,s,i.length)}),o}return C.reduce(r,a),n}function jy(e,r){if(e.node(r).dummy)return C.find(e.predecessors(r),function(n){return e.node(n).dummy})}function xu(e,r,n){if(r>n){var t=r;r=n,n=t}var a=e[r];a||(e[r]=a={}),a[n]=!0}function xv(e,r,n){if(r>n){var t=r;r=n,n=t}return C.has(e[r],n)}function Rv(e,r,n,t){var a={},i={},o={};return C.forEach(r,function(u){C.forEach(u,function(s,c){a[s]=s,i[s]=s,o[s]=c})}),C.forEach(r,function(u){var s=-1;C.forEach(u,function(c){var f=t(c);if(f.length){f=C.sortBy(f,function(p){return o[p]});for(var d=(f.length-1)/2,l=Math.floor(d),h=Math.ceil(d);l<=h;++l){var v=f[l];i[c]===c&&s<o[v]&&!xv(n,c,v)&&(i[v]=c,i[c]=a[c]=a[v],s=o[v])}}})}),{root:a,align:i}}function Ev(e,r,n,t,a){var i={},o=Gy(e,r,n,a),u=a?"borderLeft":"borderRight";function s(d,l){for(var h=o.nodes(),v=h.pop(),p={};v;)p[v]?d(v):(p[v]=!0,h.push(v),h=h.concat(l(v))),v=h.pop()}function c(d){i[d]=o.inEdges(d).reduce(function(l,h){return Math.max(l,i[h.v]+o.edge(h))},0)}function f(d){var l=o.outEdges(d).reduce(function(v,p){return Math.min(v,i[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),h=e.node(d);l!==Number.POSITIVE_INFINITY&&h.borderType!==u&&(i[d]=Math.max(i[d],l))}return s(c,o.predecessors.bind(o)),s(f,o.successors.bind(o)),C.forEach(t,function(d){i[d]=i[n[d]]}),i}function Gy(e,r,n,t){var a=new Ly,i=e.graph(),o=By(i.nodesep,i.edgesep,t);return C.forEach(r,function(u){var s;C.forEach(u,function(c){var f=n[c];if(a.setNode(f),s){var d=n[s],l=a.edge(d,f);a.setEdge(d,f,Math.max(o(e,c,s),l||0))}s=c})}),a}function Av(e,r){return C.minBy(C.values(r),function(n){var t=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return C.forIn(n,function(i,o){var u=Uy(e,o)/2;t=Math.max(i+u,t),a=Math.min(i-u,a)}),t-a})}function Iv(e,r){var n=C.values(r),t=C.min(n),a=C.max(n);C.forEach(["u","d"],function(i){C.forEach(["l","r"],function(o){var u=i+o,s=e[u],c;if(s!==r){var f=C.values(s);c=o==="l"?t-C.min(f):a-C.max(f),c&&(e[u]=C.mapValues(s,function(d){return d+c}))}})})}function Sv(e,r){return C.mapValues(e.ul,function(n,t){if(r)return e[r.toLowerCase()][t];var a=C.sortBy(C.map(e,t));return(a[1]+a[2])/2})}function Dy(e){var r=$y.buildLayerMatrix(e),n=C.merge(wv(e,r),qv(e,r)),t={},a;C.forEach(["u","d"],function(o){a=o==="u"?r:C.values(r).reverse(),C.forEach(["l","r"],function(u){u==="r"&&(a=C.map(a,function(d){return C.values(d).reverse()}));var s=(o==="u"?e.predecessors:e.successors).bind(e),c=Rv(e,a,n,s),f=Ev(e,a,c.root,c.align,u==="r");u==="r"&&(f=C.mapValues(f,function(d){return-d})),t[o+u]=f})});var i=Av(e,t);return Iv(t,i),Sv(t,e.graph().align)}function By(e,r,n){return function(t,a,i){var o=t.node(a),u=t.node(i),s=0,c;if(s+=o.width/2,C.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(s+=n?c:-c),c=0,s+=(o.dummy?r:e)/2,s+=(u.dummy?r:e)/2,s+=u.width/2,C.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":c=u.width/2;break;case"r":c=-u.width/2;break}return c&&(s+=n?c:-c),c=0,s}}function Uy(e,r){return e.node(r).width}var Ye=L,Cv=z,zy=Fy.positionX,Hy=Vy;function Vy(e){e=Cv.asNonCompoundGraph(e),Ky(e),Ye.forEach(zy(e),function(r,n){e.node(n).x=r})}function Ky(e){var r=Cv.buildLayerMatrix(e),n=e.graph().ranksep,t=0;Ye.forEach(r,function(a){var i=Ye.max(Ye.map(a,function(o){return e.node(o).height}));Ye.forEach(a,function(o){e.node(o).y=t+i/2}),t+=i+n})}var O=L,$l=Hm,Fl=sb,Wy=Ob,Yy=z.normalizeRanks,Xy=Lb,Zy=z.removeEmptyRanks,jl=Gb,Jy=Vb,Gl=Wb,Qy=My,e0=Hy,me=z,r0=Q.Graph,n0=t0;function t0(e,r){var n=r&&r.debugTiming?me.time:me.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return v0(e)});n("  runLayout",function(){a0(t,n)}),n("  updateInputGraph",function(){i0(e,t)})})}function a0(e,r){r("    makeSpaceForEdgeLabels",function(){p0(e)}),r("    removeSelfEdges",function(){R0(e)}),r("    acyclic",function(){$l.run(e)}),r("    nestingGraph.run",function(){jl.run(e)}),r("    rank",function(){Wy(me.asNonCompoundGraph(e))}),r("    injectEdgeLabelProxies",function(){g0(e)}),r("    removeEmptyRanks",function(){Zy(e)}),r("    nestingGraph.cleanup",function(){jl.cleanup(e)}),r("    normalizeRanks",function(){Yy(e)}),r("    assignRankMinMax",function(){_0(e)}),r("    removeEdgeLabelProxies",function(){m0(e)}),r("    normalize.run",function(){Fl.run(e)}),r("    parentDummyChains",function(){Xy(e)}),r("    addBorderSegments",function(){Jy(e)}),r("    order",function(){Qy(e)}),r("    insertSelfEdges",function(){E0(e)}),r("    adjustCoordinateSystem",function(){Gl.adjust(e)}),r("    position",function(){e0(e)}),r("    positionSelfEdges",function(){A0(e)}),r("    removeBorderNodes",function(){x0(e)}),r("    normalize.undo",function(){Fl.undo(e)}),r("    fixupEdgeLabelCoords",function(){w0(e)}),r("    undoCoordinateSystem",function(){Gl.undo(e)}),r("    translateGraph",function(){b0(e)}),r("    assignNodeIntersects",function(){y0(e)}),r("    reversePoints",function(){q0(e)}),r("    acyclic.undo",function(){$l.undo(e)})}function i0(e,r){O.forEach(e.nodes(),function(n){var t=e.node(n),a=r.node(n);t&&(t.x=a.x,t.y=a.y,r.children(n).length&&(t.width=a.width,t.height=a.height))}),O.forEach(e.edges(),function(n){var t=e.edge(n),a=r.edge(n);t.points=a.points,O.has(a,"x")&&(t.x=a.x,t.y=a.y)}),e.graph().width=r.graph().width,e.graph().height=r.graph().height}var o0=["nodesep","edgesep","ranksep","marginx","marginy"],u0={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},s0=["acyclicer","ranker","rankdir","align"],f0=["width","height"],c0={width:0,height:0},d0=["minlen","weight","width","height","labeloffset"],l0={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},h0=["labelpos"];function v0(e){var r=new r0({multigraph:!0,compound:!0}),n=Vo(e.graph());return r.setGraph(O.merge({},u0,Ho(n,o0),O.pick(n,s0))),O.forEach(e.nodes(),function(t){var a=Vo(e.node(t));r.setNode(t,O.defaults(Ho(a,f0),c0)),r.setParent(t,e.parent(t))}),O.forEach(e.edges(),function(t){var a=Vo(e.edge(t));r.setEdge(t,O.merge({},l0,Ho(a,d0),O.pick(a,h0)))}),r}function p0(e){var r=e.graph();r.ranksep/=2,O.forEach(e.edges(),function(n){var t=e.edge(n);t.minlen*=2,t.labelpos.toLowerCase()!=="c"&&(r.rankdir==="TB"||r.rankdir==="BT"?t.width+=t.labeloffset:t.height+=t.labeloffset)})}function g0(e){O.forEach(e.edges(),function(r){var n=e.edge(r);if(n.width&&n.height){var t=e.node(r.v),a=e.node(r.w),i={rank:(a.rank-t.rank)/2+t.rank,e:r};me.addDummyNode(e,"edge-proxy",i,"_ep")}})}function _0(e){var r=0;O.forEach(e.nodes(),function(n){var t=e.node(n);t.borderTop&&(t.minRank=e.node(t.borderTop).rank,t.maxRank=e.node(t.borderBottom).rank,r=O.max(r,t.maxRank))}),e.graph().maxRank=r}function m0(e){O.forEach(e.nodes(),function(r){var n=e.node(r);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(r))})}function b0(e){var r=Number.POSITIVE_INFINITY,n=0,t=Number.POSITIVE_INFINITY,a=0,i=e.graph(),o=i.marginx||0,u=i.marginy||0;function s(c){var f=c.x,d=c.y,l=c.width,h=c.height;r=Math.min(r,f-l/2),n=Math.max(n,f+l/2),t=Math.min(t,d-h/2),a=Math.max(a,d+h/2)}O.forEach(e.nodes(),function(c){s(e.node(c))}),O.forEach(e.edges(),function(c){var f=e.edge(c);O.has(f,"x")&&s(f)}),r-=o,t-=u,O.forEach(e.nodes(),function(c){var f=e.node(c);f.x-=r,f.y-=t}),O.forEach(e.edges(),function(c){var f=e.edge(c);O.forEach(f.points,function(d){d.x-=r,d.y-=t}),O.has(f,"x")&&(f.x-=r),O.has(f,"y")&&(f.y-=t)}),i.width=n-r+o,i.height=a-t+u}function y0(e){O.forEach(e.edges(),function(r){var n=e.edge(r),t=e.node(r.v),a=e.node(r.w),i,o;n.points?(i=n.points[0],o=n.points[n.points.length-1]):(n.points=[],i=a,o=t),n.points.unshift(me.intersectRect(t,i)),n.points.push(me.intersectRect(a,o))})}function w0(e){O.forEach(e.edges(),function(r){var n=e.edge(r);if(O.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function q0(e){O.forEach(e.edges(),function(r){var n=e.edge(r);n.reversed&&n.points.reverse()})}function x0(e){O.forEach(e.nodes(),function(r){if(e.children(r).length){var n=e.node(r),t=e.node(n.borderTop),a=e.node(n.borderBottom),i=e.node(O.last(n.borderLeft)),o=e.node(O.last(n.borderRight));n.width=Math.abs(o.x-i.x),n.height=Math.abs(a.y-t.y),n.x=i.x+n.width/2,n.y=t.y+n.height/2}}),O.forEach(e.nodes(),function(r){e.node(r).dummy==="border"&&e.removeNode(r)})}function R0(e){O.forEach(e.edges(),function(r){if(r.v===r.w){var n=e.node(r.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:r,label:e.edge(r)}),e.removeEdge(r)}})}function E0(e){var r=me.buildLayerMatrix(e);O.forEach(r,function(n){var t=0;O.forEach(n,function(a,i){var o=e.node(a);o.order=i+t,O.forEach(o.selfEdges,function(u){me.addDummyNode(e,"selfedge",{width:u.label.width,height:u.label.height,rank:o.rank,order:i+ ++t,e:u.e,label:u.label},"_se")}),delete o.selfEdges})})}function A0(e){O.forEach(e.nodes(),function(r){var n=e.node(r);if(n.dummy==="selfedge"){var t=e.node(n.e.v),a=t.x+t.width/2,i=t.y,o=n.x-a,u=t.height/2;e.setEdge(n.e,n.label),e.removeNode(r),n.label.points=[{x:a+2*o/3,y:i-u},{x:a+5*o/6,y:i-u},{x:a+o,y:i},{x:a+5*o/6,y:i+u},{x:a+2*o/3,y:i+u}],n.label.x=n.x,n.label.y=n.y}})}function Ho(e,r){return O.mapValues(O.pick(e,r),Number)}function Vo(e){var r={};return O.forEach(e,function(n,t){r[t.toLowerCase()]=n}),r}var hr=L,I0=z,S0=Q.Graph,C0={debugOrdering:T0};function T0(e){var r=I0.buildLayerMatrix(e),n=new S0({compound:!0,multigraph:!0}).setGraph({});return hr.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),hr.forEach(e.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),hr.forEach(r,function(t,a){var i="layer"+a;n.setNode(i,{rank:"same"}),hr.reduce(t,function(o,u){return n.setEdge(o,u,{style:"invis"}),u})}),n}var k0="0.8.5",O0={graphlib:Q,layout:n0,debug:C0,util:{time:z.time,notime:z.notime},version:k0};const Dl=sp(O0);function mr(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function M0(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function Tv(e){let r,n,t;e.length!==2?(r=mr,n=(u,s)=>mr(e(u),s),t=(u,s)=>e(u)-s):(r=e===mr||e===M0?e:P0,n=e,t=e);function a(u,s,c=0,f=u.length){if(c<f){if(r(s,s)!==0)return f;do{const d=c+f>>>1;n(u[d],s)<0?c=d+1:f=d}while(c<f)}return c}function i(u,s,c=0,f=u.length){if(c<f){if(r(s,s)!==0)return f;do{const d=c+f>>>1;n(u[d],s)<=0?c=d+1:f=d}while(c<f)}return c}function o(u,s,c=0,f=u.length){const d=a(u,s,c,f-1);return d>c&&t(u[d-1],s)>-t(u[d],s)?d-1:d}return{left:a,center:o,right:i}}function P0(){return 0}function N0(e){return e===null?NaN:+e}const L0=Tv(mr),$0=L0.right;Tv(N0).center;const F0=$0,j0=Math.sqrt(50),G0=Math.sqrt(10),D0=Math.sqrt(2);function Ir(e,r,n){const t=(r-e)/Math.max(0,n),a=Math.floor(Math.log10(t)),i=t/Math.pow(10,a),o=i>=j0?10:i>=G0?5:i>=D0?2:1;let u,s,c;return a<0?(c=Math.pow(10,-a)/o,u=Math.round(e*c),s=Math.round(r*c),u/c<e&&++u,s/c>r&&--s,c=-c):(c=Math.pow(10,a)*o,u=Math.round(e/c),s=Math.round(r/c),u*c<e&&++u,s*c>r&&--s),s<u&&.5<=n&&n<2?Ir(e,r,n*2):[u,s,c]}function B0(e,r,n){if(r=+r,e=+e,n=+n,!(n>0))return[];if(e===r)return[e];const t=r<e,[a,i,o]=t?Ir(r,e,n):Ir(e,r,n);if(!(i>=a))return[];const u=i-a+1,s=new Array(u);if(t)if(o<0)for(let c=0;c<u;++c)s[c]=(i-c)/-o;else for(let c=0;c<u;++c)s[c]=(i-c)*o;else if(o<0)for(let c=0;c<u;++c)s[c]=(a+c)/-o;else for(let c=0;c<u;++c)s[c]=(a+c)*o;return s}function Jo(e,r,n){return r=+r,e=+e,n=+n,Ir(e,r,n)[2]}function U0(e,r,n){r=+r,e=+e,n=+n;const t=r<e,a=t?Jo(r,e,n):Jo(e,r,n);return(t?-1:1)*(a<0?1/-a:a)}function z0(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Ru(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function kv(e,r){var n=Object.create(e.prototype);for(var t in r)n[t]=r[t];return n}function ar(){}var Xe=.7,Sr=1/Xe,$e="\\s*([+-]?\\d+)\\s*",Ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ne="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H0=/^#([0-9a-f]{3,8})$/,V0=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),K0=new RegExp(`^rgb\\(${ne},${ne},${ne}\\)$`),W0=new RegExp(`^rgba\\(${$e},${$e},${$e},${Ze}\\)$`),Y0=new RegExp(`^rgba\\(${ne},${ne},${ne},${Ze}\\)$`),X0=new RegExp(`^hsl\\(${Ze},${ne},${ne}\\)$`),Z0=new RegExp(`^hsla\\(${Ze},${ne},${ne},${Ze}\\)$`),Bl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ru(ar,Je,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ul,formatHex:Ul,formatHex8:J0,formatHsl:Q0,formatRgb:zl,toString:zl});function Ul(){return this.rgb().formatHex()}function J0(){return this.rgb().formatHex8()}function Q0(){return Ov(this).formatHsl()}function zl(){return this.rgb().formatRgb()}function Je(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=H0.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?Hl(r):n===3?new U(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?vr(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?vr(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=V0.exec(e))?new U(r[1],r[2],r[3],1):(r=K0.exec(e))?new U(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=W0.exec(e))?vr(r[1],r[2],r[3],r[4]):(r=Y0.exec(e))?vr(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=X0.exec(e))?Wl(r[1],r[2]/100,r[3]/100,1):(r=Z0.exec(e))?Wl(r[1],r[2]/100,r[3]/100,r[4]):Bl.hasOwnProperty(e)?Hl(Bl[e]):e==="transparent"?new U(NaN,NaN,NaN,0):null}function Hl(e){return new U(e>>16&255,e>>8&255,e&255,1)}function vr(e,r,n,t){return t<=0&&(e=r=n=NaN),new U(e,r,n,t)}function e1(e){return e instanceof ar||(e=Je(e)),e?(e=e.rgb(),new U(e.r,e.g,e.b,e.opacity)):new U}function Qo(e,r,n,t){return arguments.length===1?e1(e):new U(e,r,n,t??1)}function U(e,r,n,t){this.r=+e,this.g=+r,this.b=+n,this.opacity=+t}Ru(U,Qo,kv(ar,{brighter(e){return e=e==null?Sr:Math.pow(Sr,e),new U(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xe:Math.pow(Xe,e),new U(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new U(Re(this.r),Re(this.g),Re(this.b),Cr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vl,formatHex:Vl,formatHex8:r1,formatRgb:Kl,toString:Kl}));function Vl(){return`#${xe(this.r)}${xe(this.g)}${xe(this.b)}`}function r1(){return`#${xe(this.r)}${xe(this.g)}${xe(this.b)}${xe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kl(){const e=Cr(this.opacity);return`${e===1?"rgb(":"rgba("}${Re(this.r)}, ${Re(this.g)}, ${Re(this.b)}${e===1?")":`, ${e})`}`}function Cr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Re(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xe(e){return e=Re(e),(e<16?"0":"")+e.toString(16)}function Wl(e,r,n,t){return t<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new Z(e,r,n,t)}function Ov(e){if(e instanceof Z)return new Z(e.h,e.s,e.l,e.opacity);if(e instanceof ar||(e=Je(e)),!e)return new Z;if(e instanceof Z)return e;e=e.rgb();var r=e.r/255,n=e.g/255,t=e.b/255,a=Math.min(r,n,t),i=Math.max(r,n,t),o=NaN,u=i-a,s=(i+a)/2;return u?(r===i?o=(n-t)/u+(n<t)*6:n===i?o=(t-r)/u+2:o=(r-n)/u+4,u/=s<.5?i+a:2-i-a,o*=60):u=s>0&&s<1?0:o,new Z(o,u,s,e.opacity)}function n1(e,r,n,t){return arguments.length===1?Ov(e):new Z(e,r,n,t??1)}function Z(e,r,n,t){this.h=+e,this.s=+r,this.l=+n,this.opacity=+t}Ru(Z,n1,kv(ar,{brighter(e){return e=e==null?Sr:Math.pow(Sr,e),new Z(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xe:Math.pow(Xe,e),new Z(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,t=n+(n<.5?n:1-n)*r,a=2*n-t;return new U(Ko(e>=240?e-240:e+120,a,t),Ko(e,a,t),Ko(e<120?e+240:e-120,a,t),this.opacity)},clamp(){return new Z(Yl(this.h),pr(this.s),pr(this.l),Cr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cr(this.opacity);return`${e===1?"hsl(":"hsla("}${Yl(this.h)}, ${pr(this.s)*100}%, ${pr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yl(e){return e=(e||0)%360,e<0?e+360:e}function pr(e){return Math.max(0,Math.min(1,e||0))}function Ko(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const Eu=e=>()=>e;function t1(e,r){return function(n){return e+n*r}}function a1(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(t){return Math.pow(e+t*r,n)}}function i1(e){return(e=+e)==1?Mv:function(r,n){return n-r?a1(r,n,e):Eu(isNaN(r)?n:r)}}function Mv(e,r){var n=r-e;return n?t1(e,n):Eu(isNaN(e)?r:e)}const Xl=function e(r){var n=i1(r);function t(a,i){var o=n((a=Qo(a)).r,(i=Qo(i)).r),u=n(a.g,i.g),s=n(a.b,i.b),c=Mv(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=u(f),a.b=s(f),a.opacity=c(f),a+""}}return t.gamma=e,t}(1);function o1(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,t=r.slice(),a;return function(i){for(a=0;a<n;++a)t[a]=e[a]*(1-i)+r[a]*i;return t}}function u1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function s1(e,r){var n=r?r.length:0,t=e?Math.min(n,e.length):0,a=new Array(t),i=new Array(n),o;for(o=0;o<t;++o)a[o]=Au(e[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(u){for(o=0;o<t;++o)i[o]=a[o](u);return i}}function f1(e,r){var n=new Date;return e=+e,r=+r,function(t){return n.setTime(e*(1-t)+r*t),n}}function Tr(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function c1(e,r){var n={},t={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?n[a]=Au(e[a],r[a]):t[a]=r[a];return function(i){for(a in n)t[a]=n[a](i);return t}}var eu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wo=new RegExp(eu.source,"g");function d1(e){return function(){return e}}function l1(e){return function(r){return e(r)+""}}function h1(e,r){var n=eu.lastIndex=Wo.lastIndex=0,t,a,i,o=-1,u=[],s=[];for(e=e+"",r=r+"";(t=eu.exec(e))&&(a=Wo.exec(r));)(i=a.index)>n&&(i=r.slice(n,i),u[o]?u[o]+=i:u[++o]=i),(t=t[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,s.push({i:o,x:Tr(t,a)})),n=Wo.lastIndex;return n<r.length&&(i=r.slice(n),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?l1(s[0].x):d1(r):(r=s.length,function(c){for(var f=0,d;f<r;++f)u[(d=s[f]).i]=d.x(c);return u.join("")})}function Au(e,r){var n=typeof r,t;return r==null||n==="boolean"?Eu(r):(n==="number"?Tr:n==="string"?(t=Je(r))?(r=t,Xl):h1:r instanceof Je?Xl:r instanceof Date?f1:u1(r)?o1:Array.isArray(r)?s1:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?c1:Tr)(e,r)}function v1(e,r){return e=+e,r=+r,function(n){return Math.round(e*(1-n)+r*n)}}function p1(e){return function(){return e}}function g1(e){return+e}var Zl=[0,1];function Le(e){return e}function ru(e,r){return(r-=e=+e)?function(n){return(n-e)/r}:p1(isNaN(r)?NaN:.5)}function _1(e,r){var n;return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function m1(e,r,n){var t=e[0],a=e[1],i=r[0],o=r[1];return a<t?(t=ru(a,t),i=n(o,i)):(t=ru(t,a),i=n(i,o)),function(u){return i(t(u))}}function b1(e,r,n){var t=Math.min(e.length,r.length)-1,a=new Array(t),i=new Array(t),o=-1;for(e[t]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<t;)a[o]=ru(e[o],e[o+1]),i[o]=n(r[o],r[o+1]);return function(u){var s=F0(e,u,1,t)-1;return i[s](a[s](u))}}function y1(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function w1(){var e=Zl,r=Zl,n=Au,t,a,i,o=Le,u,s,c;function f(){var l=Math.min(e.length,r.length);return o!==Le&&(o=_1(e[0],e[l-1])),u=l>2?b1:m1,s=c=null,d}function d(l){return l==null||isNaN(l=+l)?i:(s||(s=u(e.map(t),r,n)))(t(o(l)))}return d.invert=function(l){return o(a((c||(c=u(r,e.map(t),Tr)))(l)))},d.domain=function(l){return arguments.length?(e=Array.from(l,g1),f()):e.slice()},d.range=function(l){return arguments.length?(r=Array.from(l),f()):r.slice()},d.rangeRound=function(l){return r=Array.from(l),n=v1,f()},d.clamp=function(l){return arguments.length?(o=l?!0:Le,f()):o!==Le},d.interpolate=function(l){return arguments.length?(n=l,f()):n},d.unknown=function(l){return arguments.length?(i=l,d):i},function(l,h){return t=l,a=h,f()}}function q1(){return w1()(Le,Le)}function x1(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kr(e,r){if((n=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var n,t=e.slice(0,n);return[t.length>1?t[0]+t.slice(2):t,+e.slice(n+1)]}function Fe(e){return e=kr(Math.abs(e)),e?e[1]:NaN}function R1(e,r){return function(n,t){for(var a=n.length,i=[],o=0,u=e[0],s=0;a>0&&u>0&&(s+u+1>t&&(u=Math.max(1,t-s)),i.push(n.substring(a-=u,a+u)),!((s+=u+1)>t));)u=e[o=(o+1)%e.length];return i.reverse().join(r)}}function E1(e){return function(r){return r.replace(/[0-9]/g,function(n){return e[+n]})}}var A1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Or(e){if(!(r=A1.exec(e)))throw new Error("invalid format: "+e);var r;return new Iu({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Or.prototype=Iu.prototype;function Iu(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Iu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function I1(e){e:for(var r=e.length,n=1,t=-1,a;n<r;++n)switch(e[n]){case".":t=a=n;break;case"0":t===0&&(t=n),a=n;break;default:if(!+e[n])break e;t>0&&(t=0);break}return t>0?e.slice(0,t)+e.slice(a+1):e}var Pv;function S1(e,r){var n=kr(e,r);if(!n)return e+"";var t=n[0],a=n[1],i=a-(Pv=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=t.length;return i===o?t:i>o?t+new Array(i-o+1).join("0"):i>0?t.slice(0,i)+"."+t.slice(i):"0."+new Array(1-i).join("0")+kr(e,Math.max(0,r+i-1))[0]}function Jl(e,r){var n=kr(e,r);if(!n)return e+"";var t=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+t:t.length>a+1?t.slice(0,a+1)+"."+t.slice(a+1):t+new Array(a-t.length+2).join("0")}const Ql={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:x1,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>Jl(e*100,r),r:Jl,s:S1,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eh(e){return e}var rh=Array.prototype.map,nh=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function C1(e){var r=e.grouping===void 0||e.thousands===void 0?eh:R1(rh.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",t=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?eh:E1(rh.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Or(d);var l=d.fill,h=d.align,v=d.sign,p=d.symbol,g=d.zero,_=d.width,m=d.comma,b=d.precision,R=d.trim,q=d.type;q==="n"?(m=!0,q="g"):Ql[q]||(b===void 0&&(b=12),R=!0,q="g"),(g||l==="0"&&h==="=")&&(g=!0,l="0",h="=");var x=p==="$"?n:p==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",w=p==="$"?t:/[%p]/.test(q)?o:"",A=Ql[q],S=/[defgprs%]/.test(q);b=b===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(y){var I=x,k=w,$,ae,le;if(q==="c")k=A(y)+k,y="";else{y=+y;var Te=y<0||1/y<0;if(y=isNaN(y)?s:A(Math.abs(y),b),R&&(y=I1(y)),Te&&+y==0&&v!=="+"&&(Te=!1),I=(Te?v==="("?v:u:v==="-"||v==="("?"":v)+I,k=(q==="s"?nh[8+Pv/3]:"")+k+(Te&&v==="("?")":""),S){for($=-1,ae=y.length;++$<ae;)if(le=y.charCodeAt($),48>le||le>57){k=(le===46?a+y.slice($+1):y.slice($))+k,y=y.slice(0,$);break}}}m&&!g&&(y=r(y,1/0));var ye=I.length+y.length+k.length,Y=ye<_?new Array(_-ye+1).join(l):"";switch(m&&g&&(y=r(Y+y,Y.length?_-k.length:1/0),Y=""),h){case"<":y=I+y+k+Y;break;case"=":y=I+Y+y+k;break;case"^":y=Y.slice(0,ye=Y.length>>1)+I+y+k+Y.slice(ye);break;default:y=Y+I+y+k;break}return i(y)}return T.toString=function(){return d+""},T}function f(d,l){var h=c((d=Or(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Fe(l)/3)))*3,p=Math.pow(10,-v),g=nh[8+v/3];return function(_){return h(p*_)+g}}return{format:c,formatPrefix:f}}var gr,Nv,Lv;T1({thousands:",",grouping:[3],currency:["$",""]});function T1(e){return gr=C1(e),Nv=gr.format,Lv=gr.formatPrefix,gr}function k1(e){return Math.max(0,-Fe(Math.abs(e)))}function O1(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fe(r)/3)))*3-Fe(Math.abs(e)))}function M1(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,Fe(r)-Fe(e))+1}function P1(e,r,n,t){var a=U0(e,r,n),i;switch(t=Or(t??",f"),t.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return t.precision==null&&!isNaN(i=O1(a,o))&&(t.precision=i),Lv(t,o)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(i=M1(a,Math.max(Math.abs(e),Math.abs(r))))&&(t.precision=i-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(i=k1(a))&&(t.precision=i-(t.type==="%")*2);break}}return Nv(t)}function N1(e){var r=e.domain;return e.ticks=function(n){var t=r();return B0(t[0],t[t.length-1],n??10)},e.tickFormat=function(n,t){var a=r();return P1(a[0],a[a.length-1],n??10,t)},e.nice=function(n){n==null&&(n=10);var t=r(),a=0,i=t.length-1,o=t[a],u=t[i],s,c,f=10;for(u<o&&(c=o,o=u,u=c,c=a,a=i,i=c);f-- >0;){if(c=Jo(o,u,n),c===s)return t[a]=o,t[i]=u,r(t);if(c>0)o=Math.floor(o/c)*c,u=Math.ceil(u/c)*c;else if(c<0)o=Math.ceil(o*c)/c,u=Math.floor(u*c)/c;else break;s=c}return e},e}function $v(){var e=q1();return e.copy=function(){return y1(e,$v())},z0.apply(e,arguments),N1(e)}function L1(e,r){const n=ih([]),{theme:t}=fp(),a=$v().domain([0,2]).range([t.value.primaryColor,t.value.accentColor]),i=new Dl.graphlib.Graph;i.setDefaultEdgeLabel(()=>({})),i.setGraph({rankdir:"LR"});const{metasWithIdAsKey:o}=Sp(),u=oe(()=>E(e)),s=oe(()=>E(r)),c=300,f=oe(()=>s.value.showViews&&s.value.showAllColumns?50:40),d=oe(()=>u.value.reduce((_,m)=>{var q;const R=((q=o.value[m.id].columns)==null?void 0:q.filter(x=>br(x)&&x.system!==1))||[];for(const x of R){const w=x.colOptions,A=x.fk_model_id,S=w.fk_related_model_id,T=u.value.find(I=>I.id===A),y=u.value.find(I=>I.id===S);if(A&&S&&T&&y){const I={source:A,target:S,childColId:w.fk_child_column_id,parentColId:w.fk_parent_column_id,modelId:w.fk_mm_model_id,type:"hm"};if(w.type==="hm"){I.type="hm",_.push(I);continue}if(w.type==="mm"&&!_.find($=>$.type==="mm"&&$.parentColId===w.fk_child_column_id&&$.childColId===w.fk_parent_column_id)){I.type="mm",_.push(I);continue}}}return _},[]));function l({type:_,source:m,target:b,modelId:R,childColId:q,parentColId:x}){var T,y;const w=_==="mm"?"many to many":"has many",A=(T=o.value[m].columns)==null?void 0:T.find(I=>{const k=I.colOptions;return k?k.fk_child_column_id===q&&k.fk_parent_column_id===x&&k.fk_mm_model_id===R:!1}),S=(y=o.value[b].columns)==null?void 0:y.find(I=>{const k=I.colOptions;return k?k.fk_parent_column_id===(_==="mm"?q:x):!1});if(!A||!S)return"";if(_==="mm"&&s.value.showJunctionTableNames){if(!R)return"";const I=o.value[R];return I?I.title!==I.table_name?[`${I.title} (${I.table_name})`]:[I.title]:""}return[`[${o.value[m].title}] ${A.title} - ${w} - ${S.title} [${o.value[b].title}]`,`${o.value[m].title} - ${w} - ${o.value[b].title}`]}function h(){return u.value.reduce((_,m)=>{var x;if(!m.id)return _;const b=((x=o.value[m.id].columns)==null?void 0:x.filter(w=>[cr.CreatedBy,cr.LastModifiedBy].includes(w.uidt)&&w.system?!1:s.value.showAllColumns||!s.value.showAllColumns&&br(w)))||[],R=b.filter(()=>s.value.showPkAndFk).filter(w=>w.pk||w.uidt===cr.ForeignKey),q=b.filter(w=>!w.pk&&w.uidt!==cr.ForeignKey);return _.push({id:m.id,data:{table:o.value[m.id],pkAndFkColumns:R,nonPkColumns:q,showPkAndFk:s.value.showPkAndFk,showAllColumns:s.value.showAllColumns,columnLength:b.length,color:""},type:"custom",position:{x:0,y:0}}),_},[])}function v(){return d.value.reduce((_,{source:m,target:b,childColId:R,parentColId:q,type:x,modelId:w})=>{let A,S;x==="hm"&&(A=R,S=R),x==="mm"&&(A=q,S=R);const[T,y]=l({source:m,target:b,type:x,childColId:R,parentColId:q,modelId:w});return _.push({id:`e-${A}-${m}-${S}-${b}-#${T}`,source:`${m}`,target:`${b}`,sourceHandle:`s-${A}-${m}`,targetHandle:`d-${S}-${b}`,type:"custom",markerEnd:{id:"arrow-colored",type:qp.ArrowClosed},data:{isManyToMany:x==="mm",isSelfRelation:m===b&&A===S,label:T,simpleLabel:y,color:""}}),_},[])}const p=(_,m)=>({});return{elements:n,layout:async(_=!1)=>new Promise(m=>{n.value=[...h(),...v()];for(const b of n.value)if(Pu(b)){const q=b.data.columnLength,x=_?c*3:c,w=f.value+(_?250:q>0?f.value*q:f.value);i.setNode(b.id,{width:x,height:w})}else Nu(b)&&i.setEdge(b.source,b.target);Dl.layout(i);for(const b of n.value)if(Pu(b)){const R=a(i.predecessors(b.id).length),q=i.node(b.id);b.targetPosition=Ne.Left,b.sourcePosition=Ne.Right,b.position={x:q.x,y:q.y},b.class=["rounded-lg border-1 border-gray-200 shadow-lg"].join(" "),b.data.color=R,b.style=x=>(x.selected,p())}else if(Nu(b)){const R=n.value.find(q=>q.id===b.source);if(R){const q=R.data.color;b.data.color=q,b.markerEnd.color=`#${cp(q).toHex()}`}}m()})}}const rw=nu({__name:"Flow",props:{tables:{},config:{}},setup(e){const r=e,{tables:n,config:t}=dp(r),{$destroy:a,fitView:i,viewport:o,setMaxZoom:u,onNodeDoubleClick:s,zoomIn:c,zoomOut:f}=uh({minZoom:.05,maxZoom:2}),{layout:d,elements:l}=L1(n,t),h=oe(()=>o.value.zoom<.15);async function v(){i({duration:0,minZoom:.2}),d(h.value)}function p(g){i({nodes:g?[g]:void 0,duration:200,minZoom:.2})}return s(({node:g})=>{h.value&&p(),setTimeout(()=>{p(g.id)},250)}),_r(n,v,{flush:"post",immediate:!0}),_r(h,async g=>{d(g).then(()=>{g&&i({duration:300,minZoom:g?void 0:o.value.zoom,maxZoom:g?o.value.zoom:void 0})})}),_r(l,g=>{g.length>3?u(2):u(1.25)}),lp(a),(g,_)=>{const m=np,b=Np,R=zp;return j(),Pe(E(Ap),{modelValue:E(l),"onUpdate:modelValue":_[2]||(_[2]=q=>gp(l)?l.value=q:null)},{"node-custom":X(({data:q,dragging:x})=>[D(b,{data:q,dragging:x,"show-skeleton":E(h)},null,8,["data","dragging","show-skeleton"])]),"edge-custom":X(q=>[D(R,hp(q,{"show-skeleton":E(h)}),null,16,["show-skeleton"])]),default:X(()=>[D(E(xp),{class:"bg-transparent rounded-lg shadow-md border-1 border-gray-200",position:E(Lu).BottomLeft,"show-fit-view":!1,"show-interactive":!1},{"control-zoom-in":X(()=>[G("div",{class:"nc-erd-zoom-btn rounded-t-md",onClick:_[0]||(_[0]=(...q)=>E(c)&&E(c)(...q))},[D(m,{icon:"plus"})])]),"control-zoom-out":X(()=>[G("div",{class:"nc-erd-zoom-btn border-t-1 border-gray-200 rounded-b-lg",onClick:_[1]||(_[1]=(...q)=>E(f)&&E(f)(...q))},[D(m,{icon:"minus"})])]),_:1},8,["position"]),D(E(Rp),{size:E(h)?2:void 0,gap:E(h)?50:void 0},null,8,["size","gap"]),D(oh,{name:"layout"},{default:X(()=>[E(h)&&E(t).showAllColumns?(j(),Pe(E(Ep),{key:0,position:E(Lu).BottomCenter,class:"color-transition z-5 cursor-pointer rounded shadow-sm text-slate-400 font-semibold px-4 py-2 bg-slate-100/50 hover:text-slate-900 hover:ring hover:ring-accent hover:ring-opacity-100 hover:bg-slate-100/90",onClick:p},{default:X(()=>[vp(yr(g.$t("labels.zoomInToViewColumns")),1)]),_:1},8,["position"])):qr("",!0)]),_:1}),pp(g.$slots,"default")]),_:3},8,["modelValue"])}}});export{rw as default};
