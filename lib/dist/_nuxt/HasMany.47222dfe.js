import{f as W,bb as r,bA as Z,r as _,aM as q,eD as J,g as C,o as a,c as d,a as Q,O as e,U as L,V as X,P as f,T as p,cZ as Y,b as ee,cb as b,W as j,a0 as A,a1 as T}from"./entry.96205fa0.js";import{_ as te}from"./ItemChip.bf5fd0ab.js";import{_ as oe}from"./Icon.vue.6d0583a0.js";import{C as ne,o as ae,n as se,B as le,c as re,i as ie,H as ue,m as me}from"./index.9b87fcff.js";import{u as ce}from"./useLTARStore.444f4bbc.js";import{u as pe}from"./index.a5de28c1.js";import{a as _e}from"./useSmartsheetRowStore.9c7d6fc1.js";import{_ as de}from"./_plugin-vue_export-helper.c27b6911.js";import"./dataUtils.fb0a3616.js";import"./cell.810c4fd3.js";import"./index.9578d9a4.js";import"./index.e034edbd.js";import"./bases.965a49bb.js";import"./index.0c5b3837.js";import"./useSharedView.9e320acb.js";import"./deepCompare.d32ec333.js";import"./virtualCell.9142cfee.js";const fe=A(()=>T(()=>import("./ListItems.5a582ca1.js"),["./ListItems.5a582ca1.js","./entry.96205fa0.js","./entry.d09b2482.css","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Pagination.2fe08f8a.js","./Icon.vue.6d0583a0.js","./Tooltip.vue.00c0d0fb.js","./Tooltip.b86f91a1.css","./index.b5e393d6.js","./toArray.3561b70e.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.dbc63a5f.js","./useState.5a301439.js","./CheckOutlined.3b90c20d.js","./SearchOutlined.c9794270.js","./FormItemContext.b19eb48c.js","./Pagination.fabf8b70.css","./Modal.vue.3dac5189.js","./DeleteModal.7ab6f524.css","./bases.965a49bb.js","./index.0c5b3837.js","./index.9b87fcff.js","./cell.810c4fd3.js","./useLTARStore.444f4bbc.js","./index.e034edbd.js","./useSharedView.9e320acb.js","./useSmartsheetRowStore.9c7d6fc1.js","./deepCompare.d32ec333.js","./dataUtils.fb0a3616.js","./virtualCell.9142cfee.js","./plus.ddb9e9b9.js","./magnify.92946687.js","./inbox.41f0ce87.js","./index.1431a68b.js","./Input.3f1aaf0c.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./TextArea.b81a19ed.js","./Password.803cc3dc.js","./Image.d07b34cf.js","./Element.a2c5baa8.js","./index.7e75edca.js","./Input.553ad305.js","./ListItems.d8bb4ba4.css"],import.meta.url).then(u=>u.default||u)),ve=A(()=>T(()=>import("./ListChildItems.92636a54.js"),["./ListChildItems.92636a54.js","./entry.96205fa0.js","./entry.d09b2482.css","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Pagination.2fe08f8a.js","./Icon.vue.6d0583a0.js","./Tooltip.vue.00c0d0fb.js","./Tooltip.b86f91a1.css","./index.b5e393d6.js","./toArray.3561b70e.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.dbc63a5f.js","./useState.5a301439.js","./CheckOutlined.3b90c20d.js","./SearchOutlined.c9794270.js","./FormItemContext.b19eb48c.js","./Pagination.fabf8b70.css","./Modal.vue.3dac5189.js","./DeleteModal.7ab6f524.css","./bases.965a49bb.js","./index.0c5b3837.js","./index.9b87fcff.js","./cell.810c4fd3.js","./useLTARStore.444f4bbc.js","./index.e034edbd.js","./useSharedView.9e320acb.js","./useSmartsheetRowStore.9c7d6fc1.js","./deepCompare.d32ec333.js","./dataUtils.fb0a3616.js","./virtualCell.9142cfee.js","./plus.ddb9e9b9.js","./magnify.92946687.js","./inbox.41f0ce87.js","./index.1431a68b.js","./Input.3f1aaf0c.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./TextArea.b81a19ed.js","./Password.803cc3dc.js","./Image.d07b34cf.js","./Element.a2c5baa8.js","./Input.553ad305.js","./ListChildItems.7a5d47c9.css"],import.meta.url).then(u=>u.default||u)),ye={class:"flex items-center gap-1 w-full chips-wrapper"},ke={class:"chips flex items-center img-container flex-1 hm-items flex-nowrap min-w-0 overflow-hidden"},xe={key:0,class:"flex justify-end gap-1 min-h-[30px] items-center"},Ce=W({__name:"HasMany",async setup(u){let w,g;const m=r(ne),i=r(ae),E=r(se),M=r(le,Z()),U=r(re),D=r(ie,_(!1)),P=r(ue,_(!1)),s=_(!1),l=_(!1),{isUIAllowed:H}=q(),{state:v,isNew:y,removeLTARRef:B}=_e(),{relatedTableMeta:O,loadRelatedTableMeta:S,relatedTableDisplayValueProp:k,unlink:$}=ce(m,E,y,M.trigger);[w,g]=J(()=>S()),await w,g();const I=C(()=>{var t;return i!=null&&i.value?(i==null?void 0:i.value)??[]:y.value?((t=v==null?void 0:v.value)==null?void 0:t[m==null?void 0:m.value.title])??[]:[]}),R=C(()=>I.value.reduce((t,o)=>{if(!k.value)return t;const c=o[k.value];return c?[...t,{value:c,item:o}]:t},[])),z=async t=>{y.value?await B(t,m.value):await $(t)},x=C(()=>{var t,o;return(o=(t=O.value)==null?void 0:t.columns)==null?void 0:o.find(c=>c.title===k.value)}),N=()=>{l.value=!1,s.value=!0};return pe(r(me,_(!1)),t=>{switch(t.key){case"Enter":s.value=!0,t.stopPropagation();break}}),(t,o)=>{var V;const c=te,h=oe,F=fe,G=ve;return a(),d("div",ye,[Q("div",ke,[e(R)?(a(),d(L,{key:0},[(a(!0),d(L,null,X(e(R),(n,K)=>(a(),f(c,{key:K,item:n.item,value:n.value,column:e(x),"show-unlink-button":!0,onUnlink:we=>z(n.item)},null,8,["item","value","column","onUnlink"]))),128)),((V=e(i))==null?void 0:V.length)===10?(a(),d("span",{key:0,class:"caption pointer ml-1 grey--text",onClick:o[0]||(o[0]=n=>l.value=!0)}," more... ")):p("",!0)],64)):p("",!0)]),!e(P)&&!e(Y)(e(m))?(a(),d("div",xe,[ee(h,{icon:"expand",class:"select-none transform text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-arrow-expand",onClick:o[1]||(o[1]=b(n=>l.value=!0,["stop"]))}),!e(D)&&e(H)("dataEdit")||e(U)?(a(),f(h,{key:0,icon:"plus",class:"select-none text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-plus",onClick:o[2]||(o[2]=b(n=>s.value=!0,["stop"]))})):p("",!0)])):p("",!0),e(s)||e(l)?(a(),f(F,{key:1,modelValue:e(s),"onUpdate:modelValue":o[3]||(o[3]=n=>j(s)?s.value=n:null),column:e(x)},null,8,["modelValue","column"])):p("",!0),e(s)||e(l)?(a(),f(G,{key:2,modelValue:e(l),"onUpdate:modelValue":o[4]||(o[4]=n=>j(l)?l.value=n:null),"cell-value":e(I),column:e(x),onAttachRecord:N},null,8,["modelValue","cell-value","column"])):p("",!0)])}}});const Oe=de(Ce,[["__scopeId","data-v-8ff15f3a"]]);export{Oe as default};
