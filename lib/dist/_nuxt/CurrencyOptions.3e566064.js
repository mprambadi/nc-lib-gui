import{_ as Z}from"./Tooltip.vue.00c0d0fb.js";import{a1 as b,f as W,M as k,a5 as x,r as J,g as K,o as i,P as u,w as r,b as l,ae as T,O as e,c as A,U as O,V as U,a as R,d as B,t as D,Q as w,R as g,T as C}from"./entry.96205fa0.js";import{b as $}from"./EditOrAddProvider.vue.8b187915.js";import{S as Q,_ as j}from"./index.b5e393d6.js";import{_ as q}from"./FormItem.9f1f85f2.js";import{a as z,_ as ee}from"./index.208c1883.js";import"./Icon.vue.6d0583a0.js";import"./Button.vue.02ce6d5b.js";import"./index.9e8f59f4.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isSymbol.d46b4957.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./index.9b87fcff.js";import"./views.2c163cf7.js";import"./bases.965a49bb.js";import"./index.0c5b3837.js";import"./useSharedView.9e320acb.js";import"./validation.64563eeb.js";import"./index.886d43e1.js";import"./useSize.c98e621d.js";import"./identity.309e9ead.js";import"./_flatRest.ce557a88.js";import"./isPlainObject.631eb8fb.js";import"./_getPrototype.459a70cf.js";import"./FormItemContext.b19eb48c.js";import"./vuedraggable.umd.5a03c14e.js";import"./v3-infinite-loading.e5e5dc2d.js";import"./index.6c1d17b6.js";import"./Dropdown.1dedd322.js";import"./RightOutlined.3ce786f5.js";import"./index.1431a68b.js";import"./Input.3f1aaf0c.js";import"./antInputDirective.8ac36ea7.js";import"./SearchOutlined.c9794270.js";import"./TextArea.b81a19ed.js";import"./Password.803cc3dc.js";import"./cell.810c4fd3.js";import"./index.0b4c0f1e.js";import"./Checkbox.cf2cdba0.js";import"./createForOfIteratorHelper.f2005dfe.js";import"./toArray.3561b70e.js";import"./isMobile.e2e89480.js";import"./useMemo.dbc63a5f.js";import"./useState.5a301439.js";import"./CheckOutlined.3b90c20d.js";import"./Col.b3c5d725.js";import"./responsiveObserve.358bcfe9.js";const X=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUP","CVE","CYP","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHC","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MTL","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","ROL","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDD","SEK","SGD","SHP","SIT","SKK","SLL","SOS","SRD","STD","SYP","SZL","THB","TJS","TMM","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","USS","UYU","UZS","VEB","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XFO","XFU","XOF","XPD","XPF","XPT","XTS","XXX","YER","ZAR","ZMK","ZWD"];function te(c){return X.includes(c)}async function oe(){const{all:c}=await b(()=>import("./currencyCodes.109aaa71.js"),[],import.meta.url);return c.filter(s=>G(s.tag)).map(s=>({text:`${s.name} (${s.tag})`,value:s.tag}))}function G(c){try{return Intl.NumberFormat.supportedLocalesOf(c).length>0}catch{return!1}}const re={class:"flex gap-2 w-full truncate items-center"},ae={class:"flex gap-2 w-full justify-between items-center"},ne={class:"text-[#FB8C00]"},et=W({__name:"CurrencyOptions",props:{value:{}},emits:["update:value"],setup(c,{emit:s}){const E=c,F=s,{t:f}=k(),n=x(E,"value",F),V={"meta.currency_locale":[{validator:(t,a)=>new Promise((p,m)=>{if(!G(a))return m(new Error(f("msg.invalidLocale")));p()})}],"meta.currency_code":[{validator:(t,a)=>new Promise((p,m)=>{if(!te(a))return m(new Error(f("msg.invalidCurrencyCode")));p()})}]},{setAdditionalValidations:H,validateInfos:M,isPg:d}=$();H({...V});const h=X||[],P=J([]),_=K(()=>n.value.dt==="money"),I=K(()=>_.value&&d.value?f("msg.postgresHasItsOwnCurrencySettings"):"");function y(t,a){return a.value.toUpperCase().includes(t.toUpperCase())}return n.value.meta={currency_locale:"en-US",currency_code:"USD",...n.value.meta},oe().then(t=>{P.value.push(...t)}),(t,a)=>{const p=Z,m=Q,L=j,N=q,S=z,Y=ee;return i(),u(Y,{gutter:"8"},{default:r(()=>[l(S,{span:12},{default:r(()=>[l(N,T(e(M)["meta.currency_locale"],{label:t.$t("title.currencyLocale")}),{default:r(()=>[l(L,{value:e(n).meta.currency_locale,"onUpdate:value":a[0]||(a[0]=o=>e(n).meta.currency_locale=o),class:"w-52","show-search":"","filter-option":y,disabled:e(_)&&e(d),"dropdown-class-name":"nc-dropdown-currency-cell-locale"},{default:r(()=>[(i(!0),A(O,null,U(e(P),(o,v)=>(i(),u(m,{key:v,value:o.value},{default:r(()=>[R("div",re,[l(p,{"show-on-truncate-only":"",class:"flex-1 truncate"},{title:r(()=>[B(D(o.text),1)]),default:r(()=>[B(" "+D(o.text),1)]),_:2},1024),e(n).meta.currency_locale===o.value?(i(),u(w(("iconMap"in t?t.iconMap:e(g)).check),{key:0,id:"nc-selected-item-icon",class:"text-primary w-4 h-4"})):C("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])]),_:1},16,["label"])]),_:1}),l(S,{span:12},{default:r(()=>[l(N,T(e(M)["meta.currency_code"],{label:t.$t("title.currencyCode")}),{default:r(()=>[l(L,{value:e(n).meta.currency_code,"onUpdate:value":a[1]||(a[1]=o=>e(n).meta.currency_code=o),class:"w-52","show-search":"","filter-option":y,disabled:e(_)&&e(d),"dropdown-class-name":"nc-dropdown-currency-cell-code"},{default:r(()=>[(i(!0),A(O,null,U(e(h),(o,v)=>(i(),u(m,{key:v,value:o},{default:r(()=>[R("div",ae,[B(D(o)+" ",1),e(n).meta.currency_code===o?(i(),u(w(("iconMap"in t?t.iconMap:e(g)).check),{key:0,id:"nc-selected-item-icon",class:"text-primary w-4 h-4"})):C("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])]),_:1},16,["label"])]),_:1}),e(_)&&e(d)?(i(),u(S,{key:0},{default:r(()=>[R("span",ne,D(e(I)),1)]),_:1})):C("",!0)]),_:1})}}});export{et as default};
