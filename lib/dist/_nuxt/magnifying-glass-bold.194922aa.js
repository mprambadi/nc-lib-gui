import{$ as k,r as w,g as B,eL as U,eM as N,cv as R,o as V,c as D,a as E}from"./entry.96205fa0.js";import{r as J}from"./index.0c5b3837.js";function A(d){const f=J(),{user:c}=k(),t=w({}),u="userSortConfig",v="default",S=B(()=>t.value.field?{[t.value.field]:t.value.direction}:{});function x(){var o;try{const e=localStorage.getItem(u),r=e?JSON.parse(e):{};if(r&&j(r))t.value=(o=c.value)!=null&&o.id?r[c.value.id]||{}:r[v]||{};else throw new Error("Invalid sort config stored in local storage")}catch(e){console.error(e),localStorage.removeItem(u),t.value={}}}function y(o){var e;try{o.field&&o.direction?t.value={...o}:t.value={};const r=localStorage.getItem(u),s=r?JSON.parse(r):{};(e=c.value)!=null&&e.id?t.value.field?s[c.value.id]=t.value:delete s[c.value.id]:s[v]=t.value,localStorage.setItem(u,JSON.stringify(s))}catch(r){console.error("Error while saving sort configuration into local storage:",r)}}function I(o,e=t.value){let r=[];d==="Workspace"?r=Object.values(U):d==="Org"?r=Object.values(N):d==="Project"&&(r=Object.values(R)),o=f(o);const s=o.findIndex(l=>{var i;return(i=l==null?void 0:l.roles)==null?void 0:i.includes("super")}),n=e.field==="roles"&&s!==-1?o.splice(s,1):null;let a=o.sort((l,i)=>{var p,g,m,O;switch(e.field){case"roles":{const h=(p=l==null?void 0:l.roles)==null?void 0:p.split(",")[0],_=(g=i==null?void 0:i.roles)==null?void 0:g.split(",")[0];return e.direction==="asc"?r.indexOf(h)-r.indexOf(_):r.indexOf(_)-r.indexOf(h)}case"email":return e.direction==="asc"?(m=l[e.field])==null?void 0:m.localeCompare(i[e.field]):(O=i[e.field])==null?void 0:O.localeCompare(l[e.field])}return 0});return n&&n.length&&(e.direction==="desc"?a=[...a,n[0]]:a=[n[0],...a]),a}function j(o,e={field:"email",direction:"asc"}){for(const r in o)if(!Object.keys(o[r]).every(n=>Object.prototype.hasOwnProperty.call(e,n)))return!1;return!0}return{sorts:t,sortDirection:S,loadSorts:x,saveOrUpdate:y,handleGetSortedData:I}}const M={class:"nc-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},P=E("path",{fill:"currentColor",d:"M232.49 215.51L185 168a92.12 92.12 0 1 0-17 17l47.53 47.54a12 12 0 0 0 17-17ZM44 112a68 68 0 1 1 68 68a68.07 68.07 0 0 1-68-68"},null,-1),G=[P];function L(d,f){return V(),D("svg",M,[...G])}const C={name:"ph-magnifying-glass-bold",render:L};export{C as _,A as u};
