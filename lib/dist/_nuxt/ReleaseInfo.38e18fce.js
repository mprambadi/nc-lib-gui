import{_ as k}from"./Button.vue.02ce6d5b.js";import{_ as z}from"./nuxt-link.672ede79.js";import{o as l,c as _,a as t,f as C,$ as M,g as B,i as N,O as u,b as n,w as i,d,t as r,T as H,X as R,Y as I,C as A}from"./entry.96205fa0.js";import{D}from"./index.6c1d17b6.js";import{_ as S}from"./index.c968c966.js";import"./index.9e8f59f4.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isSymbol.d46b4957.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Dropdown.1dedd322.js";import"./RightOutlined.3ce786f5.js";const T={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},E=t("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"},null,-1),G=[E];function O(m,s){return l(),_("svg",T,[...G])}const X={name:"mdi-close",render:O},Y={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},j=t("path",{fill:"currentColor",d:"m13.13 22.19l-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27zM5.64 12.5l-3.83-1.63l6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M19.22 4c.28 0 .53 0 .74.05c.17 1.39-.02 4.25-3.3 7.53c-1.7 1.71-3.73 3.02-6.01 3.89l-2.15-2.1c.92-2.31 2.23-4.34 3.92-6.03C15.18 4.58 17.64 4 19.22 4m0-2c-1.98 0-4.98.69-8.22 3.93c-2.19 2.19-3.5 4.6-4.35 6.71c-.28.75-.09 1.57.46 2.13l2.13 2.12c.38.38.89.61 1.42.61c.23 0 .47-.06.7-.15A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61S20.7 2 19.22 2m-4.68 7.46c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83c-.78.78-2.05.78-2.83 0m-5.66 7.07l-1.41-1.41zM6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22zM2 22h1.41l4.77-4.76l-1.42-1.41L2 20.59zm0-2.83l4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76z"},null,-1),q=[j];function F(m,s){return l(),_("svg",Y,[...q])}const J={name:"mdi-rocket-launch-outline",render:F},K={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},P=t("path",{fill:"currentColor",d:"M15 20a1 1 0 0 0 1-1V4H8a1 1 0 0 0-1 1v11H5V5a3 3 0 0 1 3-3h11a3 3 0 0 1 3 3v1h-2V5a1 1 0 0 0-1-1a1 1 0 0 0-1 1v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-1h11a2 2 0 0 0 2 2M9 6h5v2H9zm0 4h5v2H9zm0 4h5v2H9z"},null,-1),Q=[P];function U(m,s){return l(),_("svg",K,[...Q])}const W={name:"mdi-script-text-outline",render:U},Z={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ee=t("path",{fill:"currentColor",d:"m7 10l5 5l5-5z"},null,-1),te=[ee];function ne(m,s){return l(),_("svg",Z,[...te])}const oe={name:"mdi-menu-down",render:ne},se={key:0,class:"flex items-center"},ce={class:"flex gap-1 items-center text-white"},ae={class:"text-sm font-weight-medium"},ie={class:"mt-1 bg-white shadow-lg !border"},re={class:"nc-menu-item"},le={class:"nc-menu-item"},Le=C({__name:"ReleaseInfo",setup(m){const{$api:s}=A(),{currentVersion:c,latestRelease:o,hiddenRelease:p,appInfo:f}=M(),h=B({get(){var e,a;return(e=c.value)!=null&&e.includes("-beta.")||(a=o.value)!=null&&a.includes("-beta.")?!1:c.value&&o.value&&c.value!==o.value&&o.value!==p.value},set(e){p.value=e?null:o.value}});async function g(){try{const e=await s.utils.appVersion();e&&e.releaseVersion&&e.currentVersion?(c.value=e.currentVersion,o.value=e.releaseVersion):(c.value=null,o.value=null)}catch(e){R.error(await I(e))}}return N(async()=>await g()),(e,a)=>{const $=oe,w=k,x=W,v=z,b=J,L=S,y=X,V=D;return u(h)&&!u(f).ee?(l(),_("div",se,[n(V,{trigger:["click"],placement:"bottom","overlay-class-name":"nc-dropdown-upgrade-menu"},{overlay:i(()=>[t("div",ie,[n(v,{"no-prefetch":"","no-rel":"",class:"!text-primary !no-underline",to:"https://github.com/nocodb/nocodb/releases",target:"_blank"},{default:i(()=>[t("div",re,[n(x),d(" "+r(u(o))+" "+r(e.$t("activity.upgrade.releaseNote")),1)])]),_:1}),n(v,{"no-prefetch":"","no-rel":"",class:"!text-primary !no-underline",to:"https://docs.nocodb.com/getting-started/upgrading",target:"_blank"},{default:i(()=>[t("div",le,[n(b),d(r(e.$t("activity.upgrade.howTo")),1)])]),_:1}),n(L,{class:"!m-0"}),t("div",{class:"nc-menu-item",onClick:a[0]||(a[0]=_e=>h.value=!1)},[n(y),d(r(e.$t("general.hideMenu")),1)])])]),default:i(()=>[n(w,{class:"!bg-primary !border-none !mr-3",size:"small"},{default:i(()=>[t("div",ce,[t("span",ae,r(e.$t("activity.upgrade.available")),1),n($)])]),_:1})]),_:1})])):H("",!0)}}});export{Le as default};
