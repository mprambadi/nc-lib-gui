import{ak as m,am as L,f as D,ai as K,bb as Q,F as Y,l as Z,i as ee,bt as ae,r as V,bP as ne,an as E,ap as H,aj as x,b as M,H as R,g as j,ba as te,av as le}from"./entry.96205fa0.js";import{V as ue}from"./Checkbox.cf2cdba0.js";import{u as T}from"./FormItemContext.b19eb48c.js";import{_ as re}from"./createForOfIteratorHelper.f2005dfe.js";var oe=function(){return{name:String,prefixCls:String,options:{type:Array,default:function(){return[]}},disabled:Boolean,id:String}},ie=function(){return m(m({},oe()),{},{defaultValue:{type:Array},value:{type:Array},onChange:{type:Function},"onUpdate:value":{type:Function}})},ce=function(){return{prefixCls:String,defaultChecked:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:L.any,name:String,id:String,indeterminate:{type:Boolean,default:void 0},type:{type:String,default:"checkbox"},autofocus:{type:Boolean,default:void 0},onChange:Function,"onUpdate:checked":Function,onClick:Function,skipGroup:{type:Boolean,default:!1}}},de=function(){return m(m({},ce()),{},{indeterminate:{type:Boolean,default:!1}})},W=Symbol("CheckboxGroupContext"),se=["indeterminate","skipGroup","id"],ve=["onMouseenter","onMouseleave","onInput","class","style"];const G=D({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:de(),setup:function(a,v){var f=v.emit,c=v.attrs,I=v.slots,P=v.expose,S=T(),C=K("checkbox",a),b=C.prefixCls,d=C.direction,t=Q(W,void 0),g=Symbol("checkboxUniId");Y(function(){!a.skipGroup&&t&&t.registerValue(g,a.value)}),Z(function(){t&&t.cancelValue(g)}),ee(function(){ae(a.checked!==void 0||t||a.value===void 0,"Checkbox","`value` is not validate prop, do you mean `checked`?")});var k=function(e){var n=e.target.checked;f("update:checked",n),f("change",e)},y=V(),w=function(){var e;(e=y.value)===null||e===void 0||e.focus()},B=function(){var e;(e=y.value)===null||e===void 0||e.blur()};return P({focus:w,blur:B}),function(){var p,e,n=ne((p=I.default)===null||p===void 0?void 0:p.call(I)),u=a.indeterminate,r=a.skipGroup,o=a.id,l=o===void 0?S.id.value:o,h=E(a,se),A=c.onMouseenter,F=c.onMouseleave;c.onInput;var _=c.class,X=c.style,q=E(c,ve),s=m(m({},h),{},{id:l,prefixCls:b.value},q);t&&!r?(s.onChange=function(){for(var N=arguments.length,U=new Array(N),O=0;O<N;O++)U[O]=arguments[O];f.apply(void 0,["change"].concat(U)),t.toggleOption({label:n,value:a.value})},s.name=t.name.value,s.checked=t.mergedValue.value.indexOf(a.value)!==-1,s.disabled=a.disabled||t.disabled.value,s.indeterminate=u):s.onChange=k;var z=H((e={},x(e,"".concat(b.value,"-wrapper"),!0),x(e,"".concat(b.value,"-rtl"),d.value==="rtl"),x(e,"".concat(b.value,"-wrapper-checked"),s.checked),x(e,"".concat(b.value,"-wrapper-disabled"),s.disabled),e),_),J=H(x({},"".concat(b.value,"-indeterminate"),u));return M("label",{class:z,style:X,onMouseenter:A,onMouseleave:F},[M(ue,m(m({},s),{},{class:J,ref:y}),null),n.length?M("span",null,[n]):null])}}}),$=D({compatConfig:{MODE:3},name:"ACheckboxGroup",props:ie(),setup:function(a,v){var f=v.slots,c=v.emit,I=v.expose,P=T(),S=K("checkbox",a),C=S.prefixCls,b=S.direction,d=V((a.value===void 0?a.defaultValue:a.value)||[]);R(function(){return a.value},function(){d.value=a.value||[]});var t=j(function(){return a.options.map(function(e){return typeof e=="string"||typeof e=="number"?{label:e,value:e}:e})}),g=V(Symbol()),k=V(new Map),y=function(n){k.value.delete(n),g.value=Symbol()},w=function(n,u){k.value.set(n,u),g.value=Symbol()},B=V(new Map);R(g,function(){var e=new Map,n=re(k.value.values()),u;try{for(n.s();!(u=n.n()).done;){var r=u.value;e.set(r,!0)}}catch(o){n.e(o)}finally{n.f()}B.value=e});var p=function(n){var u=d.value.indexOf(n.value),r=le(d.value);u===-1?r.push(n.value):r.splice(u,1),a.value===void 0&&(d.value=r);var o=r.filter(function(l){return B.value.has(l)}).sort(function(l,h){var A=t.value.findIndex(function(_){return _.value===l}),F=t.value.findIndex(function(_){return _.value===h});return A-F});c("update:value",o),c("change",o),P.onFieldChange()};return te(W,{cancelValue:y,registerValue:w,toggleOption:p,mergedValue:d,name:j(function(){return a.name}),disabled:j(function(){return a.disabled})}),I({mergedValue:d}),function(){var e,n=a.id,u=n===void 0?P.id.value:n,r=null,o="".concat(C.value,"-group");return t.value&&t.value.length>0&&(r=t.value.map(function(l){var h;return M(G,{prefixCls:C.value,key:l.value.toString(),disabled:"disabled"in l?l.disabled:a.disabled,indeterminate:l.indeterminate,value:l.value,checked:d.value.indexOf(l.value)!==-1,onChange:l.onChange,class:"".concat(o,"-item")},{default:function(){return[l.label===void 0?(h=f.label)===null||h===void 0?void 0:h.call(f,l):l.label]}})})),M("div",{class:[o,x({},"".concat(o,"-rtl"),b.value==="rtl")],id:u},[r||((e=f.default)===null||e===void 0?void 0:e.call(f))])}}});G.Group=$;G.install=function(i){return i.component(G.name,G),i.component($.name,$),i};export{G as C,$ as _};
