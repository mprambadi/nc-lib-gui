import{_ as k}from"./Icon.vue.6d0583a0.js";import{_ as $}from"./Button.vue.02ce6d5b.js";import{_ as b}from"./Modal.vue.3dac5189.js";import{f as S,a5 as x,c8 as R,r as B,o as N,P,w as o,a as n,b as t,d as l,t as p,O as a,W as C,S as M,X as z,Y as F}from"./entry.96205fa0.js";import{u as I}from"./useSharedView.9e320acb.js";import{F as U}from"./index.886d43e1.js";import{_ as q}from"./Password.803cc3dc.js";import{_ as j}from"./FormItem.9f1f85f2.js";import"./index.9e8f59f4.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isSymbol.d46b4957.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./bases.965a49bb.js";import"./index.0c5b3837.js";import"./index.9b87fcff.js";import"./useSize.c98e621d.js";import"./identity.309e9ead.js";import"./_flatRest.ce557a88.js";import"./isPlainObject.631eb8fb.js";import"./_getPrototype.459a70cf.js";import"./FormItemContext.b19eb48c.js";import"./Input.3f1aaf0c.js";import"./antInputDirective.8ac36ea7.js";import"./Col.b3c5d725.js";import"./responsiveObserve.358bcfe9.js";import"./toArray.3561b70e.js";const A={class:"flex flex-row items-center gap-x-2"},D={class:"mt-2"},E={class:"flex flex-row justify-end gap-x-2 mt-6"},ge=S({__name:"AskPassword",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(c,{emit:u}){const s=x(c,"modelValue",u),_=R(),{loadSharedView:f}=I(),r=B({password:void 0}),d=async()=>{try{await f(_.params.viewId,r.value.password),s.value=!1}catch(e){console.error(e),z.error(await F(e))}};return(e,i)=>{const w=k,g=q,v=j,h=U,y=$,V=b;return N(),P(V,{visible:a(s),"onUpdate:visible":i[1]||(i[1]=m=>C(s)?s.value=m:null),c:"",size:"small",class:M({active:a(s)}),"mask-closable":!1},{header:o(()=>[n("div",A,[t(w,{icon:"key"}),l(" "+p(e.$t("msg.thisSharedViewIsProtected")),1)])]),default:o(()=>[n("div",D,[t(h,{ref:"formRef",model:a(r),name:"create-new-table-form",onFinish:d},{default:o(()=>[t(v,{name:"password",rules:[{required:!0,message:e.$t("msg.error.signUpRules.passwdRequired")}]},{default:o(()=>[t(g,{ref:"focus",value:a(r).password,"onUpdate:value":i[0]||(i[0]=m=>a(r).password=m),class:"nc-input-md","hide-details":"",size:"large",placeholder:e.$t("msg.enterPassword")},null,8,["value","placeholder"])]),_:1},8,["rules"])]),_:1},8,["model"]),n("div",E,[t(y,{type:"primary","html-type":"submit",onClick:d},{loading:o(()=>[l(p(e.$t("msg.verifyingPassword")),1)]),default:o(()=>[l(p(e.$t("general.unlock"))+" ",1)]),_:1})])])]),_:1},8,["visible","class"])}}});export{ge as default};
