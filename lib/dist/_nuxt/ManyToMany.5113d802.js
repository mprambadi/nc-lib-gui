import{f as W,bb as r,bA as q,r as _,aM as J,eD as Q,g as w,o as a,c as d,a as X,O as e,U as T,V as Y,P as v,cb as g,T as c,b as Z,W as b,a0 as j,a1 as A}from"./entry.96205fa0.js";import{_ as ee}from"./ItemChip.bf5fd0ab.js";import{_ as te}from"./Icon.vue.6d0583a0.js";import{C as oe,n as ne,o as ae,B as se,c as le,i as re,H as ie,m as ue}from"./index.9b87fcff.js";import{u as me}from"./useLTARStore.444f4bbc.js";import{u as ce}from"./index.a5de28c1.js";import{a as pe}from"./useSmartsheetRowStore.9c7d6fc1.js";import{_ as _e}from"./_plugin-vue_export-helper.c27b6911.js";import"./dataUtils.fb0a3616.js";import"./cell.810c4fd3.js";import"./index.9578d9a4.js";import"./index.e034edbd.js";import"./bases.965a49bb.js";import"./index.0c5b3837.js";import"./useSharedView.9e320acb.js";import"./deepCompare.d32ec333.js";import"./virtualCell.9142cfee.js";const de=j(()=>A(()=>import("./ListItems.5a582ca1.js"),["./ListItems.5a582ca1.js","./entry.96205fa0.js","./entry.d09b2482.css","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Pagination.2fe08f8a.js","./Icon.vue.6d0583a0.js","./Tooltip.vue.00c0d0fb.js","./Tooltip.b86f91a1.css","./index.b5e393d6.js","./toArray.3561b70e.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.dbc63a5f.js","./useState.5a301439.js","./CheckOutlined.3b90c20d.js","./SearchOutlined.c9794270.js","./FormItemContext.b19eb48c.js","./Pagination.fabf8b70.css","./Modal.vue.3dac5189.js","./DeleteModal.7ab6f524.css","./bases.965a49bb.js","./index.0c5b3837.js","./index.9b87fcff.js","./cell.810c4fd3.js","./useLTARStore.444f4bbc.js","./index.e034edbd.js","./useSharedView.9e320acb.js","./useSmartsheetRowStore.9c7d6fc1.js","./deepCompare.d32ec333.js","./dataUtils.fb0a3616.js","./virtualCell.9142cfee.js","./plus.ddb9e9b9.js","./magnify.92946687.js","./inbox.41f0ce87.js","./index.1431a68b.js","./Input.3f1aaf0c.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./TextArea.b81a19ed.js","./Password.803cc3dc.js","./Image.d07b34cf.js","./Element.a2c5baa8.js","./index.7e75edca.js","./Input.553ad305.js","./ListItems.d8bb4ba4.css"],import.meta.url).then(i=>i.default||i)),ve=j(()=>A(()=>import("./ListChildItems.92636a54.js"),["./ListChildItems.92636a54.js","./entry.96205fa0.js","./entry.d09b2482.css","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./_plugin-vue_export-helper.c27b6911.js","./Button.ff10bcb0.css","./Pagination.2fe08f8a.js","./Icon.vue.6d0583a0.js","./Tooltip.vue.00c0d0fb.js","./Tooltip.b86f91a1.css","./index.b5e393d6.js","./toArray.3561b70e.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.dbc63a5f.js","./useState.5a301439.js","./CheckOutlined.3b90c20d.js","./SearchOutlined.c9794270.js","./FormItemContext.b19eb48c.js","./Pagination.fabf8b70.css","./Modal.vue.3dac5189.js","./DeleteModal.7ab6f524.css","./bases.965a49bb.js","./index.0c5b3837.js","./index.9b87fcff.js","./cell.810c4fd3.js","./useLTARStore.444f4bbc.js","./index.e034edbd.js","./useSharedView.9e320acb.js","./useSmartsheetRowStore.9c7d6fc1.js","./deepCompare.d32ec333.js","./dataUtils.fb0a3616.js","./virtualCell.9142cfee.js","./plus.ddb9e9b9.js","./magnify.92946687.js","./inbox.41f0ce87.js","./index.1431a68b.js","./Input.3f1aaf0c.js","./isPlainObject.631eb8fb.js","./_getPrototype.459a70cf.js","./TextArea.b81a19ed.js","./Password.803cc3dc.js","./Image.d07b34cf.js","./Element.a2c5baa8.js","./Input.553ad305.js","./ListChildItems.7a5d47c9.css"],import.meta.url).then(i=>i.default||i)),fe={class:"flex items-center gap-1 w-full chips-wrapper"},ye={class:"chips flex items-center img-container flex-1 hm-items flex-nowrap min-w-0 overflow-hidden"},ke={key:0,class:"flex justify-end gap-1 min-h-[30px] items-center"},xe=W({__name:"ManyToMany",async setup(i){let I,R;const p=r(oe),M=r(ne),u=r(ae),E=r(se,q()),U=r(le),D=r(re,_(!1)),P=r(ie,_(!1)),s=_(!1),l=_(!1),{isUIAllowed:B}=J(),{state:f,isNew:y,removeLTARRef:O}=pe(),{relatedTableMeta:$,loadRelatedTableMeta:z,relatedTableDisplayValueProp:k,unlink:N}=me(p,M,y,E.trigger);[I,R]=Q(()=>z()),await I,R();const V=w(()=>{var t;return u!=null&&u.value?(u==null?void 0:u.value)??[]:y.value?((t=f==null?void 0:f.value)==null?void 0:t[p==null?void 0:p.value.title])??[]:[]}),x=w(()=>V.value.reduce((t,o)=>{if(!k.value)return t;const m=o[k.value];return m?[...t,{value:m,item:o}]:t},[])),S=async t=>{y.value?await O(t,p.value):await N(t)},F=()=>{l.value=!1,s.value=!0};ce(r(ue,_(!1)),t=>{switch(t.key){case"Enter":s.value=!0,t.stopPropagation();break}});const C=w(()=>{var t,o;return(o=(t=$.value)==null?void 0:t.columns)==null?void 0:o.find(m=>m.title===k.value)});return(t,o)=>{var L;const m=ee,h=te,H=de,G=ve;return a(),d("div",fe,[X("div",ye,[e(x)?(a(),d(T,{key:0},[(a(!0),d(T,null,Y(e(x),(n,K)=>(a(),v(m,{key:K,item:n.item,value:n.value,column:e(C),"show-unlink-button":!0,onUnlink:Ce=>S(n.item)},null,8,["item","value","column","onUnlink"]))),128)),((L=e(x))==null?void 0:L.length)===10?(a(),d("span",{key:0,class:"caption pointer ml-1 grey--text",onClick:o[0]||(o[0]=g(n=>l.value=!0,["stop"]))}," more... ")):c("",!0)],64)):c("",!0)]),!e(P)||e(U)?(a(),d("div",ke,[Z(h,{icon:"expand",class:"text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-arrow-expand",onClick:o[1]||(o[1]=g(n=>l.value=!0,["stop"]))}),!e(D)&&e(B)("dataEdit")?(a(),v(h,{key:0,icon:"plus",class:"text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-plus",onClick:o[2]||(o[2]=g(n=>s.value=!0,["stop"]))})):c("",!0)])):c("",!0),e(s)||e(l)?(a(),v(H,{key:1,modelValue:e(s),"onUpdate:modelValue":o[3]||(o[3]=n=>b(s)?s.value=n:null),column:e(C)},null,8,["modelValue","column"])):c("",!0),e(s)||e(l)?(a(),v(G,{key:2,modelValue:e(l),"onUpdate:modelValue":o[4]||(o[4]=n=>b(l)?l.value=n:null),"cell-value":e(V),column:e(C),onAttachRecord:F},null,8,["modelValue","cell-value","column"])):c("",!0)])}}});const Oe=_e(xe,[["__scopeId","data-v-e7d1f3c6"]]);export{Oe as default};
