import{o as t,c as n,a as i,f as B,$ as M,bF as d,aM as S,c8 as A,a6 as D,bz as N,eR as E,c9 as I,O as e,au as L,P as c,w as f,T as b,t as O,S as P,U as y,b as _,d as R,a0 as K,a1 as U,C as j}from"./entry.96205fa0.js";import{_ as F}from"./Icon.vue.6d0583a0.js";import{_ as G}from"./Button.vue.02ce6d5b.js";import{u as H}from"./share.e4643132.js";import{c as J,a as Q}from"./bases.965a49bb.js";import"./index.9e8f59f4.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isSymbol.d46b4957.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./index.0c5b3837.js";const W={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},X=i("path",{fill:"currentColor",d:"M6 22q-.825 0-1.412-.587T4 20V10q0-.825.588-1.412T6 8h1V6q0-2.075 1.463-3.537T12 1q2.075 0 3.538 1.463T17 6v2h1q.825 0 1.413.588T20 10v10q0 .825-.587 1.413T18 22zm0-2h12V10H6zm6-3q.825 0 1.413-.587T14 15q0-.825-.587-1.412T12 13q-.825 0-1.412.588T10 15q0 .825.588 1.413T12 17M9 8h6V6q0-1.25-.875-2.125T12 3q-1.25 0-2.125.875T9 6zM6 20V10z"},null,-1),Y=[X];function Z(o,a){return t(),n("svg",W,[...Y])}const ee={name:"material-symbols-lock-outline",render:Z},se={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},te=i("path",{fill:"currentColor",d:"M12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m-1-2.05V18q-.825 0-1.412-.587T9 16v-1l-4.8-4.8q-.075.45-.137.9T4 12q0 3.025 1.988 5.3T11 19.95m6.9-2.55q.5-.55.9-1.187t.662-1.325q.263-.688.4-1.413T20 12q0-2.45-1.363-4.475T15 4.6V5q0 .825-.587 1.413T13 7h-2v2q0 .425-.288.713T10 10H8v2h6q.425 0 .713.288T15 13v3h1q.65 0 1.175.388T17.9 17.4"},null,-1),oe=[te];function ae(o,a){return t(),n("svg",se,[...oe])}const ne={name:"material-symbols-public",render:ae},ie=K(()=>U(()=>import("./View.08f59341.js").then(o=>o.V),["./View.08f59341.js","./entry.96205fa0.js","./entry.d09b2482.css","./Tooltip.vue.00c0d0fb.js","./Tooltip.b86f91a1.css","./_plugin-vue_export-helper.c27b6911.js","./useSmartsheetStore.7d51347e.js","./views.2c163cf7.js","./bases.965a49bb.js","./index.0c5b3837.js","./useSharedView.9e320acb.js","./index.9b87fcff.js","./index.e034edbd.js","./useDashboard.0f55d174.js","./index.5b05c4cf.js","./index.4a1cb0c9.js","./FormItemContext.b19eb48c.js","./Password.803cc3dc.js","./Input.3f1aaf0c.js","./antInputDirective.8ac36ea7.js","./index.b5e393d6.js","./toArray.3561b70e.js","./isMobile.e2e89480.js","./useMemo.dbc63a5f.js","./useState.5a301439.js","./CheckOutlined.3b90c20d.js","./SearchOutlined.c9794270.js","./ProjectIcon.384805e6.js","./Icon.vue.6d0583a0.js","./ProjectIcon.c2be51ae.css","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./Button.ff10bcb0.css","./useCopy.00050b95.js","./share.e4643132.js","./v3-infinite-loading.e5e5dc2d.js","./index.b32e91d7.js","./useBreakpoint.2e009418.js","./responsiveObserve.358bcfe9.js","./useSize.c98e621d.js","./eagerComputed.5bad0f6f.js","./index.55d21d38.js","./View.718d3800.css"],import.meta.url).then(o=>o.default||o)),le=["data-sharetype"],re={key:0,class:"flex flex-row items-center w-full gap-x-1"},ce={class:"flex"},de=i("div",{class:"flex-1"},null,-1),_e={class:"flex flex-col justify-center h-full"},me={class:"flex flex-row items-center w-full"},Ve=B({__name:"ShareProject",props:{disabled:{type:Boolean},isViewToolbar:{type:Boolean}},setup(o){const{isMobileMode:a,getMainUrl:T}=M(),{visibility:l,showShareModal:m}=d(H()),{activeTable:v}=d(J()),{base:q,isSharedBase:u}=d(Q()),{$e:w}=j(),{isUIAllowed:x}=S(),k=A();D(document,"keydown",async s=>{const r=N()?s.metaKey:s.ctrlKey;if(s.altKey&&!s.shiftKey&&!r)switch(s.keyCode){case 73:{E()||(w("c:shortcut",{key:"ALT + I"}),m.value=!0);break}}});const V=async()=>{const s=T();window.open(`${s||""}#/copy-shared-base?base=${k.params.baseId}`,"_blank","noopener,noreferrer")};return(s,r)=>{const $=ne,g=ee,p=F,h=G,C=ie,z=I("e");return t(),n(y,null,[!e(u)&&e(x)("baseShare")&&e(l)!=="hidden"&&(e(v)||e(q))?(t(),n("div",{key:0,class:"flex flex-col justify-center h-full","data-testid":"share-base-button","data-sharetype":e(l)},[L((t(),c(h,{size:e(a)?"medium":"small",class:P(["z-10 !rounded-lg",{"!px-2":!e(a),"!px-0 !max-w-8.5 !min-w-8.5":e(a)}]),type:"primary",disabled:s.disabled,onClick:r[0]||(r[0]=ue=>m.value=!0)},{default:f(()=>[e(a)?(t(),c(p,{key:1,icon:"mobileShare"})):(t(),n("div",re,[e(l)==="public"?(t(),c($,{key:0,class:"h-3.5"})):e(l)==="private"?(t(),c(g,{key:1,class:"h-3.5"})):b("",!0),i("div",ce,O(s.$t("activity.share")),1)]))]),_:1},8,["size","class","disabled"])),[[z,["c:share:open"]]])],8,le)):e(u)?(t(),n(y,{key:1},[de,i("div",_e,[i("div",me,[_(h,{class:"z-10 !rounded-lg !px-2 !bg-[#ff133e]",size:"small",type:"primary",disabled:s.disabled,onClick:V},{default:f(()=>[_(p,{class:"mr-1",icon:"duplicate"}),R(" Copy Base ")]),_:1},8,["disabled"])])])],64)):b("",!0),_(C,{"is-view-toolbar":s.isViewToolbar},null,8,["is-view-toolbar"])],64)}}});export{Ve as default};
