import{f as M,c8 as R,M as $,eD as j,ba as l,r as v,ff as B,D as E,fg as H,N as T,H as U,o as m,P as g,w as a,ca as q,bA as z,O as e,T as b,b as r,a as p,t as d,cl as A,c as L,W as O,S as W,cd as G,ah as J}from"./entry.5958c07b.js";import{b as K,c as Q,R as X,M as Y}from"./index.9b87fcff.js";import{a as Z}from"./useSharedFormViewStore.16325514.js";import{u as ee}from"./useSmartsheetStore.f1a70558.js";import{u as oe}from"./index.4be866d0.js";import{F as se}from"./index.b06c8b67.js";import{_ as te}from"./Password.f52125e7.js";import{_ as ae}from"./FormItem.0bbf90a3.js";import{_ as re}from"./_plugin-vue_export-helper.c27b6911.js";import"./bases.e6c8e3c4.js";import"./index.0feaca99.js";import"./index.e61e381a.js";import"./useSmartsheetRowStore.5b92cc1b.js";import"./deepCompare.d32ec333.js";import"./dataUtils.3f874ca1.js";import"./virtualCell.427fa223.js";import"./views.4281cbf1.js";import"./useSharedView.e8f68616.js";import"./useSize.fad35fe8.js";import"./identity.34c7640e.js";import"./isSymbol.114fe557.js";import"./_flatRest.39582a58.js";import"./debounce.7c24f171.js";import"./toNumber.e09cd85a.js";import"./isPlainObject.ccda79fe.js";import"./_getPrototype.c1f3bae2.js";import"./FormItemContext.ddc65fa5.js";import"./Input.dca3a2bc.js";import"./antInputDirective.8ac36ea7.js";import"./Col.a97e3e76.js";import"./responsiveObserve.0baefba6.js";import"./toArray.fd74ce6f.js";const ne={class:"w-full flex flex-col gap-4"},ie={class:"text-xl font-semibold"},le={key:0,class:"mb-2 text-sm text-red-500"},me={type:"submit",class:"mt-4 scaling-btn bg-opacity-100"},pe=M({__name:"[viewId]",async setup(de){let _,u;oe("nc-left-sidebar",{hasSidebar:!1});const h=R(),{t:y}=$(),{loadSharedView:c,sharedView:x,sharedViewMeta:I,meta:f,notFound:S,password:k,passwordDlg:o,passwordError:w}=Z(h.params.viewId);if([_,u]=j(()=>c()),await _,u(),!S.value)l(X,z()),l(Y,f),l(K,v(!0)),l(Q,v(!0)),ee(x,f,!0),B(I.value.rtl?"rtl":"ltr");else throw E("/error/404"),H({statusCode:404,statusMessage:y("msg.pageNotFound")});const t=T({password:""});return U(()=>t.password,()=>{k.value=t.password}),(n,s)=>{const F=G,V=te,C=ae,N=se,P=J,D=q;return m(),g(D,null,{default:a(()=>[e(o)?b("",!0):(m(),g(F,{key:0})),r(P,{visible:e(o),"onUpdate:visible":s[1]||(s[1]=i=>O(o)?o.value=i:null),class:W({active:e(o)}),closable:!1,width:"min(100%, 450px)",centered:"",footer:null,"mask-closable":!1,"wrap-class-name":"nc-modal-shared-form-password-dlg",onClose:s[2]||(s[2]=i=>o.value=!1)},{default:a(()=>[p("div",ne,[p("h2",ie,d(n.$t("msg.thisSharedViewIsProtected")),1),r(N,{layout:"vertical","no-style":"",model:e(t),onFinish:e(c)},{default:a(()=>[r(C,{name:"password",rules:[{required:!0,message:n.$t("msg.error.signUpRules.passwdRequired")}]},{default:a(()=>[r(V,{value:e(t).password,"onUpdate:value":s[0]||(s[0]=i=>e(t).password=i),size:"large",placeholder:n.$t("msg.enterPassword")},null,8,["value","placeholder"])]),_:1},8,["rules"]),r(A,{name:"layout"},{default:a(()=>[e(w)?(m(),L("div",le,d(e(w)),1)):b("",!0)]),_:1}),p("button",me,d(n.$t("general.unlock")),1)]),_:1},8,["model","onFinish"])])]),_:1},8,["visible","class"])]),_:1})}}});const Le=re(pe,[["__scopeId","data-v-bff6a2a0"]]);export{Le as default};
