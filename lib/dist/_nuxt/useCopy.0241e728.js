import{M as d,ag as u,ah as y}from"./entry.5958c07b.js";const h=(c=!1)=>{const{t:n}=d(),t=async(e,a=0)=>{try{const o=document.createElement("textarea");o.innerHTML=e,document.body.appendChild(o),o.select();const r=document.execCommand("copy");if(document.body.removeChild(o),!r&&a<3)return new Promise((i,p)=>setTimeout(()=>t(e,a+1).then(i).catch(p),100));if(!r)throw new Error("failed");return r}catch{if(!c)throw new Error(n("msg.error.copyToClipboardError"));return y.info({title:"Copy failed, please manually copy it from here",content:e,class:"nc-copy-failed-modal",width:"550px"}),!1}},{copy:s,isSupported:l}=u();return{copy:async e=>{try{if(l.value)return await s(e),!0}catch{}return t(e)}}};export{h as u};
