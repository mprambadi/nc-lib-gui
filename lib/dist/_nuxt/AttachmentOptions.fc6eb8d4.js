import{b as V}from"./EditOrAddProvider.vue.8b187915.js";import{f as K,a5 as U,$ as B,r as k,H as I,o as x,P as E,w as c,b as a,ae as _,O as t,W as b,d as w,c as A,t as y,a as $,T as D}from"./entry.96205fa0.js";import{C as G}from"./index.0b4c0f1e.js";import{_ as H}from"./index.1431a68b.js";import{_ as R}from"./index.11096307.js";import{_ as W}from"./index.d579646c.js";import{_ as F}from"./FormItem.9f1f85f2.js";import{a as J,_ as Q}from"./index.208c1883.js";import"./Icon.vue.6d0583a0.js";import"./Button.vue.02ce6d5b.js";import"./index.9e8f59f4.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isSymbol.d46b4957.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./index.9b87fcff.js";import"./views.2c163cf7.js";import"./bases.965a49bb.js";import"./index.0c5b3837.js";import"./useSharedView.9e320acb.js";import"./validation.64563eeb.js";import"./index.886d43e1.js";import"./useSize.c98e621d.js";import"./identity.309e9ead.js";import"./_flatRest.ce557a88.js";import"./isPlainObject.631eb8fb.js";import"./_getPrototype.459a70cf.js";import"./FormItemContext.b19eb48c.js";import"./vuedraggable.umd.5a03c14e.js";import"./v3-infinite-loading.e5e5dc2d.js";import"./index.6c1d17b6.js";import"./Dropdown.1dedd322.js";import"./RightOutlined.3ce786f5.js";import"./Input.3f1aaf0c.js";import"./antInputDirective.8ac36ea7.js";import"./cell.810c4fd3.js";import"./index.b5e393d6.js";import"./toArray.3561b70e.js";import"./isMobile.e2e89480.js";import"./useMemo.dbc63a5f.js";import"./useState.5a301439.js";import"./CheckOutlined.3b90c20d.js";import"./SearchOutlined.c9794270.js";import"./Checkbox.cf2cdba0.js";import"./createForOfIteratorHelper.f2005dfe.js";import"./TextArea.b81a19ed.js";import"./Password.803cc3dc.js";import"./eagerComputed.5bad0f6f.js";import"./Col.b3c5d725.js";import"./responsiveObserve.358bcfe9.js";const M=[{title:"Application",key:"application",children:[{title:"application/dicom",key:"application/dicom"},{title:"application/eps",key:"application/eps"},{title:"application/epub+zip",key:"application/epub+zip"},{title:"application/gzip",key:"application/gzip"},{title:"application/mxf",key:"application/mxf"},{title:"application/ogg",key:"application/ogg"},{title:"application/pdf",key:"application/pdf"},{title:"application/pgp-encrypted",key:"application/pgp-encrypted"},{title:"application/postscript",key:"application/postscript"},{title:"application/rtf",key:"application/rtf"},{title:"application/vnd.ms-asf",key:"application/vnd.ms-asf"},{title:"application/vnd.ms-cab-compressed",key:"application/vnd.ms-cab-compressed"},{title:"application/vnd.ms-fontobject",key:"application/vnd.ms-fontobject"},{title:"application/vnd.ms-htmlhelp",key:"application/vnd.ms-htmlhelp"},{title:"application/vnd.ms-outlook",key:"application/vnd.ms-outlook"},{title:"application/vnd.oasis.opendocument.presentation",key:"application/vnd.oasis.opendocument.presentation"},{title:"application/vnd.oasis.opendocument.spreadsheet",key:"application/vnd.oasis.opendocument.spreadsheet"},{title:"application/vnd.oasis.opendocument.text",key:"application/vnd.oasis.opendocument.text"},{title:"application/vnd.openxmlformats-officedocument.presentationml.presentation",key:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{title:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",key:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{title:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",key:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{title:"application/vnd.sketchup.skp",key:"application/vnd.sketchup.skp"},{title:"application/vnd.tcpdump.pcap",key:"application/vnd.tcpdump.pcap"},{title:"application/wasm",key:"application/wasm"},{title:"application/x-7z-compressed",key:"application/x-7z-compressed"},{title:"application/x-apache-arrow",key:"application/x-apache-arrow"},{title:"application/x-apple-diskimage",key:"application/x-apple-diskimage"},{title:"application/x-asar",key:"application/x-asar"},{title:"application/x-blender",key:"application/x-blender"},{title:"application/x-bzip2",key:"application/x-bzip2"},{title:"application/x-cfb",key:"application/x-cfb"},{title:"application/x-compress",key:"application/x-compress"},{title:"application/x-deb",key:"application/x-deb"},{title:"application/x-elf",key:"application/x-elf"},{title:"application/x-esri-shape",key:"application/x-esri-shape"},{title:"application/x-google-chrome-extension",key:"application/x-google-chrome-extension"},{title:"application/x-indesign",key:"application/x-indesign"},{title:"application/x-lzh-compressed",key:"application/x-lzh-compressed"},{title:"application/x-lzip",key:"application/x-lzip"},{title:"application/x-mie",key:"application/x-mie"},{title:"application/x-mobipocket-ebook",key:"application/x-mobipocket-ebook"},{title:"application/x-msdownload",key:"application/x-msdownload"},{title:"application/x-nintendo-nes-rom",key:"application/x-nintendo-nes-rom"},{title:"application/x-rar-compressed",key:"application/x-rar-compressed"},{title:"application/x-rpm",key:"application/x-rpm"},{title:"application/x-shockwave-flash",key:"application/x-shockwave-flash"},{title:"application/x-sqlite3",key:"application/x-sqlite3"},{title:"application/x-tar",key:"application/x-tar"},{title:"application/x-unix-archive",key:"application/x-unix-archive"},{title:"application/x-xpinstall",key:"application/x-xpinstall"},{title:"application/x-xz",key:"application/x-xz"},{title:"application/x.apple.alias",key:"application/x.apple.alias"},{title:"application/x.ms.shortcut",key:"application/x.ms.shortcut"},{title:"application/xml",key:"application/xml"},{title:"application/zip",key:"application/zip"},{title:"application/zstd",key:"application/zstd"}]},{title:"Audio",key:"audio",children:[{title:"audio/aac",key:"audio/aac"},{title:"audio/aiff",key:"audio/aiff"},{title:"audio/amr",key:"audio/amr"},{title:"audio/ape",key:"audio/ape"},{title:"audio/midi",key:"audio/midi"},{title:"audio/mp4",key:"audio/mp4"},{title:"audio/mpeg",key:"audio/mpeg"},{title:"audio/ogg",key:"audio/ogg"},{title:"audio/opus",key:"audio/opus"},{title:"audio/qcelp",key:"audio/qcelp"},{title:"audio/vnd.dolby.dd-raw",key:"audio/vnd.dolby.dd-raw"},{title:"audio/vnd.wave",key:"audio/vnd.wave"},{title:"audio/wavpack",key:"audio/wavpack"},{title:"audio/x-dsf",key:"audio/x-dsf"},{title:"audio/x-flac",key:"audio/x-flac"},{title:"audio/x-it",key:"audio/x-it"},{title:"audio/x-m4a",key:"audio/x-m4a"},{title:"audio/x-ms-asf",key:"audio/x-ms-asf"},{title:"audio/x-musepack",key:"audio/x-musepack"},{title:"audio/x-s3m",key:"audio/x-s3m"},{title:"audio/x-voc",key:"audio/x-voc"},{title:"audio/x-xm",key:"audio/x-xm"}]},{title:"Image",key:"image",children:[{title:"image/apng",key:"image/apng"},{title:"image/avif",key:"image/avif"},{title:"image/bmp",key:"image/bmp"},{title:"image/bpg",key:"image/bpg"},{title:"image/flif",key:"image/flif"},{title:"image/gif",key:"image/gif"},{title:"image/heic",key:"image/heic"},{title:"image/heic-sequence",key:"image/heic-sequence"},{title:"image/heif",key:"image/heif"},{title:"image/heif-sequence",key:"image/heif-sequence"},{title:"image/icns",key:"image/icns"},{title:"image/jls",key:"image/jls"},{title:"image/jp2",key:"image/jp2"},{title:"image/jpeg",key:"image/jpeg"},{title:"image/jpm",key:"image/jpm"},{title:"image/jpx",key:"image/jpx"},{title:"image/jxl",key:"image/jxl"},{title:"image/ktx",key:"image/ktx"},{title:"image/mj2",key:"image/mj2"},{title:"image/png",key:"image/png"},{title:"image/tiff",key:"image/tiff"},{title:"image/vnd.adobe.photoshop",key:"image/vnd.adobe.photoshop"},{title:"image/vnd.dwg",key:"image/vnd.dwg"},{title:"image/vnd.ms-photo",key:"image/vnd.ms-photo"},{title:"image/webp",key:"image/webp"},{title:"image/x-adobe-dng",key:"image/x-adobe-dng"},{title:"image/x-canon-cr2",key:"image/x-canon-cr2"},{title:"image/x-canon-cr3",key:"image/x-canon-cr3"},{title:"image/x-fujifilm-raf",key:"image/x-fujifilm-raf"},{title:"image/x-icon",key:"image/x-icon"},{title:"image/x-nikon-nef",key:"image/x-nikon-nef"},{title:"image/x-olympus-orf",key:"image/x-olympus-orf"},{title:"image/x-panasonic-rw2",key:"image/x-panasonic-rw2"},{title:"image/x-sony-arw",key:"image/x-sony-arw"},{title:"image/x-xcf",key:"image/x-xcf"}]},{title:"Video",key:"video",children:[{title:"video/3gpp",key:"video/3gpp"},{title:"video/3gpp2",key:"video/3gpp2"},{title:"video/MP1S",key:"video/MP1S"},{title:"video/MP2P",key:"video/MP2P"},{title:"video/mp2t",key:"video/mp2t"},{title:"video/mp4",key:"video/mp4"},{title:"video/mpeg",key:"video/mpeg"},{title:"video/ogg",key:"video/ogg"},{title:"video/quicktime",key:"video/quicktime"},{title:"video/vnd.avi",key:"video/vnd.avi"},{title:"video/webm",key:"video/webm"},{title:"video/x-flv",key:"video/x-flv"},{title:"video/x-m4v",key:"video/x-m4v"},{title:"video/x-matroska",key:"video/x-matroska"},{title:"video/x-ms-asf",key:"video/x-ms-asf"}]},{title:"Misc",key:"misc",children:[{title:"model/3mf",key:"model/3mf"},{title:"model/gltf-binary",key:"model/gltf-binary"},{title:"model/stl",key:"model/stl"},{title:"text/calendar",key:"text/calendar"},{title:"text/vcard",key:"text/vcard"},{title:"text/plain",key:"text/plain"},{title:"text/html",key:"text/html"},{title:"text/xml",key:"text/xml"},{title:"text/calendar",key:"text/calendar"},{title:"text/javascript",key:"text/javascript"},{title:"text/css",key:"text/css"},{title:"text/csv",key:"text/csv"},{title:"font/otf",key:"font/otf"},{title:"font/ttf",key:"font/ttf"},{title:"font/woff",key:"font/woff"},{title:"font/woff2",key:"font/woff2"}]}],z=M.map(u=>u.children).flat(1),X={key:0,class:"mt-[5px]"},Y={key:0},Z={class:"text-primary font-bold"},L={key:1},Ze=K({__name:"AttachmentOptions",props:{value:{}},emits:["update:value"],setup(u,{emit:O}){const o=U(u,"value",O),T={},{setAdditionalValidations:C,validateInfos:f}=V(),{appInfo:g}=B(),p=k("");C({...T}),o.value.meta={...g.value.ee&&{maxNumberOfAttachments:Math.max(1,+g.value.ncMaxAttachmentsAllowed||50)||50,maxAttachmentSize:Math.max(1,+g.value.ncMaxAttachmentsAllowed||20)||20,supportedAttachmentMimeTypes:["*"]},...o.value.meta};const d=k([]),j=k(!0),r=k(!0),v=(l,e)=>{if(!e)return null;let s;for(let n=0;n<e.length;n++){const m=e[n];m.children&&(m.children.some(h=>h.key===l)?s=m.key:v(l,m.children)&&(s=v(l,m.children)))}return s};function q(l){l.target.checked?o.value.meta.supportedAttachmentMimeTypes=["*"]:o.value.meta.supportedAttachmentMimeTypes=["application","audio","image","video","misc"]}return I(p,l=>{d.value=z==null?void 0:z.map(e=>e.title.includes(l)?v(e.key,M):null).filter((e,s,n)=>e&&n.indexOf(e)===s),p.value=l,j.value=!0}),(l,e)=>{const s=W,n=F,m=J,h=G,P=H,S=R,N=Q;return x(),E(N,{class:"my-2",gutter:"8"},{default:c(()=>[a(m,{span:12},{default:c(()=>[a(n,_(t(f)["meta.maxNumberOfAttachments"],{label:"Max Number of Attachments"}),{default:c(()=>[a(s,{value:t(o).meta.maxNumberOfAttachments,"onUpdate:value":e[0]||(e[0]=i=>t(o).meta.maxNumberOfAttachments=i),min:1,class:"!w-full nc-attachment-max-count"},null,8,["value"])]),_:1},16)]),_:1}),a(m,{span:12},{default:c(()=>[a(n,_(t(f)["meta.maxAttachmentSize"],{label:"Max Attachment Size (MB)"}),{default:c(()=>[a(s,{value:t(o).meta.maxAttachmentSize,"onUpdate:value":e[1]||(e[1]=i=>t(o).meta.maxAttachmentSize=i),min:1,class:"!w-full nc-attachment-max-size"},null,8,["value"])]),_:1},16)]),_:1}),a(m,{class:"mt-4",span:24},{default:c(()=>[a(n,_(t(f)["meta.supportedAttachmentMimeTypes"],{class:"!p-[10px] border-2"}),{default:c(()=>[a(h,{checked:t(r),"onUpdate:checked":e[2]||(e[2]=i=>b(r)?r.value=i:null),class:"nc-allow-all-mime-type-checkbox",name:"virtual",onChange:q},{default:c(()=>[w(" Allow All Mime Types ")]),_:1},8,["checked"]),t(r)?D("",!0):(x(),A("div",X,[a(P,{value:t(p),"onUpdate:value":e[3]||(e[3]=i=>b(p)?p.value=i:null),class:"mt-[5px] mb-[15px]",placeholder:"Search"},null,8,["value"]),a(S,{"expanded-keys":t(d),"onUpdate:expandedKeys":e[4]||(e[4]=i=>b(d)?d.value=i:null),checkedKeys:t(o).meta.supportedAttachmentMimeTypes,"onUpdate:checkedKeys":e[5]||(e[5]=i=>t(o).meta.supportedAttachmentMimeTypes=i),checkable:"",height:250,"tree-data":t(M),"auto-expand-parent":t(j),class:"!bg-gray-50 my-[10px]"},{title:c(({title:i})=>[i.indexOf(t(p))>-1?(x(),A("span",Y,[w(y(i.substr(0,i.indexOf(t(p))))+" ",1),$("span",Z,y(t(p)),1),w(" "+y(i.substr(i.indexOf(t(p))+t(p).length)),1)])):(x(),A("span",L,y(i),1))]),_:1},8,["expanded-keys","checkedKeys","tree-data","auto-expand-parent"])]))]),_:1},16)]),_:1})]),_:1})}}});export{Ze as default};
