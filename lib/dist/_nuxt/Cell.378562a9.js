import{f as q,$ as z,aF as S,bb as u,r as l,aM as H,ba as K,o as p,c as b,O as o,P as f,S as w,T as m,w as v,d as $,t as F,a as h,U as G,W as M,b as W,cb as x,a0 as J,a1 as Q,p as X,e as Y}from"./entry.96205fa0.js";import{_ as Z}from"./CellIcon.0a028b40.js";import{_ as oo}from"./Tooltip.vue.00c0d0fb.js";import{_ as eo}from"./EditOrAddProvider.vue.8b187915.js";import{c as to,f as no,I as so,l as lo,j as ro,C as ao}from"./index.9b87fcff.js";import{D as io}from"./index.6c1d17b6.js";import{_ as po}from"./_plugin-vue_export-helper.c27b6911.js";import"./cell.810c4fd3.js";import"./bases.965a49bb.js";import"./index.0c5b3837.js";import"./Icon.vue.6d0583a0.js";import"./Button.vue.02ce6d5b.js";import"./index.9e8f59f4.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isSymbol.d46b4957.js";import"./views.2c163cf7.js";import"./useSharedView.9e320acb.js";import"./validation.64563eeb.js";import"./index.886d43e1.js";import"./FormItem.9f1f85f2.js";import"./identity.309e9ead.js";import"./_getPrototype.459a70cf.js";import"./Col.b3c5d725.js";import"./responsiveObserve.358bcfe9.js";import"./toArray.3561b70e.js";import"./FormItemContext.b19eb48c.js";import"./useSize.c98e621d.js";import"./_flatRest.ce557a88.js";import"./isPlainObject.631eb8fb.js";import"./vuedraggable.umd.5a03c14e.js";import"./v3-infinite-loading.e5e5dc2d.js";import"./index.1431a68b.js";import"./Input.3f1aaf0c.js";import"./antInputDirective.8ac36ea7.js";import"./SearchOutlined.c9794270.js";import"./TextArea.b81a19ed.js";import"./Password.803cc3dc.js";import"./index.0b4c0f1e.js";import"./Checkbox.cf2cdba0.js";import"./createForOfIteratorHelper.f2005dfe.js";import"./index.b5e393d6.js";import"./isMobile.e2e89480.js";import"./useMemo.dbc63a5f.js";import"./useState.5a301439.js";import"./CheckOutlined.3b90c20d.js";import"./Dropdown.1dedd322.js";import"./RightOutlined.3ce786f5.js";const mo=J(()=>Q(()=>import("./Menu.bd59ba40.js"),["./Menu.bd59ba40.js","./Icon.vue.6d0583a0.js","./entry.96205fa0.js","./entry.d09b2482.css","./Menu.vue.55c6ca4d.js","./_plugin-vue_export-helper.c27b6911.js","./Menu.eff4a609.css","./CellIcon.0a028b40.js","./index.9b87fcff.js","./cell.810c4fd3.js","./bases.965a49bb.js","./index.0c5b3837.js","./DeleteModal.vue.49c1a59b.js","./Button.vue.02ce6d5b.js","./index.9e8f59f4.js","./debounce.1d5af9bf.js","./toNumber.ed208f2f.js","./isSymbol.d46b4957.js","./Button.ff10bcb0.css","./Modal.vue.b787f37f.js","./DeleteModal.7ab6f524.css","./useSmartsheetStore.7d51347e.js","./views.2c163cf7.js","./useSharedView.9e320acb.js","./index.e034edbd.js","./index.0b4c0f1e.js","./Checkbox.cf2cdba0.js","./FormItemContext.b19eb48c.js","./createForOfIteratorHelper.f2005dfe.js","./index.c968c966.js","./useViewSorts.b8ab8a7a.js","./index.6c1d17b6.js","./Dropdown.1dedd322.js","./RightOutlined.3ce786f5.js","./Menu.476baf6e.css"],import.meta.url).then(n=>n.default||n)),j=n=>(X("data-v-91dcc819"),n=n(),Y(),n),co=["data-test-id"],uo={key:2,class:"text-red-500"},_o=j(()=>h("div",{class:"flex-1"},null,-1)),fo=j(()=>h("div",null,null,-1)),vo=q({__name:"Cell",props:{column:{},required:{type:[Boolean,Number]},hideMenu:{type:Boolean},hideIcon:{type:Boolean}},setup(n){const y=n,{isMobileMode:k}=z(),I=S(y,"hideMenu"),r=u(to,l(!1)),D=u(no,l(!1)),B=u(so,l(!1)),d=u(lo,l(!1)),a=l(!1),O=u(ro,l(!1)),e=S(y,"column"),{isUIAllowed:c}=H();K(ao,e);const i=l(!1),_=l(null),A=async t=>{_.value=t,i.value=!0},g=()=>{_.value=null,i.value=!1},E=()=>{D.value||!r.value&&!d.value&&c("fieldEdit")&&!k.value&&(i.value=!0)},N=t=>{D.value||r.value||d.value||!c("fieldEdit")&&!k.value||(t.preventDefault(),t.stopPropagation(),a.value=!a.value)},P=t=>{a.value&&(t.preventDefault(),t.stopPropagation()),a.value=!1};return(t,s)=>{const R=Z,V=oo,L=mo,T=eo,U=io;return p(),b("div",{class:w(["flex items-center w-full text-xs text-gray-500 font-weight-medium",{"h-full":o(e),"!text-gray-400":o(O)}]),onDblclick:E,onContextmenu:x(N,["right"]),onClick:P},[o(e)&&!y.hideIcon?(p(),f(R,{key:0,class:w({"self-start":o(r)||o(B)})},null,8,["class"])):m("",!0),o(e)?(p(),f(V,{key:1,class:w([{"cursor-pointer pt-0.25":!o(r)&&o(c)("fieldEdit")&&!o(I)&&!o(d),"cursor-default":o(r)||!o(c)("fieldEdit")||o(I),truncate:!o(r)},"name pl-1"]),placement:"bottom","show-on-truncate-only":""},{title:v(()=>[$(F(o(e).title),1)]),default:v(()=>[h("span",{"data-test-id":o(e).title},F(o(e).title),9,co)]),_:1},8,["class"])):m("",!0),o(e).rqd&&!o(e).cdf||t.required?(p(),b("span",uo,"Â *")):m("",!0),o(I)?m("",!0):(p(),b(G,{key:3},[_o,!o(r)&&!o(d)&&o(c)("fieldEdit")?(p(),f(L,{key:0,"is-open":o(a),"onUpdate:isOpen":s[0]||(s[0]=C=>M(a)?a.value=C:null),onAddColumn:A,onEdit:E},null,8,["is-open"])):m("",!0)],64)),W(U,{visible:o(i),"onUpdate:visible":s[3]||(s[3]=C=>M(i)?i.value=C:null),class:"h-full",trigger:["click"],placement:"bottomRight","overlay-class-name":"nc-dropdown-edit-column"},{overlay:v(()=>[o(i)?(p(),f(T,{key:0,column:o(_)?null:o(e),"column-position":o(_),class:"w-full",onSubmit:g,onCancel:g,onClick:s[1]||(s[1]=x(()=>{},["stop"])),onKeydown:s[2]||(s[2]=x(()=>{},["stop"]))},null,8,["column","column-position"])):m("",!0)]),default:v(()=>[fo]),_:1},8,["visible"])],34)}}});const ce=po(vo,[["__scopeId","data-v-91dcc819"]]);export{ce as default};
