import{_ as M}from"./Icon.vue.129448d5.js";import{a as U,f as A}from"./bases.e6c8e3c4.js";import{A as P,b as E,f as L}from"./index.9b87fcff.js";import{f as O,bF as z,bb as b,r as v,c9 as F,o as n,P as r,w as y,a,cb as G,t as h,b as g,d as m,O as t,Q as d,R as w,T as f,S as R,au as Q,W,X,a8 as q,C as J}from"./entry.5958c07b.js";import{u as K}from"./index.852e6a77.js";import{D as Y}from"./index.dc13a4d6.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.0feaca99.js";import"./Dropdown.041b2468.js";import"./RightOutlined.7161c742.js";const ee={class:"flex items-center gap-0.5"},te={class:"w-full bg-white shadow-lg p-1.5 menu-filter-dropdown border-1 border-gray-200 rounded-md overflow-hidden","data-testid":"nc-height-menu"},se={class:"text-xs text-gray-500 px-3 pt-2 pb-1 select-none"},oe=O({__name:"RowHeight",setup(ie){const{isSharedBase:I}=z(U()),s=b(P,v()),V=b(E,v(!1)),B=b(L,v(!1)),{$api:D}=J(),{addUndo:H,defineViewScope:N}=A(),l=v(!1),c=async(o,e=!1)=>{var p;if((p=s.value)!=null&&p.id){if(o===s.value.view.row_height)return;e||H({redo:{fn:i=>c(i,!0),args:[o]},undo:{fn:i=>c(i,!0),args:[s.value.view.row_height||0]},scope:N({view:s.value})});try{!V.value&&!I.value&&await D.dbView.gridUpdate(s.value.id,{row_height:o}),s.value.view.row_height=o,l.value=!1}catch{X.error("There was an error while updating view!")}}};return K(l),(o,e)=>{const p=q,i=M,S=Y,T=F("e");return n(),r(S,{visible:t(l),"onUpdate:visible":e[5]||(e[5]=u=>W(l)?l.value=u:null),"offset-y":"",class:"",trigger:["click"],"overlay-class-name":"nc-dropdown-height-menu"},{overlay:y(()=>{var u,k,x,C,$,j;return[a("div",te,[a("div",{class:"flex flex-col w-full text-sm",onClick:e[4]||(e[4]=G(()=>{},["stop"]))},[a("div",se,h(o.$t("objects.rowHeight")),1),a("div",{class:"nc-row-height-option",onClick:e[0]||(e[0]=_=>c(0))},[g(i,{icon:"heightShort",class:"nc-row-height-icon"}),m(" "+h(o.$t("objects.heightClass.short"))+" ",1),((u=t(s))==null?void 0:u.view).row_height?f("",!0):(n(),r(d(t(w).check),{key:0,class:"text-primary w-4 h-4"}))]),a("div",{class:"nc-row-height-option",onClick:e[1]||(e[1]=_=>c(1))},[g(i,{icon:"heightMedium",class:"nc-row-height-icon"}),m(" "+h(o.$t("objects.heightClass.medium"))+" ",1),((k=t(s))==null?void 0:k.view).row_height===1?(n(),r(d(t(w).check),{key:0,class:"text-primary w-4 h-4"})):f("",!0)]),a("div",{class:R(["nc-row-height-option",{active:((x=t(s))==null?void 0:x.view).row_height===2}]),onClick:e[2]||(e[2]=_=>c(2))},[g(i,{icon:"heightTall",class:"nc-row-height-icon"}),m(" "+h(o.$t("objects.heightClass.tall"))+" ",1),((C=t(s))==null?void 0:C.view).row_height===2?(n(),r(d(t(w).check),{key:0,class:"text-primary w-4 h-4"})):f("",!0)],2),a("div",{class:R(["nc-row-height-option",{active:(($=t(s))==null?void 0:$.view).row_height===3}]),onClick:e[3]||(e[3]=_=>c(3))},[g(i,{icon:"heightExtra",class:"nc-row-height-icon"}),m(" "+h(o.$t("objects.heightClass.extra"))+" ",1),((j=t(s))==null?void 0:j.view).row_height===3?(n(),r(d(t(w).check),{key:0,class:"text-primary w-4 h-4"})):f("",!0)],2)])])]}),default:y(()=>[a("div",null,[Q((n(),r(p,{class:"nc-height-menu-btn nc-toolbar-btn",disabled:t(B)},{default:y(()=>[a("div",ee,[(n(),r(d(t(w).rowHeight),{class:"!h-3.75 !w-3.75"}))])]),_:1},8,["disabled"])),[[T,["c:row-height"]]])])]),_:1},8,["visible"])}}});const ve=Z(oe,[["__scopeId","data-v-6ca0368c"]]);export{ve as default};
