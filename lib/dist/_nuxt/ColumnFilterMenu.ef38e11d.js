import{u as B,_ as M}from"./ColumnFilter.092e669f.js";import{_ as S}from"./Dropdown.vue.93f98e1e.js";import{f as j,A as I,G as L}from"./index.9b87fcff.js";import{f as N,bb as c,r as e,$ as V,g as A,H as O,ba as T,c9 as $,o as i,P as n,w as l,b as z,a as d,S as E,O as t,au as G,Q as R,R as U,c as u,t as f,T as _,W as H,a8 as P}from"./entry.96205fa0.js";import{u as Q}from"./index.e38f94a1.js";import{a as W}from"./useSmartsheetStore.7d51347e.js";import"./Select.vue.5a200a6a.js";import"./Button.vue.02ce6d5b.js";import"./index.9e8f59f4.js";import"./debounce.1d5af9bf.js";import"./toNumber.ed208f2f.js";import"./isSymbol.d46b4957.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Icon.vue.6d0583a0.js";import"./index.b5e393d6.js";import"./toArray.3561b70e.js";import"./antInputDirective.8ac36ea7.js";import"./isMobile.e2e89480.js";import"./useMemo.dbc63a5f.js";import"./useState.5a301439.js";import"./CheckOutlined.3b90c20d.js";import"./SearchOutlined.c9794270.js";import"./FormItemContext.b19eb48c.js";import"./FieldListAutoCompleteDropdown.vue.f84f4d57.js";import"./VirtualCellIcon.79739fcf.js";import"./virtualCell.9142cfee.js";import"./CellIcon.0a028b40.js";import"./cell.810c4fd3.js";import"./bases.965a49bb.js";import"./index.0c5b3837.js";import"./Tooltip.vue.00c0d0fb.js";import"./useViewColumns.8927231f.js";import"./index.e034edbd.js";import"./SingleSelect.47af94ce.js";import"./index.a5de28c1.js";import"./index.b7feb234.js";import"./MultiSelect.b96d67b5.js";import"./close-circle.04e3f837.js";import"./DatePicker.283bce89.js";import"./dayjs.06eaa8eb.js";import"./index.afb04277.js";import"./createForOfIteratorHelper.f2005dfe.js";import"./YearPicker.ad24df06.js";import"./TimePicker.d85b8110.js";import"./Rating.vue.d4dc8d9d.js";import"./useRefs.3fea1e39.js";import"./Duration.d9c03913.js";import"./durationUtils.4b78cf29.js";import"./Percent.fb3d8d9f.js";import"./index.26c1c1ff.js";import"./Currency.f8cd98cd.js";import"./Decimal.6df51c36.js";import"./Integer.baa7a240.js";import"./Float.abb61a7f.js";import"./Text.vue.60b702e7.js";import"./User.f2b140f5.js";import"./UserIcon.7f59375b.js";import"./index.5b05c4cf.js";import"./index.0b4c0f1e.js";import"./Checkbox.cf2cdba0.js";import"./index.6c1d17b6.js";import"./Dropdown.1dedd322.js";import"./RightOutlined.3ce786f5.js";import"./views.2c163cf7.js";import"./useSharedView.9e320acb.js";const q={class:"flex items-center gap-2"},J={key:0,class:"text-capitalize !text-sm font-medium"},K={key:1,class:"bg-brand-50 text-brand-500 py-1 px-2 text-md rounded-md"},no=N({__name:"ColumnFilterMenu",setup(X){const b=c(j,e(!1)),s=c(I,e()),{isMobileMode:v}=V(),h=e(),{nestedFilters:w}=W(),{nonDeletedFilters:x,loadFilters:y}=B(s,void 0,A(()=>!0),()=>!1,w.value,!0),r=e(0);O(()=>{var o;return(o=s==null?void 0:s.value)==null?void 0:o.id},async o=>{o&&(await y(),r.value=x.value.length||0)},{immediate:!0});const m=e(!1),C=e({});return T(L,C),Q(m),(o,a)=>{const g=P,k=M,F=S,D=$("e");return i(),n(F,{visible:t(m),"onUpdate:visible":a[1]||(a[1]=p=>H(m)?m.value=p:null),trigger:["click"],"overlay-class-name":"nc-dropdown-filter-menu nc-toolbar-dropdown",class:"!xs:hidden"},{overlay:l(()=>[z(k,{ref_key:"filterComp",ref:h,class:"nc-table-toolbar-menu","auto-save":!0,"data-testid":"nc-filter-menu","onUpdate:filtersLength":a[0]||(a[0]=p=>r.value=p)},null,512)]),default:l(()=>[d("div",{class:E({"nc-active-btn":t(r)})},[G((i(),n(g,{class:"nc-filter-menu-btn nc-toolbar-btn txt-sm",disabled:t(b)},{default:l(()=>[d("div",q,[(i(),n(R(t(U).filter),{class:"h-4 w-4"})),t(v)?_("",!0):(i(),u("span",J,f(o.$t("activity.filter")),1)),t(r)?(i(),u("span",K,f(t(r)),1)):_("",!0)])]),_:1},8,["disabled"])),[[D,["c:filter"]]])],2)]),_:1},8,["visible"])}}});export{no as default};
